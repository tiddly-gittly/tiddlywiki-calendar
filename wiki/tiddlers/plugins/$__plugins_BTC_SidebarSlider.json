{"tiddlers":{"$:/core/ui/EditTemplate/body/default":{"title":"$:/core/ui/EditTemplate/body/default","text":"\\import $:/plugins/BTC/SidebarSlider/procedures/sliders\n\n\\function get.edit-preview-state()\r\n[{$:/config/ShowEditPreview/PerTiddler}!match[yes]then[$:/state/showeditpreview]] :else[<qualified-preview-state>] +[get[text]] :else[[no]]\r\n\\end\n\n\\function get.tc-editor.class()\r\n[{!!type}is[blank]then[tc-edit-texteditor tc-edit-texteditor-body]]\r\n[{!!type}is[blank]then<get.edit-preview-state>match[yes]then<identifier>addprefix[tc-edit-texteditor-identified-]]\r\n[{!!type}addprefix[$:/config/EditorTypeMappings/]get[text]!match[bitmap]then[tc-edit-texteditor tc-edit-texteditor-body]]\r\n[{!!type}addprefix[$:/config/EditorTypeMappings/]get[text]!match[bitmap]then<get.edit-preview-state>match[yes]then<identifier>addprefix[tc-edit-texteditor-identified-]]\r\n[{!!type}addprefix[$:/config/EditorTypeMappings/]get[text]match[bitmap]then[tc-edit-bitmapeditor tc-edit-bitmapeditor-body]]\r\n[{!!type}addprefix[$:/config/EditorTypeMappings/]get[text]match[bitmap]then<get.edit-preview-state>match[yes]then<identifier>addprefix[tc-edit-bitmapeditor-identified-]] +[join[ ]]\r\n\\end\n\n\\function get.tc-tiddler-preview-preview.class() tc-tiddler-preview-preview [<identifier>addprefix[tc-tiddler-preview-preview-identified-]] +[join[ ]]\n\n\\function get.slider.condition() [<get.edit-preview-state>match[yes]] :else[[no]]\n\n\\function resizer.state.tiddler() [[$:/state/resizing/editor-preview-]addsuffix<identifier>]\n\n\\function resizer.class() [[tc-editor-preview-slider-]addsuffix<identifier>]\n\n\\define config-visibility-title()\r\n$:/config/EditorToolbarButtons/Visibility/$(currentTiddler)$\r\n\\end\n\n\\define importFileActions()\r\n<$action-popup $state=<<importState>> $coords=\"(0,0,0,0)\" $floating=\"yes\"/>\r\n\\end\n\n\\procedure tp-tiddler-editor-preview()\r\n<div\r\n\tclass={{{ [<get.edit-preview-state>match[yes]then[tc-tiddler-preview]else[tc-tiddler-preview-hidden]] [<get.edit-preview-state>match[yes]then[tc-tiddler-preview-identified-]addsuffix<identifier>] [[tc-tiddler-editor]] +[join[ ]] }}}>\n\n\t<$transclude tiddler=\"$:/core/ui/EditTemplate/body/editor\" mode=\"inline\"/>\n\n\t<$list filter=\"[<editPreviewStateTiddler>get[text]match[yes]]\" variable=\"ignore\">\n\n\t\t<div class=<<get.tc-tiddler-preview-preview.class>> data-tiddler-title={{!!draft.title}} data-tags={{!!tags}}>\n\n\t\t\t<$transclude tiddler={{$:/state/editpreviewtype}} mode=\"inline\">\n\n\t\t\t\t<$transclude tiddler=\"$:/core/ui/EditTemplate/body/preview/output\" mode=\"inline\"/>\n\n\t\t\t</$transclude>\n\n\t\t</div>\n\n\t</$list>\n\n</div>\r\n\\end\n\n\\whitespace trim\r\n<$let\r\n\tqualified-preview-state=<<qualify \"$:/state/showeditpreview\">>\r\n\teditPreviewStateTiddler={{{ [{$:/config/ShowEditPreview/PerTiddler}!match[yes]then[$:/state/showeditpreview]] :else[<qualified-preview-state>] }}}\r\n\timportTitle=<<qualify $:/ImportImage>>\r\n\timportState=<<qualify $:/state/ImportImage>>\r\n\tidentifier={{{ [<qualify>addsuffix<currentTiddler>sha256[]] }}}\r\n\tsidebarWidthTiddler={{{ [<identifier>addprefix[$:/state/resizer/previewwidth-]] }}}\r\n>\r\n\t<$dropzone importTitle=<<importTitle>>\r\n\t\tautoOpenOnImport=\"no\"\r\n\t\tcontentTypesFilter={{$:/config/Editor/ImportContentTypesFilter}}\r\n\t\tclass=\"tc-dropzone-editor\"\r\n\t\tenable={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}}\r\n\t\tfilesOnly=\"yes\"\r\n\t\tactions=<<importFileActions>>\r\n\t>\r\n\t\t<div>\r\n\t\t\t<$transclude\r\n\t\t\t\t$variable=\"editor-preview-slider\"\r\n\t\t\t\tclass=\"tc-edit-texteditor-slider\"\r\n\t\t\t\ttemplate=\"tp-tiddler-editor-preview\"\r\n\t\t\t\tmode=\"inline\"\r\n\t\t\t\tpadding=\"0px\"\r\n\t\t\t\tsliderWidth=<<get.theme.metric previewsliderwidth>>\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</$dropzone>\r\n</$let>"},"$:/core/ui/EditTemplate/body/editor":{"title":"$:/core/ui/EditTemplate/body/editor","text":"\\whitespace trim\n\n<$edit\n\n\tfield=\"text\"\r\n\tclass=<<get.tc-editor.class>>\r\n\tplaceholder={{$:/language/EditTemplate/Body/Placeholder}}\r\n\ttabindex={{$:/config/EditTabIndex}}\r\n\tfocus={{{ [{$:/config/AutoFocus}match[text]then[true]] ~[[false]] }}}\r\n\tcancelPopups=\"yes\"\r\n\tfileDrop={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}}\n\n><$set\n\n\tname=\"targetTiddler\"\r\n\tvalue=<<currentTiddler>>\n\n><$list\n\n\tfilter=\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]]\"\n\n><$reveal\n\n\ttype=\"nomatch\"\r\n\tstate=<<config-visibility-title>>\r\n\ttext=\"hide\"\r\n\tclass=\"tc-text-editor-toolbar-item-wrapper\"\n\n><$transclude\n\n\ttiddler=\"$:/core/ui/EditTemplate/body/toolbar/button\"\r\n\tmode=\"inline\"\n\n/></$reveal></$list><$list\n\n\tfilter=\"[all[shadows+tiddlers]tag[$:/tags/EditorTools]!has[draft.of]]\"\n\n><$list\r\n\tfilter={{!!condition}}\r\n\tvariable=\"list-condition\"\r\n><$transclude/>\r\n</$list></$list></$set></$edit>\r\n"},"$:/themes/tiddlywiki/centralised/functions":{"title":"$:/themes/tiddlywiki/centralised/functions","text":"\\function set.centralised() yes\r\n\\function set.storywidth.storyright() no\r\n\\function set.sidebarwidth() no\n\n\\function get.story-sidebar.overlap() 42px\n\n\\function sidebar.resizer.maxwidth() 21px\r\n\\function sidebar.resizer.width() [<get.theme.option sidebarposition>!match[left]then[min(calc(]addsuffix<get.theme.metric storypaddingright>addsuffix[ / 2),]addsuffix<sidebar.resizer.maxwidth>addsuffix[)]] :else[[min(calc(]addsuffix<get.theme.metric storypaddingleft>addsuffix[ / 2),]addsuffix<sidebar.resizer.maxwidth>addsuffix[)]]"},"$:/themes/tiddlywiki/centralised/metrics/sidebarminwidth":{"title":"$:/themes/tiddlywiki/centralised/metrics/sidebarminwidth","text":"350px"},"$:/themes/tiddlywiki/centralised/metrics/sliderchevroncontainerwidth":{"title":"$:/themes/tiddlywiki/centralised/metrics/sliderchevroncontainerwidth","text":"10.5px"},"$:/themes/tiddlywiki/centralised/metrics/sliderchevroncontainertransformx":{"title":"$:/themes/tiddlywiki/centralised/metrics/sliderchevroncontainertransformx","text":"0px"},"$:/themes/tiddlywiki/centralised/metrics/storyminwidth":{"title":"$:/themes/tiddlywiki/centralised/metrics/storyminwidth","text":"350px"},"$:/themes/tiddlywiki/centralised/metrics/storypaddingleft":{"title":"$:/themes/tiddlywiki/centralised/metrics/storypaddingleft","text":"42px"},"$:/themes/tiddlywiki/centralised/metrics/storypaddingright":{"title":"$:/themes/tiddlywiki/centralised/metrics/storypaddingright","text":"42px"},"$:/themes/tiddlywiki/centralised/metrics/storywidth":{"title":"$:/themes/tiddlywiki/centralised/metrics/storywidth","text":"770px"},"$:/themes/tiddlywiki/centralised/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/centralised/options/sidebarresizer","text":"show"},"$:/themes/tiddlywiki/centralised/styles.tid":{"title":"$:/themes/tiddlywiki/centralised/styles.tid","tags":"[[$:/tags/Stylesheet]]","text":"\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline conditional\n\n<%if [{$:/theme}match[$:/themes/tiddlywiki/centralised]] %>\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\n\thtml .tc-page-container {\r\n\t\ttext-align: center;\r\n\t}\n\n\thtml .<<get.theme.option storyriverclass>>, html .tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\tposition: relative;\r\n\t\twidth: min(<<get.theme.metric storywidth>>,calc(100% - (2 * <<get.theme.metric sidebarminwidth>>)));\r\n\t\tpadding: 42px <<get.theme.metric storypaddingright>> 42px <<get.theme.metric storypaddingleft>>;\r\n\t\tmargin: 0 auto;\r\n\t\ttext-align: left;\r\n\t\tdisplay: block;\r\n\t\tleft: auto;\r\n\t\tright: auto;\r\n\t}\n\n\thtml body.tc-body .tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\tmargin: 0 auto;\r\n\t\tpadding-right: <<get.theme.metric storypaddingright>>;\r\n\t\tpadding-left: <<get.theme.metric storypaddingleft>>;\r\n\t}\n\n\thtml .<<get.theme.option sidebarclass>> {\r\n\t\ttext-align: left;\r\n\t\tleft: 50%;\r\n\t\tright: 0;\r\n\t\tmargin-left: min(calc((100% - (2 * <<get.theme.metric sidebarminwidth>>)) / 2 - <<get.theme.metric storypaddingright>>),calc(<<get.theme.metric storywidth>> / 2 - <<get.theme.metric storypaddingright>>));\r\n\t\twidth: auto;\r\n\t}\n\n\tbody.tc-body .tc-sidebar-left .<<get.theme.option sidebarclass>> {\r\n\t\tmargin-left: 0;\r\n\t\tright: 50%;\r\n\t\tleft: 0;\r\n\t\tz-index: 1;\r\n\t\tmargin-right: min(calc((100% - (2 * <<get.theme.metric sidebarminwidth>>)) / 2 - <<get.theme.metric storypaddingleft>>),calc(<<get.theme.metric storywidth>> / 2 - <<get.theme.metric storypaddingleft>>));\r\n\t\tpadding-right: 0px;\r\n\t\tpadding-left: 42px;\r\n\t}\n\n\thtml[dir=\"rtl\"] body.tc-body .tc-sidebar-left .<<get.theme.option sidebarclass>> {\r\n\t\tpadding-right: 42px;\r\n\t\tpadding-left: 0;\r\n\t}\n\n\thtml[dir=\"rtl\"] .<<get.theme.option storyriverclass>>, html[dir=\"rtl\"] .<<get.theme.option sidebarclass>> {\r\n\t\ttext-align: right;\r\n\t}\n\n\thtml .tc-tiddler-frame, html .tc-sidebar-left .tc-tiddler-frame {\r\n\t\twidth: 100%;\r\n\t}\n\n}\n\n<% endif %>"},"$:/core/modules/widgets/edit-bitmap.js":{"title":"$:/core/modules/widgets/edit-bitmap.js","text":"/*\\\r\ntitle: $:/core/modules/widgets/edit-bitmap.js\r\ntype: application/javascript\r\nmodule-type: widget\r\n\r\nEdit-bitmap widget\r\n\r\n\\*/\r\n(function(){\r\n\r\n/*jslint node: true, browser: true */\r\n/*global $tw: false */\r\n\"use strict\";\r\n\r\n// Default image sizes\r\nvar DEFAULT_IMAGE_WIDTH = 600,\r\n\tDEFAULT_IMAGE_HEIGHT = 370,\r\n\tDEFAULT_IMAGE_TYPE = \"image/png\";\r\n\r\n// Configuration tiddlers\r\nvar LINE_WIDTH_TITLE = \"$:/config/BitmapEditor/LineWidth\",\r\n\tLINE_COLOUR_TITLE = \"$:/config/BitmapEditor/Colour\",\r\n\tLINE_OPACITY_TITLE = \"$:/config/BitmapEditor/Opacity\";\r\n\r\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\r\n\r\nvar EditBitmapWidget = function(parseTreeNode,options) {\r\n\tthis.initialise(parseTreeNode,options);\r\n};\r\n\r\n/*\r\nInherit from the base widget class\r\n*/\r\nEditBitmapWidget.prototype = new Widget();\r\n\r\n/*\r\nRender this widget into the DOM\r\n*/\r\nEditBitmapWidget.prototype.render = function(parent,nextSibling) {\r\n\tvar self = this;\r\n\t// Initialise the editor operations if they've not been done already\r\n\tif(!this.editorOperations) {\r\n\t\tEditBitmapWidget.prototype.editorOperations = {};\r\n\t\t$tw.modules.applyMethods(\"bitmapeditoroperation\",this.editorOperations);\r\n\t}\r\n\t// Save the parent dom node\r\n\tthis.parentDomNode = parent;\r\n\t// Compute our attributes\r\n\tthis.computeAttributes();\r\n\t// Execute our logic\r\n\tthis.execute();\r\n\t// Create the wrapper for the toolbar and render its content\r\n\tthis.toolbarNode = this.document.createElement(\"div\");\r\n\tthis.toolbarNode.className = \"tc-editor-toolbar\";\r\n\tparent.insertBefore(this.toolbarNode,nextSibling);\r\n\tthis.domNodes.push(this.toolbarNode);\r\n\tvar classes = this.getAttribute(\"class\",\"\").split(\" \");\r\n\tif(classes.indexOf(\"tc-edit-bitmapeditor\") === -1) {\r\n\t\tclasses.push(\"tc-edit-bitmapeditor\");\r\n\t}\r\n\t// Create the on-screen canvas\r\n\tthis.canvasDomNode = $tw.utils.domMaker(\"canvas\",{\r\n\t\tdocument: this.document,\r\n\t\t\"class\": classes.join(\" \"),\r\n\t\teventListeners: [{\r\n\t\t\tname: \"touchstart\", handlerObject: this, handlerMethod: \"handleTouchStartEvent\"\r\n\t\t},{\r\n\t\t\tname: \"touchmove\", handlerObject: this, handlerMethod: \"handleTouchMoveEvent\"\r\n\t\t},{\r\n\t\t\tname: \"touchend\", handlerObject: this, handlerMethod: \"handleTouchEndEvent\"\r\n\t\t},{\r\n\t\t\tname: \"mousedown\", handlerObject: this, handlerMethod: \"handleMouseDownEvent\"\r\n\t\t},{\r\n\t\t\tname: \"mousemove\", handlerObject: this, handlerMethod: \"handleMouseMoveEvent\"\r\n\t\t},{\r\n\t\t\tname: \"mouseup\", handlerObject: this, handlerMethod: \"handleMouseUpEvent\"\r\n\t\t}]\r\n\t});\r\n\t// Set the width and height variables\r\n\tthis.setVariable(\"tv-bitmap-editor-width\",this.canvasDomNode.width + \"px\");\r\n\tthis.setVariable(\"tv-bitmap-editor-height\",this.canvasDomNode.height + \"px\");\r\n\t// Render toolbar child widgets\r\n\tthis.renderChildren(this.toolbarNode,null);\r\n\t// // Insert the elements into the DOM\r\n\tparent.insertBefore(this.canvasDomNode,nextSibling);\r\n\tthis.domNodes.push(this.canvasDomNode);\r\n\t// Load the image into the canvas\r\n\tif($tw.browser) {\r\n\t\tthis.loadCanvas();\r\n\t}\r\n\t// Add widget message listeners\r\n\tthis.addEventListeners([\r\n\t\t{type: \"tm-edit-bitmap-operation\", handler: \"handleEditBitmapOperationMessage\"}\r\n\t]);\r\n};\r\n\r\nEditBitmapWidget.prototype.assignDomNodeClasses = function() {\r\n\tvar classes = this.getAttribute(\"class\",\"\").split(\" \");\r\n\tif(classes.indexOf(\"tc-edit-bitmapeditor\") === -1) {\r\n\t\tclasses.push(\"tc-edit-bitmapeditor\");\r\n\t}\r\n\tthis.canvasDomNode.className = classes.join(\" \");\r\n};\r\n\r\n/*\r\nHandle an edit bitmap operation message from the toolbar\r\n*/\r\nEditBitmapWidget.prototype.handleEditBitmapOperationMessage = function(event) {\r\n\t// Invoke the handler\r\n\tvar handler = this.editorOperations[event.param];\r\n\tif(handler) {\r\n\t\thandler.call(this,event);\r\n\t}\r\n};\r\n\r\n/*\r\nCompute the internal state of the widget\r\n*/\r\nEditBitmapWidget.prototype.execute = function() {\r\n\t// Get our parameters\r\n\tthis.editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\r\n\t// Make the child widgets\r\n\tthis.makeChildWidgets();\r\n};\r\n\r\n/*\r\nJust refresh the toolbar\r\n*/\r\nEditBitmapWidget.prototype.refresh = function(changedTiddlers) {\r\n\tvar changedAttributes = this.computeAttributes();\r\n\tif(changedAttributes[\"class\"]) {\r\n\t\tthis.assignDomNodeClasses();\r\n\t}\r\n\treturn this.refreshChildren(changedTiddlers);\r\n};\r\n\r\n/*\r\nSet the bitmap size variables and refresh the toolbar\r\n*/\r\nEditBitmapWidget.prototype.refreshToolbar = function() {\r\n\t// Set the width and height variables\r\n\tthis.setVariable(\"tv-bitmap-editor-width\",this.canvasDomNode.width + \"px\");\r\n\tthis.setVariable(\"tv-bitmap-editor-height\",this.canvasDomNode.height + \"px\");\r\n\t// Refresh each of our child widgets\r\n\t$tw.utils.each(this.children,function(childWidget) {\r\n\t\tchildWidget.refreshSelf();\r\n\t});\r\n};\r\n\r\nEditBitmapWidget.prototype.loadCanvas = function() {\r\n\tvar tiddler = this.wiki.getTiddler(this.editTitle),\r\n\t\tcurrImage = new Image();\r\n\t// Set up event handlers for loading the image\r\n\tvar self = this;\r\n\tcurrImage.onload = function() {\r\n\t\t// Copy the image to the on-screen canvas\r\n\t\tself.initCanvas(self.canvasDomNode,currImage.width,currImage.height,currImage);\r\n\t\t// And also copy the current bitmap to the off-screen canvas\r\n\t\tself.currCanvas = self.document.createElement(\"canvas\");\r\n\t\tself.initCanvas(self.currCanvas,currImage.width,currImage.height,currImage);\r\n\t\t// Set the width and height input boxes\r\n\t\tself.refreshToolbar();\r\n\t};\r\n\tcurrImage.onerror = function() {\r\n\t\t// Set the on-screen canvas size and clear it\r\n\t\tself.initCanvas(self.canvasDomNode,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\r\n\t\t// Set the off-screen canvas size and clear it\r\n\t\tself.currCanvas = self.document.createElement(\"canvas\");\r\n\t\tself.initCanvas(self.currCanvas,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\r\n\t\t// Set the width and height input boxes\r\n\t\tself.refreshToolbar();\r\n\t};\r\n\t// Get the current bitmap into an image object\r\n\tif(tiddler && tiddler.fields.type && tiddler.fields.text) {\r\n\t\tcurrImage.src = \"data:\" + tiddler.fields.type + \";base64,\" + tiddler.fields.text;\r\n\t} else {\r\n\t\tcurrImage.width = DEFAULT_IMAGE_WIDTH;\r\n\t\tcurrImage.height = DEFAULT_IMAGE_HEIGHT;\r\n\t\tcurrImage.onerror();\r\n\t}\r\n};\r\n\r\nEditBitmapWidget.prototype.initCanvas = function(canvas,width,height,image) {\r\n\tcanvas.width = width;\r\n\tcanvas.height = height;\r\n\tvar ctx = canvas.getContext(\"2d\");\r\n\tif(image) {\r\n\t\tctx.drawImage(image,0,0);\r\n\t} else {\r\n\t\tctx.fillStyle = \"#fff\";\r\n\t\tctx.fillRect(0,0,canvas.width,canvas.height);\r\n\t}\r\n};\r\n\r\n/*\r\n** Change the size of the canvas, preserving the current image\r\n*/\r\nEditBitmapWidget.prototype.changeCanvasSize = function(newWidth,newHeight) {\r\n\t// Create and size a new canvas\r\n\tvar newCanvas = this.document.createElement(\"canvas\");\r\n\tthis.initCanvas(newCanvas,newWidth,newHeight);\r\n\t// Copy the old image\r\n\tvar ctx = newCanvas.getContext(\"2d\");\r\n\tctx.drawImage(this.currCanvas,0,0);\r\n\t// Set the new canvas as the current one\r\n\tthis.currCanvas = newCanvas;\r\n\t// Set the size of the onscreen canvas\r\n\tthis.canvasDomNode.width = newWidth;\r\n\tthis.canvasDomNode.height = newHeight;\r\n\t// Paint the onscreen canvas with the offscreen canvas\r\n\tctx = this.canvasDomNode.getContext(\"2d\");\r\n\tctx.drawImage(this.currCanvas,0,0);\r\n};\r\n\r\n/*\r\n** Rotate the canvas left by 90 degrees\r\n*/\r\nEditBitmapWidget.prototype.rotateCanvasLeft = function() {\r\n\t// Get the current size of the image\r\n\tvar origWidth = this.currCanvas.width,\r\n\t\torigHeight = this.currCanvas.height;\r\n\t// Create and size a new canvas\r\n\tvar newCanvas = this.document.createElement(\"canvas\"),\r\n\t\tnewWidth = origHeight,\r\n\t\tnewHeight = origWidth;\r\n\tthis.initCanvas(newCanvas,newWidth,newHeight);\r\n\t// Copy the old image\r\n\tvar ctx = newCanvas.getContext(\"2d\");\r\n\tctx.save();\r\n\tctx.translate(newWidth / 2,newHeight / 2);\r\n\tctx.rotate(-Math.PI / 2);\r\n\tctx.drawImage(this.currCanvas,-origWidth / 2,-origHeight / 2);\r\n\tctx.restore();\r\n\t// Set the new canvas as the current one\r\n\tthis.currCanvas = newCanvas;\r\n\t// Set the size of the onscreen canvas\r\n\tthis.canvasDomNode.width = newWidth;\r\n\tthis.canvasDomNode.height = newHeight;\r\n\t// Paint the onscreen canvas with the offscreen canvas\r\n\tctx = this.canvasDomNode.getContext(\"2d\");\r\n\tctx.drawImage(this.currCanvas,0,0);\r\n};\r\n\r\nEditBitmapWidget.prototype.handleTouchStartEvent = function(event) {\r\n\tthis.brushDown = true;\r\n\tthis.strokeStart(event.touches[0].clientX,event.touches[0].clientY);\r\n\tevent.preventDefault();\r\n\tevent.stopPropagation();\r\n\treturn false;\r\n};\r\n\r\nEditBitmapWidget.prototype.handleTouchMoveEvent = function(event) {\r\n\tif(this.brushDown) {\r\n\t\tthis.strokeMove(event.touches[0].clientX,event.touches[0].clientY);\r\n\t}\r\n\tevent.preventDefault();\r\n\tevent.stopPropagation();\r\n\treturn false;\r\n};\r\n\r\nEditBitmapWidget.prototype.handleTouchEndEvent = function(event) {\r\n\tif(this.brushDown) {\r\n\t\tthis.brushDown = false;\r\n\t\tthis.strokeEnd();\r\n\t}\r\n\tevent.preventDefault();\r\n\tevent.stopPropagation();\r\n\treturn false;\r\n};\r\n\r\nEditBitmapWidget.prototype.handleMouseDownEvent = function(event) {\r\n\tthis.strokeStart(event.clientX,event.clientY);\r\n\tthis.brushDown = true;\r\n\tevent.preventDefault();\r\n\tevent.stopPropagation();\r\n\treturn false;\r\n};\r\n\r\nEditBitmapWidget.prototype.handleMouseMoveEvent = function(event) {\r\n\tif(this.brushDown) {\r\n\t\tthis.strokeMove(event.clientX,event.clientY);\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\nEditBitmapWidget.prototype.handleMouseUpEvent = function(event) {\r\n\tif(this.brushDown) {\r\n\t\tthis.brushDown = false;\r\n\t\tthis.strokeEnd();\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\nEditBitmapWidget.prototype.adjustCoordinates = function(x,y) {\r\n\tvar canvasRect = this.canvasDomNode.getBoundingClientRect(),\r\n\t\tscale = this.canvasDomNode.width/canvasRect.width;\r\n\treturn {x: (x - canvasRect.left) * scale, y: (y - canvasRect.top) * scale};\r\n};\r\n\r\nEditBitmapWidget.prototype.strokeStart = function(x,y) {\r\n\t// Start off a new stroke\r\n\tthis.stroke = [this.adjustCoordinates(x,y)];\r\n};\r\n\r\nEditBitmapWidget.prototype.strokeMove = function(x,y) {\r\n\tvar ctx = this.canvasDomNode.getContext(\"2d\"),\r\n\t\tt;\r\n\t// Add the new position to the end of the stroke\r\n\tthis.stroke.push(this.adjustCoordinates(x,y));\r\n\t// Redraw the previous image\r\n\tctx.drawImage(this.currCanvas,0,0);\r\n\t// Render the stroke\r\n\tctx.globalAlpha = parseFloat(this.wiki.getTiddlerText(LINE_OPACITY_TITLE,\"1.0\"));\r\n\tctx.strokeStyle = this.wiki.getTiddlerText(LINE_COLOUR_TITLE,\"#ff0\");\r\n\tctx.lineWidth = parseFloat(this.wiki.getTiddlerText(LINE_WIDTH_TITLE,\"3\"));\r\n\tctx.lineCap = \"round\";\r\n\tctx.lineJoin = \"round\";\r\n\tctx.beginPath();\r\n\tctx.moveTo(this.stroke[0].x,this.stroke[0].y);\r\n\tfor(t=1; t<this.stroke.length-1; t++) {\r\n\t\tvar s1 = this.stroke[t],\r\n\t\t\ts2 = this.stroke[t-1],\r\n\t\t\ttx = (s1.x + s2.x)/2,\r\n\t\t\tty = (s1.y + s2.y)/2;\r\n\t\tctx.quadraticCurveTo(s2.x,s2.y,tx,ty);\r\n\t}\r\n\tctx.stroke();\r\n};\r\n\r\nEditBitmapWidget.prototype.strokeEnd = function() {\r\n\t// Copy the bitmap to the off-screen canvas\r\n\tvar ctx = this.currCanvas.getContext(\"2d\");\r\n\tctx.drawImage(this.canvasDomNode,0,0);\r\n\t// Save the image into the tiddler\r\n\tthis.saveChanges();\r\n};\r\n\r\nEditBitmapWidget.prototype.saveChanges = function() {\r\n\tvar tiddler = this.wiki.getTiddler(this.editTitle) || new $tw.Tiddler({title: this.editTitle,type: DEFAULT_IMAGE_TYPE});\r\n\t// data URIs look like \"data:<type>;base64,<text>\"\r\n\tvar dataURL = this.canvasDomNode.toDataURL(tiddler.fields.type),\r\n\t\tposColon = dataURL.indexOf(\":\"),\r\n\t\tposSemiColon = dataURL.indexOf(\";\"),\r\n\t\tposComma = dataURL.indexOf(\",\"),\r\n\t\ttype = dataURL.substring(posColon+1,posSemiColon),\r\n\t\ttext = dataURL.substring(posComma+1);\r\n\tvar update = {type: type, text: text};\r\n\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getModificationFields(),tiddler,update,this.wiki.getCreationFields()));\r\n};\r\n\r\nexports[\"edit-bitmap\"] = EditBitmapWidget;\r\n\r\n})();","type":"application/javascript","module-type":"widget"},"$:/core/ui/EditorToolbar/preview":{"title":"$:/core/ui/EditorToolbar/preview","tags":"$:/tags/EditorToolbar","icon":"$:/core/images/preview-open","custom-icon":"yes","caption":"{{$:/language/Buttons/Preview/Caption}}","description":"{{$:/language/Buttons/Preview/Hint}}","condition":"[<targetTiddler>]","button-classes":"tc-text-editor-toolbar-item-start-group","shortcuts":"((preview))","text":"\\whitespace trim\r\n<span>\r\n\t<$transclude $tiddler={{{ [<get.edit-preview-state>match[yes]then[$:/core/images/preview-open]else[$:/core/images/preview-closed]] }}} />\r\n</span>\r\n<$action-setfield $tiddler=<<editPreviewStateTiddler>> $value={{{ [<editPreviewStateTiddler>get[text]toggle[yes],[no]] }}} />\r\n<$action-sendmessage $message=\"tm-edit-text-operation\" $param=\"focus-editor\"/>"},"$:/core/modules/editor/factory.js":{"title":"$:/core/modules/editor/factory.js","text":"/*\\\r\ntitle: $:/core/modules/editor/factory.js\r\ntype: application/javascript\r\nmodule-type: library\r\n\r\nFactory for constructing text editor widgets with specified engines for the toolbar and non-toolbar cases\r\n\r\n\\*/\r\n(function(){\r\n\r\n/*jslint node: true, browser: true */\r\n/*global $tw: false */\r\n\"use strict\";\r\n\r\nvar DEFAULT_MIN_TEXT_AREA_HEIGHT = \"100px\"; // Minimum height of textareas in pixels\r\n\r\n// Configuration tiddlers\r\nvar HEIGHT_MODE_TITLE = \"$:/config/TextEditor/EditorHeight/Mode\";\r\nvar ENABLE_TOOLBAR_TITLE = \"$:/config/TextEditor/EnableToolbar\";\r\n\r\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\r\n\r\nfunction editTextWidgetFactory(toolbarEngine,nonToolbarEngine) {\r\n\r\n\tvar EditTextWidget = function(parseTreeNode,options) {\r\n\t\t// Initialise the editor operations if they've not been done already\r\n\t\tif(!this.editorOperations) {\r\n\t\t\tEditTextWidget.prototype.editorOperations = {};\r\n\t\t\t$tw.modules.applyMethods(\"texteditoroperation\",this.editorOperations);\r\n\t\t}\r\n\t\tthis.initialise(parseTreeNode,options);\r\n\t};\r\n\r\n\t/*\r\n\tInherit from the base widget class\r\n\t*/\r\n\tEditTextWidget.prototype = new Widget();\r\n\r\n\t/*\r\n\tRender this widget into the DOM\r\n\t*/\r\n\tEditTextWidget.prototype.render = function(parent,nextSibling) {\r\n\t\t// Save the parent dom node\r\n\t\tthis.parentDomNode = parent;\r\n\t\t// Compute our attributes\r\n\t\tthis.computeAttributes();\r\n\t\t// Execute our logic\r\n\t\tthis.execute();\r\n\t\t// Create the wrapper for the toolbar and render its content\r\n\t\tif(this.editShowToolbar) {\r\n\t\t\tthis.toolbarNode = this.document.createElement(\"div\");\r\n\t\t\tthis.toolbarNode.className = \"tc-editor-toolbar\";\r\n\t\t\tparent.insertBefore(this.toolbarNode,nextSibling);\r\n\t\t\tthis.renderChildren(this.toolbarNode,null);\r\n\t\t\tthis.domNodes.push(this.toolbarNode);\r\n\t\t}\r\n\t\t// Create our element\r\n\t\tvar editInfo = this.getEditInfo(),\r\n\t\t\tEngine = this.editShowToolbar ? toolbarEngine : nonToolbarEngine;\r\n\t\tthis.engine = new Engine({\r\n\t\t\t\twidget: this,\r\n\t\t\t\tvalue: editInfo.value,\r\n\t\t\t\ttype: editInfo.type,\r\n\t\t\t\tparentNode: parent,\r\n\t\t\t\tnextSibling: nextSibling\r\n\t\t\t});\r\n\t\t// Call the postRender hook\r\n\t\tif(this.postRender) {\r\n\t\t\tthis.postRender();\r\n\t\t}\r\n\t\t// Fix height\r\n\t\tthis.engine.fixHeight();\r\n\t\t// Focus if required\r\n\t\tif(this.editFocus === \"true\" || this.editFocus === \"yes\") {\r\n\t\t\tthis.engine.focus();\r\n\t\t}\r\n\t\t// Add widget message listeners\r\n\t\tthis.addEventListeners([\r\n\t\t\t{type: \"tm-edit-text-operation\", handler: \"handleEditTextOperationMessage\"}\r\n\t\t]);\r\n\t};\r\n\r\n\t/*\r\n\tGet the tiddler being edited and current value\r\n\t*/\r\n\tEditTextWidget.prototype.getEditInfo = function() {\r\n\t\t// Get the edit value\r\n\t\tvar self = this,\r\n\t\t\tvalue,\r\n\t\t\ttype = \"text/plain\",\r\n\t\t\tupdate;\r\n\t\tif(this.editIndex) {\r\n\t\t\tvalue = this.wiki.extractTiddlerDataItem(this.editTitle,this.editIndex,this.editDefault);\r\n\t\t\tupdate = function(value) {\r\n\t\t\t\tvar data = self.wiki.getTiddlerData(self.editTitle,{});\r\n\t\t\t\tif(data[self.editIndex] !== value) {\r\n\t\t\t\t\tdata[self.editIndex] = value;\r\n\t\t\t\t\tself.wiki.setTiddlerData(self.editTitle,data);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\t// Get the current tiddler and the field name\r\n\t\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\r\n\t\t\tif(tiddler) {\r\n\t\t\t\t// If we've got a tiddler, the value to display is the field string value\r\n\t\t\t\tif(tiddler.hasField(this.editField)) {\r\n\t\t\t\t\tvalue = tiddler.getFieldString(this.editField);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = this.editDefault || \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif(this.editField === \"text\") {\r\n\t\t\t\t\ttype = tiddler.fields.type || \"text/vnd.tiddlywiki\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Otherwise, we need to construct a default value for the editor\r\n\t\t\t\tswitch(this.editField) {\r\n\t\t\t\t\tcase \"text\":\r\n\t\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t\t\ttype = \"text/vnd.tiddlywiki\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"title\":\r\n\t\t\t\t\t\tvalue = this.editTitle;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.editDefault !== undefined) {\r\n\t\t\t\t\tvalue = this.editDefault;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tupdate = function(value) {\r\n\t\t\t\tvar tiddler = self.wiki.getTiddler(self.editTitle),\r\n\t\t\t\t\tupdateFields = {\r\n\t\t\t\t\t\ttitle: self.editTitle\r\n\t\t\t\t\t};\r\n\t\t\t\tupdateFields[self.editField] = value;\r\n\t\t\t\tself.wiki.addTiddler(new $tw.Tiddler(self.wiki.getCreationFields(),tiddler,updateFields,self.wiki.getModificationFields()));\r\n\t\t\t};\r\n\t\t}\r\n\t\tif(this.editType) {\r\n\t\t\ttype = this.editType;\r\n\t\t}\r\n\t\treturn {value: value || \"\", type: type, update: update};\r\n\t};\r\n\r\n\t/*\r\n\tHandle an edit text operation message from the toolbar\r\n\t*/\r\n\tEditTextWidget.prototype.handleEditTextOperationMessage = function(event) {\r\n\t\t// Prepare information about the operation\r\n\t\tvar operation = this.engine.createTextOperation();\r\n\t\t// Invoke the handler for the selected operation\r\n\t\tvar handler = this.editorOperations[event.param];\r\n\t\tif(handler) {\r\n\t\t\thandler.call(this,event,operation);\r\n\t\t}\r\n\t\t// Execute the operation via the engine\r\n\t\tvar newText = this.engine.executeTextOperation(operation);\r\n\t\t// Fix the tiddler height and save changes\r\n\t\tthis.engine.fixHeight();\r\n\t\tthis.saveChanges(newText);\r\n\t};\r\n\r\n\t/*\r\n\tCompute the internal state of the widget\r\n\t*/\r\n\tEditTextWidget.prototype.execute = function() {\r\n\t\t// Get our parameters\r\n\t\tthis.editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\r\n\t\tthis.editField = this.getAttribute(\"field\",\"text\");\r\n\t\tthis.editIndex = this.getAttribute(\"index\");\r\n\t\tthis.editDefault = this.getAttribute(\"default\");\r\n\t\tthis.editClass = this.getAttribute(\"class\");\r\n\t\tthis.editPlaceholder = this.getAttribute(\"placeholder\");\r\n\t\tthis.editSize = this.getAttribute(\"size\");\r\n\t\tthis.editRows = this.getAttribute(\"rows\");\r\n\t\tthis.editAutoHeight = this.wiki.getTiddlerText(HEIGHT_MODE_TITLE,\"auto\");\r\n\t\tthis.editAutoHeight = this.getAttribute(\"autoHeight\",this.editAutoHeight === \"auto\" ? \"yes\" : \"no\") === \"yes\";\r\n\t\tthis.editMinHeight = this.getAttribute(\"minHeight\",DEFAULT_MIN_TEXT_AREA_HEIGHT);\r\n\t\tthis.editFocusPopup = this.getAttribute(\"focusPopup\");\r\n\t\tthis.editFocus = this.getAttribute(\"focus\");\r\n\t\tthis.editFocusSelectFromStart = $tw.utils.parseNumber(this.getAttribute(\"focusSelectFromStart\",\"0\"));\r\n\t\tthis.editFocusSelectFromEnd = $tw.utils.parseNumber(this.getAttribute(\"focusSelectFromEnd\",\"0\"));\r\n\t\tthis.editTabIndex = this.getAttribute(\"tabindex\");\r\n\t\tthis.editCancelPopups = this.getAttribute(\"cancelPopups\",\"\") === \"yes\";\r\n\t\tthis.editInputActions = this.getAttribute(\"inputActions\");\r\n\t\tthis.editRefreshTitle = this.getAttribute(\"refreshTitle\");\r\n\t\tthis.editAutoComplete = this.getAttribute(\"autocomplete\");\r\n\t\tthis.isDisabled = this.getAttribute(\"disabled\",\"no\");\r\n\t\tthis.isFileDropEnabled = this.getAttribute(\"fileDrop\",\"no\") === \"yes\";\r\n\t\t// Get the default editor element tag and type\r\n\t\tvar tag,type;\r\n\t\tif(this.editField === \"text\") {\r\n\t\t\ttag = \"textarea\";\r\n\t\t} else {\r\n\t\t\ttag = \"input\";\r\n\t\t\tvar fieldModule = $tw.Tiddler.fieldModules[this.editField];\r\n\t\t\tif(fieldModule && fieldModule.editTag) {\r\n\t\t\t\ttag = fieldModule.editTag;\r\n\t\t\t}\r\n\t\t\tif(fieldModule && fieldModule.editType) {\r\n\t\t\t\ttype = fieldModule.editType;\r\n\t\t\t}\r\n\t\t\ttype = type || \"text\";\r\n\t\t}\r\n\t\t// Get the rest of our parameters\r\n\t\tthis.editTag = this.getAttribute(\"tag\",tag) || \"input\";\r\n\t\tthis.editType = this.getAttribute(\"type\",type);\r\n\t\t// Make the child widgets\r\n\t\tthis.makeChildWidgets();\r\n\t\t// Determine whether to show the toolbar\r\n\t\tthis.editShowToolbar = this.wiki.getTiddlerText(ENABLE_TOOLBAR_TITLE,\"yes\");\r\n\t\tthis.editShowToolbar = (this.editShowToolbar === \"yes\") && !!(this.children && this.children.length > 0) && (!this.document.isTiddlyWikiFakeDom);\r\n\t};\r\n\r\n\t/*\r\n\tSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\r\n\t*/\r\n\tEditTextWidget.prototype.refresh = function(changedTiddlers) {\r\n\t\tvar changedAttributes = this.computeAttributes();\r\n\t\t// Completely rerender if any of our attributes have changed\r\n\t\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes[\"default\"] || (changedAttributes[\"class\"] && !this.engine.assignDomNodeClasses) || changedAttributes.placeholder || changedAttributes.size || changedAttributes.autoHeight || changedAttributes.minHeight || changedAttributes.focusPopup ||  changedAttributes.rows || changedAttributes.tabindex || changedAttributes.cancelPopups || changedAttributes.inputActions || changedAttributes.refreshTitle || changedAttributes.autocomplete || changedTiddlers[HEIGHT_MODE_TITLE] || changedTiddlers[ENABLE_TOOLBAR_TITLE] || changedTiddlers[\"$:/palette\"] || changedAttributes.disabled || changedAttributes.fileDrop) {\r\n\t\t\tthis.refreshSelf();\r\n\t\t\treturn true;\r\n\t\t} else if (changedTiddlers[this.editRefreshTitle]) {\r\n\t\t\tthis.engine.updateDomNodeText(this.getEditInfo().value);\r\n\t\t} else if(changedTiddlers[this.editTitle]) {\r\n\t\t\tvar editInfo = this.getEditInfo();\r\n\t\t\tthis.updateEditor(editInfo.value,editInfo.type);\r\n\t\t}\r\n\t\tif(changedAttributes[\"class\"] && this.engine.assignDomNodeClasses) {\r\n\t\t\tthis.engine.assignDomNodeClasses();\r\n\t\t}\r\n\t\tthis.engine.fixHeight();\r\n\t\tif(this.editShowToolbar) {\r\n\t\t\treturn this.refreshChildren(changedTiddlers);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\tUpdate the editor with new text. This method is separate from updateEditorDomNode()\r\n\tso that subclasses can override updateEditor() and still use updateEditorDomNode()\r\n\t*/\r\n\tEditTextWidget.prototype.updateEditor = function(text,type) {\r\n\t\tthis.updateEditorDomNode(text,type);\r\n\t};\r\n\r\n\t/*\r\n\tUpdate the editor dom node with new text\r\n\t*/\r\n\tEditTextWidget.prototype.updateEditorDomNode = function(text,type) {\r\n\t\tthis.engine.setText(text,type);\r\n\t};\r\n\r\n\t/*\r\n\tSave changes back to the tiddler store\r\n\t*/\r\n\tEditTextWidget.prototype.saveChanges = function(text) {\r\n\t\tvar editInfo = this.getEditInfo();\r\n\t\tif(text !== editInfo.value) {\r\n\t\t\teditInfo.update(text);\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\tHandle a dom \"keydown\" event, which we'll bubble up to our container for the keyboard widgets benefit\r\n\t*/\r\n\tEditTextWidget.prototype.handleKeydownEvent = function(event) {\r\n\t\t// Check for a keyboard shortcut\r\n\t\tif(this.toolbarNode) {\r\n\t\t\tvar shortcutElements = this.toolbarNode.querySelectorAll(\"[data-tw-keyboard-shortcut]\");\r\n\t\t\tfor(var index=0; index<shortcutElements.length; index++) {\r\n\t\t\t\tvar el = shortcutElements[index],\r\n\t\t\t\t\tshortcutData = el.getAttribute(\"data-tw-keyboard-shortcut\"),\r\n\t\t\t\t\tkeyInfoArray = $tw.keyboardManager.parseKeyDescriptors(shortcutData,{\r\n\t\t\t\t\t\twiki: this.wiki\r\n\t\t\t\t\t});\r\n\t\t\t\tif($tw.keyboardManager.checkKeyDescriptors(event,keyInfoArray)) {\r\n\t\t\t\t\tvar clickEvent = this.document.createEvent(\"Events\");\r\n\t\t\t\t    clickEvent.initEvent(\"click\",true,false);\r\n\t\t\t\t    el.dispatchEvent(clickEvent);\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Propogate the event to the container\r\n\t\tif(this.propogateKeydownEvent(event)) {\r\n\t\t\t// Ignore the keydown if it was already handled\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t// Otherwise, process the keydown normally\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/*\r\n\tPropogate keydown events to our container for the keyboard widgets benefit\r\n\t*/\r\n\tEditTextWidget.prototype.propogateKeydownEvent = function(event) {\r\n\t\tvar newEvent = this.cloneEvent(event,[\"keyCode\",\"code\",\"which\",\"key\",\"metaKey\",\"ctrlKey\",\"altKey\",\"shiftKey\"]);\r\n\t\treturn !this.parentDomNode.dispatchEvent(newEvent);\r\n\t};\r\n\r\n\tEditTextWidget.prototype.cloneEvent = function(event,propertiesToCopy) {\r\n\t\tvar propertiesToCopy = propertiesToCopy || [],\r\n\t\t\tnewEvent = this.document.createEventObject ? this.document.createEventObject() : this.document.createEvent(\"Events\");\r\n\t\tif(newEvent.initEvent) {\r\n\t\t\tnewEvent.initEvent(event.type, true, true);\r\n\t\t}\r\n\t\t$tw.utils.each(propertiesToCopy,function(prop){\r\n\t\t\tnewEvent[prop] = event[prop];\r\n\t\t});\r\n\t\treturn newEvent;\r\n\t};\r\n\r\n\tEditTextWidget.prototype.dispatchDOMEvent = function(newEvent) {\r\n\t\tvar dispatchNode = this.engine.iframeNode || this.engine.parentNode;\r\n\t\treturn dispatchNode.dispatchEvent(newEvent);\r\n\t};\r\n\r\n\t/*\r\n\tPropogate drag and drop events with File data to our container for the dropzone widgets benefit.\r\n\tIf there are no Files, let the browser handle it.\r\n\t*/\r\n\tEditTextWidget.prototype.handleDropEvent = function(event) {\r\n\t\tif($tw.utils.dragEventContainsFiles(event)) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tthis.dispatchDOMEvent(this.cloneEvent(event,[\"dataTransfer\"]));\r\n\t\t} \r\n\t};\r\n\r\n\tEditTextWidget.prototype.handlePasteEvent = function(event) {\r\n\t\tif(event.clipboardData && event.clipboardData.files && event.clipboardData.files.length) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tthis.dispatchDOMEvent(this.cloneEvent(event,[\"clipboardData\"]));\r\n\t\t}\r\n\t};\r\n\r\n\tEditTextWidget.prototype.handleDragEnterEvent = function(event) {\r\n\t\tif($tw.utils.dragEventContainsFiles(event)) {\r\n\t\t\t// Ignore excessive events fired by FF when entering and leaving text nodes in a text area.\r\n\t\t\tif( event.relatedTarget && (event.relatedTarget.nodeType === 3 || event.target === event.relatedTarget)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn this.dispatchDOMEvent(this.cloneEvent(event,[\"dataTransfer\"]));\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tEditTextWidget.prototype.handleDragOverEvent = function(event) {\r\n\t\tif($tw.utils.dragEventContainsFiles(event)) {\r\n\t\t\t// Call preventDefault() in browsers that default to not allowing drop events on textarea\r\n\t\t\tif($tw.browser.isFirefox || $tw.browser.isIE) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t\tevent.dataTransfer.dropEffect = \"copy\";\r\n\t\t\treturn this.dispatchDOMEvent(this.cloneEvent(event,[\"dataTransfer\"]));\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tEditTextWidget.prototype.handleDragLeaveEvent = function(event) {\r\n\t\t// Ignore excessive events fired by FF when entering and leaving text nodes in a text area.\r\n\t\tif(event.relatedTarget && ((event.relatedTarget.nodeType === 3) || (event.target === event.relatedTarget))) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tevent.preventDefault();\r\n\t\tthis.dispatchDOMEvent(this.cloneEvent(event,[\"dataTransfer\"]));\r\n\t};\r\n\r\n\tEditTextWidget.prototype.handleDragEndEvent = function(event) {\r\n\t\tthis.dispatchDOMEvent(this.cloneEvent(event));\r\n\t};\r\n\r\n\tEditTextWidget.prototype.handleClickEvent = function(event) {\r\n\t\treturn !this.dispatchDOMEvent(this.cloneEvent(event));\r\n\t};\r\n\r\n\treturn EditTextWidget;\r\n}\r\n\r\nexports.editTextWidgetFactory = editTextWidgetFactory;\r\n\r\n})();","type":"application/javascript","module-type":"library"},"$:/core/modules/editor/engines/framed.js":{"title":"$:/core/modules/editor/engines/framed.js","text":"/*\\\r\ntitle: $:/core/modules/editor/engines/framed.js\r\ntype: application/javascript\r\nmodule-type: library\r\n\r\nText editor engine based on a simple input or textarea within an iframe. This is done so that the selection is preserved even when clicking away from the textarea\r\n\r\n\\*/\r\n(function(){\r\n\r\n/*jslint node: true,browser: true */\r\n/*global $tw: false */\r\n\"use strict\";\r\n\r\nvar HEIGHT_VALUE_TITLE = \"$:/config/TextEditor/EditorHeight/Height\";\r\n\r\nfunction FramedEngine(options) {\r\n\t// Save our options\r\n\toptions = options || {};\r\n\tthis.widget = options.widget;\r\n\tthis.value = options.value;\r\n\tthis.parentNode = options.parentNode;\r\n\tthis.nextSibling = options.nextSibling;\r\n\t// Create our hidden dummy text area for reading styles\r\n\tthis.dummyTextArea = this.widget.document.createElement(\"textarea\");\r\n\tif(this.widget.editClass) {\r\n\t\tthis.dummyTextArea.className = this.widget.editClass;\r\n\t}\r\n\tthis.dummyTextArea.setAttribute(\"hidden\",\"true\");\r\n\tthis.parentNode.insertBefore(this.dummyTextArea,this.nextSibling);\r\n\tthis.widget.domNodes.push(this.dummyTextArea);\r\n\t// Create the iframe\r\n\tthis.iframeNode = this.widget.document.createElement(\"iframe\");\r\n\tthis.parentNode.insertBefore(this.iframeNode,this.nextSibling);\r\n\tthis.iframeDoc = this.iframeNode.contentWindow.document;\r\n\t// (Firefox requires us to put some empty content in the iframe)\r\n\tvar paletteTitle = this.widget.wiki.getTiddlerText(\"$:/palette\");\r\n\tvar colorScheme = (this.widget.wiki.getTiddler(paletteTitle) || {fields: {}}).fields[\"color-scheme\"] || \"light\";\r\n\tthis.iframeDoc.open();\r\n\tthis.iframeDoc.write(\"<meta name='color-scheme' content='\" + colorScheme + \"'>\");\r\n\tthis.iframeDoc.close();\r\n\t// Style the iframe\r\n\tthis.iframeNode.className = this.dummyTextArea.className;\r\n\tthis.iframeNode.style.border = \"none\";\r\n\tthis.iframeNode.style.padding = \"0\";\r\n\tthis.iframeNode.style.resize = \"none\";\r\n\tthis.iframeDoc.body.style.margin = \"0\";\r\n\tthis.iframeDoc.body.style.padding = \"0\";\r\n\tthis.widget.domNodes.push(this.iframeNode);\r\n\t// Construct the textarea or input node\r\n\tvar tag = this.widget.editTag;\r\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\r\n\t\ttag = \"input\";\r\n\t}\r\n\tthis.domNode = this.iframeDoc.createElement(tag);\r\n\t// Set the text\r\n\tif(this.widget.editTag === \"textarea\") {\r\n\t\tthis.domNode.appendChild(this.iframeDoc.createTextNode(this.value));\r\n\t} else {\r\n\t\tthis.domNode.value = this.value;\r\n\t}\r\n\t// Set the attributes\r\n\tif(this.widget.editType && this.widget.editTag !== \"textarea\") {\r\n\t\tthis.domNode.setAttribute(\"type\",this.widget.editType);\r\n\t}\r\n\tif(this.widget.editPlaceholder) {\r\n\t\tthis.domNode.setAttribute(\"placeholder\",this.widget.editPlaceholder);\r\n\t}\r\n\tif(this.widget.editSize) {\r\n\t\tthis.domNode.setAttribute(\"size\",this.widget.editSize);\r\n\t}\r\n\tif(this.widget.editRows) {\r\n\t\tthis.domNode.setAttribute(\"rows\",this.widget.editRows);\r\n\t}\r\n\tif(this.widget.editTabIndex) {\r\n\t\tthis.iframeNode.setAttribute(\"tabindex\",this.widget.editTabIndex);\r\n\t}\r\n\tif(this.widget.editAutoComplete) {\r\n\t\tthis.domNode.setAttribute(\"autocomplete\",this.widget.editAutoComplete);\r\n\t}\r\n\tif(this.widget.isDisabled === \"yes\") {\r\n\t\tthis.domNode.setAttribute(\"disabled\",true);\r\n\t}\r\n\t// Copy the styles from the dummy textarea\r\n\tthis.copyStyles();\r\n\t// Add event listeners\r\n\t$tw.utils.addEventListeners(this.domNode,[\r\n\t\t{name: \"click\",handlerObject: this,handlerMethod: \"handleClickEvent\"},\r\n\t\t{name: \"input\",handlerObject: this,handlerMethod: \"handleInputEvent\"},\r\n\t\t{name: \"keydown\",handlerObject: this,handlerMethod: \"handleKeydownEvent\"},\r\n\t\t{name: \"focus\",handlerObject: this,handlerMethod: \"handleFocusEvent\"}\r\n\t]);\r\n\t// Add drag and drop event listeners if fileDrop is enabled\r\n\tif(this.widget.isFileDropEnabled) {\r\n\t\t$tw.utils.addEventListeners(this.domNode,[\r\n\t\t\t{name: \"dragenter\",handlerObject: this.widget,handlerMethod: \"handleDragEnterEvent\"},\r\n\t\t\t{name: \"dragover\",handlerObject: this.widget,handlerMethod: \"handleDragOverEvent\"},\r\n\t\t\t{name: \"dragleave\",handlerObject: this.widget,handlerMethod: \"handleDragLeaveEvent\"},\r\n\t\t\t{name: \"dragend\",handlerObject: this.widget,handlerMethod: \"handleDragEndEvent\"},\r\n\t\t\t{name: \"drop\", handlerObject: this.widget,handlerMethod: \"handleDropEvent\"},\r\n\t\t\t{name: \"paste\", handlerObject: this.widget,handlerMethod: \"handlePasteEvent\"},\r\n\t\t\t{name: \"click\",handlerObject: this.widget,handlerMethod: \"handleClickEvent\"}\r\n\t\t]);\r\n\t}\r\n\t// Insert the element into the DOM\r\n\tthis.iframeDoc.body.appendChild(this.domNode);\r\n}\r\n\r\nFramedEngine.prototype.assignDomNodeClasses = function() {\r\n\tthis.iframeNode.className = this.widget.getAttribute(\"class\",\"\");\r\n};\r\n\r\n/*\r\nCopy styles from the dummy text area to the textarea in the iframe\r\n*/\r\nFramedEngine.prototype.copyStyles = function() {\r\n\t// Copy all styles\r\n\t$tw.utils.copyStyles(this.dummyTextArea,this.domNode);\r\n\t// Override the ones that should not be set the same as the dummy textarea\r\n\tthis.domNode.style.display = \"block\";\r\n\tthis.domNode.style.width = \"100%\";\r\n\tthis.domNode.style.margin = \"0\";\r\n\t// In Chrome setting -webkit-text-fill-color overrides the placeholder text colour\r\n\tthis.domNode.style[\"-webkit-text-fill-color\"] = \"currentcolor\";\r\n\t// Ensure we don't force text direction to LTR\r\n\tthis.domNode.style.removeProperty(\"direction\");\r\n};\r\n\r\n/*\r\nSet the text of the engine if it doesn't currently have focus\r\n*/\r\nFramedEngine.prototype.setText = function(text,type) {\r\n\tif(!this.domNode.isTiddlyWikiFakeDom) {\r\n\t\tif(this.domNode.ownerDocument.activeElement !== this.domNode) {\r\n\t\t\tthis.updateDomNodeText(text);\r\n\t\t}\r\n\t\t// Fix the height if needed\r\n\t\tthis.fixHeight();\r\n\t}\r\n};\r\n\r\n/*\r\nUpdate the DomNode with the new text\r\n*/\r\nFramedEngine.prototype.updateDomNodeText = function(text) {\r\n\ttry {\r\n\t\tthis.domNode.value = text;\r\n\t} catch(e) {\r\n\t\t// Ignore\r\n\t}\r\n};\r\n\r\n/*\r\nGet the text of the engine\r\n*/\r\nFramedEngine.prototype.getText = function() {\r\n\treturn this.domNode.value;\r\n};\r\n\r\n/*\r\nFix the height of textarea to fit content\r\n*/\r\nFramedEngine.prototype.fixHeight = function() {\r\n\t// Make sure styles are updated\r\n\tthis.copyStyles();\r\n\t// Adjust height\r\n\tif(this.widget.editTag === \"textarea\") {\r\n\t\tif(this.widget.editAutoHeight) {\r\n\t\t\tif(this.domNode && !this.domNode.isTiddlyWikiFakeDom) {\r\n\t\t\t\tvar newHeight = $tw.utils.resizeTextAreaToFit(this.domNode,this.widget.editMinHeight);\r\n\t\t\t\tthis.iframeNode.style.height = newHeight + \"px\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar fixedHeight = parseInt(this.widget.wiki.getTiddlerText(HEIGHT_VALUE_TITLE,\"400px\"),10);\r\n\t\t\tfixedHeight = Math.max(fixedHeight,20);\r\n\t\t\tthis.domNode.style.height = fixedHeight + \"px\";\r\n\t\t\tthis.iframeNode.style.height = fixedHeight + \"px\";\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*\r\nFocus the engine node\r\n*/\r\nFramedEngine.prototype.focus  = function() {\r\n\tif(this.domNode.focus) {\r\n\t\tthis.domNode.focus();\r\n\t}\r\n\tif(this.domNode.select) {\r\n\t\t$tw.utils.setSelectionByPosition(this.domNode,this.widget.editFocusSelectFromStart,this.widget.editFocusSelectFromEnd);\r\n\t}\r\n};\r\n\r\n/*\r\nHandle a focus event\r\n*/\r\nFramedEngine.prototype.handleFocusEvent = function(event) {\r\n\tif(this.widget.editCancelPopups) {\r\n\t\t$tw.popup.cancel(0);\r\n\t}\r\n};\r\n\r\n/*\r\nHandle a keydown event\r\n */\r\nFramedEngine.prototype.handleKeydownEvent = function(event) {\r\n\tif ($tw.keyboardManager.handleKeydownEvent(event, {onlyPriority: true})) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn this.widget.handleKeydownEvent(event);\r\n};\r\n\r\n/*\r\nHandle a click\r\n*/\r\nFramedEngine.prototype.handleClickEvent = function(event) {\r\n\tthis.fixHeight();\r\n\treturn true;\r\n};\r\n\r\n/*\r\nHandle a dom \"input\" event which occurs when the text has changed\r\n*/\r\nFramedEngine.prototype.handleInputEvent = function(event) {\r\n\tthis.widget.saveChanges(this.getText());\r\n\tthis.fixHeight();\r\n\tif(this.widget.editInputActions) {\r\n\t\tthis.widget.invokeActionString(this.widget.editInputActions,this,event,{actionValue: this.getText()});\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n/*\r\nCreate a blank structure representing a text operation\r\n*/\r\nFramedEngine.prototype.createTextOperation = function() {\r\n\tvar operation = {\r\n\t\ttext: this.domNode.value,\r\n\t\tselStart: this.domNode.selectionStart,\r\n\t\tselEnd: this.domNode.selectionEnd,\r\n\t\tcutStart: null,\r\n\t\tcutEnd: null,\r\n\t\treplacement: null,\r\n\t\tnewSelStart: null,\r\n\t\tnewSelEnd: null\r\n\t};\r\n\toperation.selection = operation.text.substring(operation.selStart,operation.selEnd);\r\n\treturn operation;\r\n};\r\n\r\n/*\r\nExecute a text operation\r\n*/\r\nFramedEngine.prototype.executeTextOperation = function(operation) {\r\n\t// Perform the required changes to the text area and the underlying tiddler\r\n\tvar newText = operation.text;\r\n\tif(operation.replacement !== null) {\r\n\t\tnewText = operation.text.substring(0,operation.cutStart) + operation.replacement + operation.text.substring(operation.cutEnd);\r\n\t\t// Attempt to use a execCommand to modify the value of the control\r\n\t\tif(this.iframeDoc.queryCommandSupported(\"insertText\") && this.iframeDoc.queryCommandSupported(\"delete\") && !$tw.browser.isFirefox) {\r\n\t\t\tthis.domNode.focus();\r\n\t\t\tthis.domNode.setSelectionRange(operation.cutStart,operation.cutEnd);\r\n\t\t\tif(operation.replacement === \"\") {\r\n\t\t\t\tthis.iframeDoc.execCommand(\"delete\",false,\"\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.iframeDoc.execCommand(\"insertText\",false,operation.replacement);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.domNode.value = newText;\r\n\t\t}\r\n\t\tthis.domNode.focus();\r\n\t\tthis.domNode.setSelectionRange(operation.newSelStart,operation.newSelEnd);\r\n\t}\r\n\tthis.domNode.focus();\r\n\treturn newText;\r\n};\r\n\r\nexports.FramedEngine = FramedEngine;\r\n\r\n})();","type":"application/javascript","module-type":"library"},"$:/plugins/BTC/SidebarSlider/functions":{"title":"$:/plugins/BTC/SidebarSlider/functions","tags":"$:/tags/Global","code-body":"yes","text":"\\function is.pixel.value(value) [<value>removesuffix[px]]\r\n\\function is.percentage.value(value) [<value>removesuffix[%]]\r\n\\function is.cm.value(value) [<value>removesuffix[cm]]\r\n\\function is.mm.value(value) [<value>removesuffix[mm]]\r\n\\function is.Q.value(value) [<value>removesuffix[Q]]\r\n\\function is.in.value(value) [<value>removesuffix[in]]\r\n\\function is.pc.value(value) [<value>removesuffix[pc]]\r\n\\function is.pt.value(value) [<value>removesuffix[pt]]\r\n\\function is.em.value(value) [<value>removesuffix[em]]\n\n\\function convert.to.cm(value) [<value>divide[37.8]]\r\n\\function convert.to.mm(value) [convert.to.cm<value>multiply[10]]\r\n\\function convert.to.Q(value) [convert.to.cm<value>multiply[40]]\r\n\\function convert.to.in(value) [<value>divide[96]]\r\n\\function convert.to.pc(value) [convert.to.in<value>multiply[6]]\r\n\\function convert.to.pt(value) [convert.to.in<value>multiply[72]]\r\n\\function convert.to.em(value) [[storyTiddler]is[variable]then<value>divide{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}] [[storyTiddler]!is[variable]then<value>divide{$:/themes/tiddlywiki/vanilla/metrics/fontsize}]\n\n\\function convert.to.pixels(value)\r\n[is.pixel.value<value>]\r\n:else[is.cm.value<value>multiply[37.8]]\r\n:else[is.mm.value<value>multiply[37.8]divide[10]]\r\n:else[is.Q.value<value>multiply[37.8]divide[40]]\r\n:else[is.in.value<value>multiply[96]]\r\n:else[is.pc.value<value>multiply[96]divide[6]]\r\n:else[is.pt.value<value>multiply[96]divide[72]]\r\n:else[is.em.value<value>then[storyTiddler]is[variable]then<value>multiply{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}]\r\n:else[is.em.value<value>then[storyTiddler]!is[variable]then<value>multiply{$:/themes/tiddlywiki/vanilla/metrics/fontsize}]\r\n\\end\n\n\\function convert.to.pixels.metric(value,metric) [<value>addsuffix<metric>] :map[convert.to.pixels<currentTiddler>]\n\n\\function subtract.one.from.sidebarbreakpoint(value)\r\n[is.pixel.value<value>subtract[1]addsuffix[px]]\r\n:else[is.cm.value<value>convert.to.pixels.metric<value>,[cm]subtract[1]divide[37.8]addsuffix[cm]]\r\n:else[is.mm.value<value>convert.to.pixels.metric<value>,[mm]subtract[1]divide[37.8]multiply[10]addsuffix[mm]]\r\n:else[is.Q.value<value>convert.to.pixels.metric<value>,[Q]subtract[1]divide[37.8]multiply[40]addsuffix[Q]]\r\n:else[is.in.value<value>convert.to.pixels.metric<value>,[in]subtract[1]divide[96]addsuffix[in]]\r\n:else[is.pc.value<value>convert.to.pixels.metric<value>,[pc]subtract[1]divide[96]multiply[6]addsuffix[pc]]\r\n:else[is.pt.value<value>convert.to.pixels.metric<value>,[pt]subtract[1]divide[96]multiply[72]addsuffix[pt]]\r\n:else[is.em.value<value>convert.to.pixels.metric<value>,[em]subtract[1]divide{$:/themes/tiddlywiki/vanilla/metrics/fontsize}addsuffix[em]]\r\n\\end\n\n\\function sidebarbreakpoint() [{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}]\n\n\\function sidebarbreakpoint-minus-one() [subtract.one.from.sidebarbreakpoint<sidebarbreakpoint>] :else[<sidebarbreakpoint>]\n\n\\function add.one.to.breakpoint(value)\r\n[is.pixel.value<value>add[1]addsuffix[px]]\r\n:else[is.cm.value<value>convert.to.pixels.metric<value>,[cm]add[1]divide[37.8]addsuffix[cm]]\r\n:else[is.mm.value<value>convert.to.pixels.metric<value>,[mm]add[1]divide[37.8]multiply[10]addsuffix[mm]]\r\n:else[is.Q.value<value>convert.to.pixels.metric<value>,[Q]add[1]divide[37.8]multiply[40]addsuffix[Q]]\r\n:else[is.in.value<value>convert.to.pixels.metric<value>,[in]add[1]divide[96]addsuffix[in]]\r\n:else[is.pc.value<value>convert.to.pixels.metric<value>,[pc]add[1]divide[96]multiply[6]addsuffix[pc]]\r\n:else[is.pt.value<value>convert.to.pixels.metric<value>,[pt]add[1]divide[96]multiply[72]addsuffix[pt]]\r\n:else[is.em.value<value>convert.to.pixels.metric<value>,[em]add[1]divide{$:/themes/tiddlywiki/vanilla/metrics/fontsize}addsuffix[em]]\r\n\\end\n\n\\function breakpoint-plus-one() [add.one.to.breakpoint{$:/config/plugins/menubar/breakpoint}] :else[{$:/config/plugins/menubar/breakpoint}]\n\n\\function sidebarbreakpoint-plus-one() [add.one.to.breakpoint{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}] :else[{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}]\n\n\\function get.base.theme.metric.recursive(theme,metric) [<theme>get[dependents]enlist-input[]] :map[get.base.theme.metric<currentTiddler>,<metric>]\n\n\\function get.base.theme.metric(theme,metric)\r\n[<theme>addsuffix[/metrics/]addsuffix<metric>is[tiddler]]\r\n:else[<theme>addsuffix[/metrics/]addsuffix<metric>is[shadow]]\r\n:else[get.base.theme.metric.recursive<theme>,<metric>]\r\n\\end\n\n\\function get.base.theme(theme,metric) [get.base.theme.metric<theme>,<metric>first[]removesuffix<metric>removesuffix[/metrics/]]\n\n\\function get.theme.metric(metric) [get.base.theme.metric<get.current.theme>,<metric>first[]get[text]]\n\n\\function get.base.theme.option.recursive(theme,option) [<theme>get[dependents]enlist-input[]] :map[get.base.theme.option<currentTiddler>,<option>]\n\n\\function get.base.theme.option(theme,option)\r\n[<theme>addsuffix[/options/]addsuffix<option>is[tiddler]]\r\n:else[<theme>addsuffix[/options/]addsuffix<option>is[shadow]]\r\n:else[get.base.theme.option.recursive<theme>,<option>]\r\n\\end\n\n\\function get.theme.option(option) [get.base.theme.option<get.current.theme>,<option>first[]get[text]]\n\n\\function get.theme.explicit.option(option) [<get.current.theme>addsuffix[/options/]addsuffix<option>get[text]]\n\n\\function get.theme(metric)\r\n[get.base.theme<get.current.theme>,<metric>addsuffix[/metrics/]addsuffix<metric>is[tiddler]]\r\n:else[get.base.theme<get.current.theme>,<metric>addsuffix[/metrics/]addsuffix<metric>is[shadow]]\r\n:else[[$:/themes/tiddlywiki/vanilla/metrics/]addsuffix<metric>]\r\n\\end\n\n\\function set.theme.metric(metric)\r\n[get.base.theme.metric<get.current.theme>,<metric>first[]is[shadow]]\r\n:else[get.base.theme.metric<get.current.theme>,<metric>first[]!is[shadow]is[tiddler]]\r\n:else[[$:/themes/tiddlywiki/vanilla/metrics/]addsuffix<metric>]\r\n\\end\n\n\\function get.base.functions.theme.recursive(theme) [<theme>get[dependents]enlist-input[]] :map[get.base.functions.theme<currentTiddler>]\n\n\\function get.base.functions.theme(theme)\r\n[<theme>addsufix[/functions]is[tiddler]]\r\n:else[<theme>addsuffix[/functions]is[shadow]]\r\n:else[get.base.functions.theme.recursive<theme>]\r\n\\end\n\n\\function get.current.theme() [{$:/theme}!is[blank]] :else[all[tiddlers+shadows]plugin-type[theme]plugin-priority[0]first[]]\n\n\\function get.theme.storywidthoverlap()\r\n[[max((]addsuffix<get.theme.metric storyright>addsuffix[ - ]addsuffix<get.theme.metric storywidth>addsuffix[ - ]addsuffix<get.theme.metric storyleft>addsuffix[),(-1 * (]addsuffix<get.theme.metric storyright>addsuffix[ - ]addsuffix<get.theme.metric storywidth>addsuffix[ - ]addsuffix<get.theme.metric storyleft>addsuffix[)))]]\r\n\\end\n\n\\function get.theme.storyleftpadding.excess() [[calc(]addsuffix<get.theme.metric storypaddingleft>addsuffix[ - ]addsuffix<get.story-sidebar.overlap>addsuffix[)]]\n\n\\function get.theme.storyrightpadding.excess() [[calc(]addsuffix<get.theme.metric storypaddingright>addsuffix[ - ]addsuffix<get.story-sidebar.overlap>addsuffix[)]]\r\n"},"$:/themes/tiddlywiki/heavier/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/heavier/options/sidebarresizer","text":"show"},"$:/language/Left":{"title":"$:/language/Left","text":"Left"},"$:/language/Right":{"title":"$:/language/Right","text":"Right"},"$:/language/ThemeTweaks/ThemeTweaks/Hint":{"title":"$:/language/ThemeTweaks/ThemeTweaks/Hint","text":"You can tweak certain aspects of the ''<$text text={{{ [<get.current.theme>get[name]] :else[[current]] }}}/>'' theme."},"$:/language/ThemeTweaks/Options/SidebarClass":{"title":"$:/language/ThemeTweaks/Options/SidebarClass","text":"CSS class of the sidebar"},"$:/language/ThemeTweaks/Options/SidebarPosition":{"title":"$:/language/ThemeTweaks/Options/SidebarPosition","text":"Sidebar position"},"$:/language/ThemeTweaks/Options/SidebarResizer":{"title":"$:/language/ThemeTweaks/Options/SidebarResizer","text":"Sidebar resizer"},"$:/language/ThemeTweaks/Options/StoryRiverClass":{"title":"$:/language/ThemeTweaks/Options/StoryRiverClass","text":"CSS class of the \"story river\""},"$:/language/ThemeTweaks/Metrics/PreviewSliderWidth":{"title":"$:/language/ThemeTweaks/Metrics/PreviewSliderWidth","text":"Preview slider width"},"$:/language/ThemeTweaks/Metrics/PreviewSliderWidth/Hint":{"title":"$:/language/ThemeTweaks/Metrics/PreviewSliderWidth/Hint","text":"the width of the slider between editor and editor preview"},"$:/language/ThemeTweaks/Metrics/SidebarPadding":{"title":"$:/language/ThemeTweaks/Metrics/SidebarPadding","text":"Sidebar padding"},"$:/language/ThemeTweaks/Metrics/SidebarPadding/Hint":{"title":"$:/language/ThemeTweaks/Metrics/SidebarPadding/Hint","text":"the padding of the sidebar between sidebar and story river"},"$:/language/ThemeTweaks/Metrics/SidebarResizer/Hint":{"title":"$:/language/ThemeTweaks/Metrics/SidebarResizer/Hint","text":"the values for `storyleft`, `storyright`, `storywidth`, `storyminwidth`, `sidebarwidth` and `sidebarminwidth` need to be ''absolute'' CSS units, ''percentages'' or ''em'' units in order for the sidebar resizer to work"},"$:/language/ThemeTweaks/Metrics/SliderOpacity":{"title":"$:/language/ThemeTweaks/Metrics/SliderOpacity","text":"Slider opacity"},"$:/language/ThemeTweaks/Metrics/SliderOpacity/Hint":{"title":"$:/language/ThemeTweaks/Metrics/SliderOpacity/Hint","text":"the opacity of the sliders"},"$:/language/ThemeTweaks/Metrics/SliderOpacityHover":{"title":"$:/language/ThemeTweaks/Metrics/SliderOpacityHover","text":"Slider opacity hover"},"$:/language/ThemeTweaks/Metrics/SliderOpacityHover/Hint":{"title":"$:/language/ThemeTweaks/Metrics/SliderOpacityHover/Hint","text":"the opacity on hover of the sliders"},"$:/language/ThemeTweaks/Metrics/StoryMinWidth":{"title":"$:/language/ThemeTweaks/Metrics/StoryMinWidth","text":"Minimum Story width"},"$:/language/ThemeTweaks/Metrics/StoryMinWidth/Hint":{"title":"$:/language/ThemeTweaks/Metrics/StoryMinWidth/Hint","text":"controls the minimum width of the tiddlers in the story river"},"$:/language/ThemeTweaks/Metrics/StoryPaddingLeft":{"title":"$:/language/ThemeTweaks/Metrics/StoryPaddingLeft","text":"Story Padding Left"},"$:/language/ThemeTweaks/Metrics/StoryPaddingLeft/Hint":{"title":"$:/language/ThemeTweaks/Metrics/StoryPaddingLeft/Hint","text":"the left padding of the story river"},"$:/language/ThemeTweaks/Metrics/StoryPaddingRight":{"title":"$:/language/ThemeTweaks/Metrics/StoryPaddingRight","text":"Story Padding Right"},"$:/language/ThemeTweaks/Metrics/StoryPaddingRight/Hint":{"title":"$:/language/ThemeTweaks/Metrics/StoryPaddingRight/Hint","text":"the right padding of the story river"},"$:/language/ThemeTweaks/Metrics/SidebarMinWidth":{"title":"$:/language/ThemeTweaks/Metrics/SidebarMinWidth","text":"Minimum Sidebar width"},"$:/language/ThemeTweaks/Metrics/SidebarMinWidth/Hint":{"title":"$:/language/ThemeTweaks/Metrics/SidebarMinWidth/Hint","text":"the minimum width of the sidebar"},"$:/language/ThemeTweaks/Metrics/TiddlerWidth":{"title":"$:/language/ThemeTweaks/Metrics/TiddlerWidth","text":"Tiddler width"},"$:/language/ThemeTweaks/Metrics/TiddlerWidth/Hint":{"title":"$:/language/ThemeTweaks/Metrics/TiddlerWidth/Hint","text":"within the story river"},"$:/plugins/BTC/SidebarSlider/license":{"title":"$:/plugins/BTC/SidebarSlider/license","text":"MIT License\n\nCopyright (c) 2025 Simon Huber\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n"},"$:/plugins/tiddlywiki/menubar/styles":{"title":"$:/plugins/tiddlywiki/menubar/styles","tags":"[[$:/tags/Stylesheet]]","text":"\\define set-sidebar-scrollable-top-if-hamburger()\r\n<$list filter=\"[all[tiddlers+shadows]tag[$:/tags/MenuBar]] -[all[tiddlers+shadows]prefix[$:/config/plugins/menubar/MenuItems/Visibility/]regexp:text[hide]removeprefix[$:/config/plugins/menubar/MenuItems/Visibility/]] -[all[tiddlers+shadows]tag[$:/tags/TopLeftBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/topleftbar]] -[all[tiddlers+shadows]tag[$:/tags/TopRightBar]limit[1]then[$:/plugins/tiddlywiki/menubar/items/toprightbar]] -$:/plugins/tiddlywiki/menubar/items/hamburger +[limit[1]]\">\n\n\t.tc-sidebar-scrollable {\r\n\t\tmargin-top: 2em;\r\n\t}\n\n</$list>\r\n\\end\n\n\\define set-sidebar-scrollable-top()\r\n<$list filter=\"[all[tiddlers+shadows]tag[$:/tags/MenuBar]] -[all[tiddlers+shadows]prefix[$:/config/plugins/menubar/MenuItems/Visibility/]regexp:text[hide]removeprefix[$:/config/plugins/menubar/MenuItems/Visibility/]] -[all[tiddlers+shadows]tag[$:/tags/TopLeftBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/topleftbar]] -[all[tiddlers+shadows]tag[$:/tags/TopRightBar]limit[1]then[$:/plugins/tiddlywiki/menubar/items/toprightbar]] +[limit[1]]\">\n\n\t.tc-sidebar-scrollable {\r\n\t\tmargin-top: 2em;\r\n\t}\n\n</$list>\r\n<$reveal state=\"$:/state/popup/menubar/hamburger\" type=\"match\" text=\"yes\">\n\n\t<$set name=\"itemCount\" value={{{ [all[tiddlers+shadows]tag[$:/tags/MenuBar]] -[all[tiddlers+shadows]prefix[$:/config/plugins/menubar/MenuItems/Visibility/]regexp:text[hide]removeprefix[$:/config/plugins/menubar/MenuItems/Visibility/]] -[all[tiddlers+shadows]tag[$:/tags/TopLeftBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/topleftbar]] -[all[tiddlers+shadows]tag[$:/tags/TopRightBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/toprightbar]] +[count[]] }}}>\n\n\t\t.tc-sidebar-scrollable {\r\n\t\t\tmargin-top: calc(<<itemCount>> * 2em);\r\n\t\t}\n\n\t</$set>\n\n</$reveal>\r\n\\end\n\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n\nnav.tc-menubar {\r\n\tposition: fixed;\r\n\tz-index: 850;\r\n\tdisplay: inline-block;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tleft: 0;\r\n}\n\nnav.tc-menubar ul.tc-menubar-list {\r\n\tposition: relative;\r\n\tlist-style-type: none;\r\n\tmargin: 0;\r\n\tpadding: 0 0 0 42px;\r\n\tbackground: <<colour background>>;\r\n\tbackground: <<colour menubar-background>>;\r\n\t<<box-shadow \"1px 1px 5px rgba(0, 0, 0, 0.3)\">>\r\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\n\n\thtml nav.tc-menubar ul.tc-menubar-list {\r\n\t\tpadding: 0 0 0 8px;\r\n\t}\n\n}\n\nnav.tc-menubar li.tc-menubar-item {\r\n\tdisplay: inline-block;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\n\nnav.tc-menubar .tc-menubar-narrow li.tc-menubar-item {\r\n\tdisplay: block;\r\n}\n\nnav.tc-menubar li.tc-menubar-item > a,\r\nnav.tc-menubar li.tc-menubar-item > button {\r\n\tdisplay: inline-block;\r\n/*\ttext-transform: uppercase; */\r\n\tline-height: 1;\r\n\tfont-weight: 700;\r\n\tcolor: <<colour foreground>>;\r\n\tcolor: <<colour menubar-foreground>>;\r\n\tfill: <<colour foreground>>;\r\n\tfill: <<colour menubar-foreground>>;\r\n\ttext-decoration: none;\r\n\tpadding: 0.5em;\r\n\tmargin: 0;\r\n\tbackground: none;\r\n\tborder: none;\r\n\tcursor: pointer;\r\n\tborder-radius: 0;\r\n\ttext-decoration: none;\r\n}\n\nnav.tc-menubar li.tc-menubar-item > a.tc-selected,\r\nnav.tc-menubar li.tc-menubar-item > button.tc-selected {\r\n\tbackground: <<colour foreground>>;\r\n\tbackground: <<colour menubar-foreground>>;\r\n\tcolor: <<colour background>>;\r\n\tcolor: <<colour menubar-background>>;\r\n\tfill: <<colour background>>;\r\n\tfill: <<colour menubar-background>>;\r\n}\n\nnav.tc-menubar li.tc-menubar-item svg {\r\n\ttransition: none;\r\n\twidth: 1em;\r\n\theight: 1em;\r\n\tfill: <<colour foreground>>;\r\n\tfill: <<colour menubar-foreground>>;\r\n}\n\nnav.tc-menubar li.tc-menubar-item .tc-menubar-dropdown-arrow svg {\r\n\twidth: 0.5em;\r\n\theight: 0.5em;\r\n}\n\nnav.tc-menubar li.tc-menubar-item > a.tc-selected svg,\r\nnav.tc-menubar li.tc-menubar-item > button.tc-selected svg {\r\n\tfill: <<colour background>>;\r\n\tfill: <<colour menubar-background>>;\r\n}\n\nnav.tc-menubar li.tc-menubar-item > a:hover,\r\nnav.tc-menubar li.tc-menubar-item > button:hover svg,\r\nnav.tc-menubar li.tc-menubar-item > button:hover {\r\n\tbackground: <<colour foreground>>;\r\n\tbackground: <<colour menubar-foreground>>;\r\n\tcolor: <<colour background>>;\r\n\tcolor: <<colour menubar-background>>;\r\n\tfill: <<colour background>>;\r\n\tfill: <<colour menubar-background>>;\r\n\tborder-radius: 0;\r\n\ttext-decoration: none;\r\n}\n\nnav.tc-menubar li.tc-menubar-item > a:active,\r\nnav.tc-menubar li.tc-menubar-item > button:active svg,\r\nnav.tc-menubar li.tc-menubar-item > button:active {\r\n\tbackground: <<colour foreground>>;\r\n\tbackground: <<colour menubar-foreground>>;\r\n\tcolor: <<colour background>>;\r\n\tcolor: <<colour menubar-background>>;\r\n\tfill: <<colour background>>;\r\n\tfill: <<colour menubar-background>>;\r\n\tborder-radius: 0;\r\n\ttext-decoration: none;\r\n}\n\nnav.tc-menubar .tc-drop-down,\r\nnav.tc-menubar .tc-block-dropdown {\r\n\tmax-width: 70vw;\r\n\tmax-height: 70vh;\r\n\toverflow: auto;\r\n}\n\nnav.tc-menubar .tc-drop-down a {\r\n\ttext-decoration: none;\r\n}\n\nnav.tc-menubar .tc-drop-down .tc-table-of-contents button {\r\n\tdisplay: inline-block;\r\n\twidth: auto;\r\n}\n\nnav.tc-menubar .tc-drop-down ol {\r\n\tmargin: 0;\r\n}\n\nnav.tc-menubar .tc-drop-down .tc-menubar-dropdown-sidebar a,\r\nnav.tc-menubar .tc-drop-down .tc-menubar-dropdown-sidebar button {\r\n\tdisplay: inline;\r\n\twidth: auto;\r\n}\n\nnav.tc-menubar .tc-more-sidebar > .tc-tab-set > .tc-tab-buttons > button {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n}\n\n@media (max-width: {{$:/config/plugins/menubar/breakpoint}}) {\n\n\t.tc-menubar-wide {\r\n\t\tdisplay: none;\r\n\t}\n\n}\n\n@media (min-width: <<breakpoint-plus-one>>) {\n\n\tnav.tc-menubar li.tc-menubar-item.tc-menubar-narrow,\r\n\t.tc-menubar-narrow {\r\n\t\tdisplay: none;\r\n\t}\n\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\n\n\t<<set-sidebar-scrollable-top-if-hamburger>>\n\n}\n\n@media (max-width: {{$:/config/plugins/menubar/breakpoint}}) {\n\n\t<<set-sidebar-scrollable-top>>\n\n}\r\n@media print {\n\n\tnav.tc-menubar {\r\n\t\tdisplay: none;\r\n\t}\n\n}"},"$:/plugins/BTC/SidebarSlider/ui/PageTemplateClassFilters":{"title":"$:/plugins/BTC/SidebarSlider/ui/PageTemplateClassFilters","tags":"$:/tags/ClassFilters/PageTemplate","text":"[<get.theme.option sidebarposition>match[left]then[tc-sidebar-left]]\r\n"},"$:/plugins/BTC/SidebarSlider/ui/PageTemplate/show-sidebar":{"title":"$:/plugins/BTC/SidebarSlider/ui/PageTemplate/show-sidebar","tags":"$:/tags/PageTemplate","text":"\\procedure sidebar-slider-show-sidebar-chevron-actions()\r\n<$action-deletetiddler $tiddler=\"$:/state/sidebar\"/>\r\n\\end\n\n<%if [{$:/state/sidebar}match[no]] %>\n\n\t<$eventcatcher class=\"tc-sidebar-slider-show-sidebar-eventcatcher\" selector=\".tc-sidebar-slider-show-sidebar-chevron\" $click=<<sidebar-slider-show-sidebar-chevron-actions>>>\n\n\t\t<div class=\"tc-sidebar-slider-show-sidebar-chevron\"\r\n\t\t\tstyle.height=\"115px\"\r\n\t\t\tstyle.width=\"22px\"\r\n\t\t\tstyle.display=\"flex\"\r\n\t\t\tstyle.align-items=\"center\"\r\n\t\t\tstyle.cursor=\"pointer\"\r\n\t\t>\n\n\t\t\t<div style.width=\"15px\" style.display=\"flex\">\n\n\t\t\t\t<%if [<get.theme.option sidebarposition>match[left]] %>\r\n\t\t\t\t\t{{$:/core/images/chevron-right}}\r\n\t\t\t\t<% else %>\r\n\t\t\t\t\t{{$:/core/images/chevron-left}}\r\n\t\t\t\t<% endif %>\n\n\t\t\t</div>\n\n\t\t</div>\n\n\t</$eventcatcher>\n\n<% endif %>"},"$:/plugins/BTC/SidebarSlider/PageTemplate/sidebar-slider":{"title":"$:/plugins/BTC/SidebarSlider/PageTemplate/sidebar-slider","tags":"$:/tags/PageTemplate","list-after":"$:/core/ui/PageTemplate/story","code-body":"yes","text":"\\import [function[get.base.functions.theme],<get.current.theme>first[]is[tiddler]] :else[function[get.base.functions.theme],<get.current.theme>first[]is[shadow]] :else[[$:/themes/tiddlywiki/vanilla/functions]] [[$:/plugins/BTC/SidebarSlider/sidebar-slider]]\n\n\\function resizer.state.tiddler() $:/state/sidebar/resizing\r\n\\function resizer.state() [{$:/state/sidebar}]\r\n\\function resizer.class() tc-main-slider\r\n\\function set.throttling() yes\r\n\\function drag.direction.reverse() [<get.theme.option sidebarposition>match[left]then[yes]] :else[[no]]\r\n\\function get.slider.condition() [{$:/state/sidebar}!match[no]then[yes]]\r\n\\whitespace trim\n\n<%if [<get.theme.explicit.option sidebarresizer>match[show]] %>\r\n\t<$let\r\n\t\ttv-set-storywidth-storyright=<<set.storywidth.storyright>>\r\n\t\ttv-set-sidebarwidth=<<set.sidebarwidth>>\r\n\t\ttv-set-centralised=<<set.centralised>>\n\n\t\tstoryLeftTiddler=<<get.story-left.tiddler>>\r\n\t\tstoryRightTiddler=<<get.story-right.tiddler>>\r\n\t\tsidebarWidthTiddler=<<get.sidebar-width.tiddler>>\r\n\t\ttiddlerWidthTiddler=<<get.tiddler-width.tiddler>>\r\n\t\tstoryWidthTiddler=<<get.story-width.tiddler>>\r\n\t\tstoryMinWidthTiddler=<<get.story-minwidth.tiddler>>\r\n\t\tsidebarMinWidthTiddler=<<get.sidebar-minwidth.tiddler>>\r\n\t\tstoryPaddingLeftTiddler=<<get.story-padding-left.tiddler>>\r\n\t\tstoryPaddingRightTiddler=<<get.story-padding-right.tiddler>>\r\n\t>\r\n\t\t<$transclude $variable=\"sidebar-resizer\"/>\r\n\t</$let>\r\n<% endif %>"},"$:/plugins/BTC/SidebarSlider/procedures/sliders":{"title":"$:/plugins/BTC/SidebarSlider/procedures/sliders","code-body":"yes","text":"\\procedure editor-preview-slider(class:\"\",width:\"100%\",\r\nminHeight:\"10px\",template:\"\",\r\nmode:\"block\",sliderWidth:\"12px\",\r\npadding:\"12px\",\r\nleftMinWidth:\"0%\",rightMinWidth:\"0%\")\n\n\\import $:/plugins/BTC/SidebarSlider/sidebar-slider\r\n\\function set.throttling() yes\r\n\\function get.left.minwidth() [<leftMinWidth>]\r\n\\function get.right.minwidth() [<rightMinWidth>]\r\n\\function get.story-padding.right() 0px\r\n\\function get.story-padding.left() 0px\r\n\\function get.story.left() 0\r\n\\function drag.direction.reverse() no\r\n\\whitespace trim\n\n<$let\r\n\ttv-set-storywidth-storyright=\"no\"\r\n\ttv-set-sidebarwidth=\"yes\"\r\n\ttv-set-centralised=\"no\"\r\n\tstoryLeftTiddler={{{ [<storyLeftTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/storyleft-]] }}}\r\n\tstoryRightTiddler={{{ [<storyRightTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/storyright-]] }}}\r\n\tsidebarWidthTiddler={{{ [<sidebarWidthTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/rightwidth-]] }}}\r\n\ttiddlerWidthTiddler={{{ [<tiddlerWidthTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/tiddlerwidth-]] }}}\r\n\tstoryWidthTiddler={{{ [<storyWidthTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/storywidth-]] }}}\r\n\tstoryMinWidthTiddler={{{ [<storyMinWidthTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/storywidth-]] }}}\r\n\tsidebarMinWidthTiddler={{{ [<sidebarMinWidthTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/storyminwidth-]] }}}\r\n\tstoryPaddingLeftTiddler={{{ [<storyPaddingLeftTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/storypaddingleft-]] }}}\r\n\tstoryPaddingRightTiddler={{{ [<storyPaddingRightTiddler>!is[blank]] :else[<qualify>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizer/storypaddingright-]] }}}>\n\n\t<$transclude\r\n\t\t$variable=\"editor-resizer\"\r\n\t\ttemplate=<<template>>\r\n\t\teventCatcherClass=\"tc-editor-preview-eventcatcher\"\r\n\t\tmode=<<mode>>\r\n\t/>\n\n</$let>\r\n\\end"},"$:/plugins/BTC/SidebarSlider/readme":{"title":"$:/plugins/BTC/SidebarSlider/readme","text":"!!! This plugin adds an interactive slider to TiddlyWiki5\n\nThe slider is meant to be used to change the width of the sidebar / the story river respectively"},"$:/themes/tiddlywiki/readonly/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/readonly/options/sidebarresizer","text":"show"},"$:/config/shortcuts/reset-sidebar-slider":{"title":"$:/config/shortcuts/reset-sidebar-slider","text":"alt-S"},"$:/config/ShortcutInfo/reset-sidebar-slider":{"title":"$:/config/ShortcutInfo/reset-sidebar-slider","text":"Reset the changes made to the Layout using the sidebar slider"},"$:/plugins/BTC/SidebarSlider/ui/KeyboardShortcuts/reset":{"title":"$:/plugins/BTC/SidebarSlider/ui/KeyboardShortcuts/reset","tags":"$:/tags/KeyboardShortcut","key":"((reset-sidebar-slider))","text":"\\import $:/plugins/BTC/SidebarSlider/functions\r\n\\function get.theme-tweaks.metric() [get.theme<metric>]\n\n<$list filter=\"StoryLeft StoryRight StoryWidth StoryMinWidth StoryPaddingLeft StoryPaddingRight TiddlerWidth SidebarWidth SidebarPadding +[enlist-input[]]\" variable=\"metricName\">\r\n<$set name=\"metric\" value={{{ [<metricName>lowercase[]] }}}>\r\n<$action-deletetiddler $tiddler=<<get.theme-tweaks.metric>>/>\r\n</$set>\r\n</$list>"},"$:/themes/tiddlywiki/seamless/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/seamless/options/sidebarresizer","text":"show"},"$:/themes/tiddlywiki/vanilla/sidebar-resizer":{"title":"$:/themes/tiddlywiki/vanilla/sidebar-resizer","tags":"[[$:/tags/Stylesheet]]","code-body":"yes","text":"\\import [function[get.base.functions.theme],<get.current.theme>first[]is[tiddler]] :else[function[get.base.functions.theme],<get.current.theme>first[]is[shadow]] :else[[$:/themes/tiddlywiki/vanilla/functions]]\n\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock conditional html\n\n.tc-slider {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\theight: 100%;\r\n\twidth: <<sidebar.resizer.width>>;\r\n\topacity: <<get.theme.metric slideropacity>>;\r\n\tcursor: ew-resize;\r\n\tbackground: linear-gradient(<<colour muted-foreground>>, <<colour muted-foreground>>) no-repeat center/2px 100%;\r\n}\n\n.tc-main-slider-chevron-container {\r\n\tbackground-color: <<colour muted-foreground>>;\r\n\topacity: <<get.theme.metric slideropacity>>;\r\n\twidth: <<get.theme.metric sliderchevroncontainerwidth>>;\r\n\ttransform: translateX(<<get.theme.metric sliderchevroncontainertransformx>>);\r\n}\n\n@media (pointer: coarse) {\r\n\t.tc-main-slider-chevron-container {\r\n\t\topacity: 0.3;\r\n\t}\r\n}\n\n.tc-mein-slider-chevron-container:hover {\r\n\topacity: <<get.theme.metric slideropacityhover>>;\r\n}\n\n.tc-slider:hover {\r\n\topacity: <<get.theme.metric slideropacityhover>>;\r\n}\n\n.tc-slider-pointerdown-eventcatcher, .tc-slider-pointermove-eventcatcher-wrapper {\r\n\theight: 100%;\r\n}\n\n.tc-edit-texteditor-slider > .tc-slider-pointerdown-eventcatcher.tc-editor-preview-eventcatcher {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\n\n.tc-slider-pointermove-eventcatcher, .tc-slider-pointermove {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tmin-height: 100%;\r\n\tz-index: -1;\r\n}\n\n.tc-slider-pointerdown-eventcatcher:not(.tc-main-slider), .tc-slider-pointermove-eventcatcher:not(.tc-main-slider), .tc-slider-pointermove-eventcatcher-wrapper:not(.tc-main-slider) {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 1;\r\n\talign-items: stretch;\r\n}\n\n.tc-slider-pointermove-eventcatcher-wrapper:not(.tc-main-slider) {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\tflex-direction: row;\r\n}\n\n.tc-slider-pointerdown-eventcatcher:not(.tc-main-slider) {\r\n\tposition: relative;\r\n}\n\n.tc-slider, .tc-slider-pointermove-eventcatcher, .tc-slider-pointermove {\r\n\ttouch-action: none;\r\n\tuser-select: none;\r\n}\n\n.tc-slider-pointermove-eventcatcher-wrapper.tc-main-slider.tc-resizer-active {\r\n\tz-index: 801;\r\n}\n\n.tc-slider-pointermove-eventcatcher.tc-main-slider.tc-resizer-active {\r\n\tz-index: 802;\r\n}\n\n.tc-slider-pointermove.tc-main-slider.tc-resizer-active {\r\n\tz-index: 803;\r\n}\n\n.tc-slider-pointermove.tc-resizer-active {\r\n\tcursor: ew-resize;\r\n}\n\n.tc-slider-pointermove-eventcatcher-wrapper.tc-resizer-active:not(.tc-main-slider) {\r\n\tz-index: 2;\r\n}\n\n.tc-slider-pointermove-eventcatcher.tc-resizer-active:not(.tc-main-slider) {\r\n\tz-index: 3;\r\n}\n\n.tc-slider-pointermove.tc-resizer-active:not(.tc-main-slider) {\r\n\tz-index: 4;\r\n}\n\n.tc-slider.tc-resizer-active {\r\n\topacity: <<get.theme.metric slideropacityhover>>;\r\n}\n\n<%if [<get.theme.explicit.option sidebarresizer>match[show]] %>\n\n\t<%if [<get.theme.option sidebarposition>match[left]] %>\n\n\t\t.tc-slider.tc-main-slider {\r\n\t\t\tjustify-content: flex-start;\r\n\t\t}\n\n\t<% else %>\n\n\t\t.tc-slider.tc-main-slider {\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\n\n\t<% endif %>\n\n\t@media (min-width: <<sidebarbreakpoint>>) {\n\n\t\t@media (pointer: coarse) {\n\n\t\t\t.tc-slider.tc-main-slider {\r\n\t\t\t\tbackground: <<colour muted-foreground>>;\r\n\t\t\t\topacity: 0.1;\r\n\t\t\t}\n\n\t\t}\n\n\t\t<%if [<set.storywidth.storyright>match[yes]] %>\n\n\t\t\t.tc-slider.tc-main-slider {\r\n\t\t\t\tleft: clamp(calc(<<get.theme.metric storyleft>> + <<get.theme.metric storyminwidth>> + <<get.theme.storyleftpadding.excess>> + <<get.theme.storyrightpadding.excess>> - (2 * <<get.story-sidebar.overlap>> / 3)),calc(<<get.theme.metric storyleft>> + <<get.theme.metric storywidth>> - (2 * <<get.story-sidebar.overlap>> / 3)),calc(100% - <<get.theme.metric sidebarminwidth>> + <<get.story-sidebar.overlap>> + <<get.theme.storywidthoverlap>> - (2 * <<get.story-sidebar.overlap>> / 3)));\r\n\t\t\t}\n\n\t\t\t.tc-sidebar-left .tc-slider.tc-main-slider {\r\n\t\t\t\tleft: auto;\r\n\t\t\t\tright: clamp(calc(<<get.theme.metric storyleft>> + <<get.theme.metric storyminwidth>> + <<get.theme.storyleftpadding.excess>> + <<get.theme.storyrightpadding.excess>> - (2 * <<get.story-sidebar.overlap>> / 3)),calc(<<get.theme.metric storyleft>> + <<get.theme.metric storywidth>> - (2 * <<get.story-sidebar.overlap>> / 3)),calc(100% - <<get.theme.metric sidebarminwidth>> + <<get.story-sidebar.overlap>> + <<get.theme.storywidthoverlap>> - (2 * <<get.story-sidebar.overlap>> / 3)));\r\n\t\t\t}\n\n\t\t<% endif %>\n\n\t\t<%if [<set.sidebarwidth>match[yes]] %>\n\n\t\t\t.tc-slider.tc-main-slider {\r\n\t\t\t\tleft: min(clamp(calc(<<get.theme.metric storyleft>> + <<get.theme.metric storyminwidth>> + <<get.theme.storyleftpadding.excess>> + <<get.theme.storyrightpadding.excess>> - <<get.story-sidebar.overlap>> + (<<get.story-sidebar.overlap>> / 3)),calc(100% - <<get.theme.metric sidebarwidth>> + (<<get.story-sidebar.overlap>> / 3)),calc(100% - <<get.theme.metric sidebarminwidth>> + (<<get.story-sidebar.overlap>> / 3))),calc(100% - <<get.theme.metric sidebarminwidth>> + (<<get.story-sidebar.overlap>> / 3)));\r\n\t\t\t}\n\n\t\t\t.tc-sidebar-left .tc-slider.tc-main-slider {\r\n\t\t\t\tleft: auto;\r\n\t\t\t\tright: min(clamp(calc(<<get.theme.metric storyleft>> + <<get.theme.metric storyminwidth>> + <<get.theme.storyleftpadding.excess>> + <<get.theme.storyrightpadding.excess>> - <<get.story-sidebar.overlap>> + (<<get.story-sidebar.overlap>> / 3)),calc(100% - <<get.theme.metric sidebarwidth>> + (<<get.story-sidebar.overlap>> / 3)),calc(100% - <<get.theme.metric sidebarminwidth>> + (<<get.story-sidebar.overlap>> / 3))),calc(100% - <<get.theme.metric sidebarminwidth>> + (<<get.story-sidebar.overlap>> / 3)));\r\n\t\t\t}\n\n\t\t<% endif %>\n\n\t\t<%if [<set.centralised>match[yes]] %>\n\n\t\t\t.tc-slider.tc-main-slider {\r\n\t\t\t\tleft: min(calc(50% + (<<get.theme.metric storywidth>> / 2) - (2 * <<get.story-sidebar.overlap>> / 3)),calc(100% - <<get.theme.metric sidebarminwidth>> - (2 * <<get.story-sidebar.overlap>> / 3)));\r\n\t\t\t}\n\n\t\t\t.tc-sidebar-left .tc-slider.tc-main-slider {\r\n\t\t\t\tleft: auto;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\tright: min(calc(50% + (<<get.theme.metric storywidth>> / 2) - (2 * <<get.story-sidebar.overlap>> / 3)),calc(100% - <<get.theme.metric sidebarminwidth>> - (2 * <<get.story-sidebar.overlap>> / 3)));\r\n\t\t\t}\n\n\t\t<% endif %>\n\n\t\t<%if [{$:/state/sidebar}match[no]] %>\n\n\t\t\t.tc-slider-pointerdown-eventcatcher.tc-main-slider, .tc-slider-pointermove-eventcatcher-wrapper.tc-main-slider, .tc-slider-pointermove-eventcatcher.tc-main-slider, .tc-slider-pointermove.tc-main-slider, .tc-slider.tc-main-slider {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\n\n\t\t<% endif %>\n\n\t}\n\n\t@media (max-width: <<sidebarbreakpoint-minus-one>>) {\n\n\t\t.tc-slider-pointerdown-eventcatcher.tc-main-slider, .tc-slider-pointermove-eventcatcher-wrapper.tc-main-slider, .tc-slider-pointermove-eventcatcher.tc-main-slider, .tc-slider-pointermove.tc-main-slider, .tc-slider.tc-main-slider {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\n\n<% endif %>\n\n.tc-tiddler-frame iframe[class*=\"tc-edit-texteditor-identified-\"].tc-edit-texteditor,\r\n.tc-tiddler-frame textarea[class*=\"tc-edit-texteditor-identified-\"].tc-edit-texteditor,\r\n.tc-tiddler-frame div[class*=\"tc-edit-texteditor-identified-\"].tc-edit-texteditor,\r\n.tc-tiddler-frame canvas[class*=\"tc-edit-bitmapeditor-identified-\"].tc-edit-bitmapeditor {\r\n\twidth: calc(100% - <<get.theme.metric previewsliderwidth>>);\r\n\tmin-width: 0px;\r\n}\n\n.tc-tiddler-frame iframe[class*=\"tc-edit-texteditor-identified-\"].tc-edit-texteditor + .tc-tiddler-preview-preview,\r\n.tc-tiddler-frame textarea[class*=\"tc-edit-texteditor-identified-\"].tc-edit-texteditor + .tc-tiddler-preview-preview,\r\n.tc-tiddler-frame div[class*=\"tc-edit-texteditor-identified-\"].tc-edit-texteditor + .tc-tiddler-preview-preview,\r\n.tc-tiddler-frame canvas[class*=\"tc-edit-bitmapeditor-identified-\"].tc-edit-bitmapeditor + .tc-tiddler-preview-preview {\r\n\tmin-width: 0px;\r\n}\n\ndiv[class*=\"tc-editor-preview-slider-\"] {\r\n\tposition: absolute;\r\n\tleft: calc(50% - <<get.theme.metric previewsliderwidth>>);\r\n\twidth: <<get.theme.metric previewsliderwidth>>;\r\n}\n\n@media (pointer: coarse) {\n\n\tdiv[class*=\"tc-editor-preview-slider-\"] {\r\n\t\tbackground-color: <<colour muted-foreground>>;\r\n\t}\n\n\tdiv[class*=\"tc-editor-preview-slider-\"]:hover {\r\n\t\topacity: <<get.theme.metric slideropacityhover>>;\r\n\t}\n\n}\n\n<$list filter=\"[all[tiddlers]prefix[$:/state/resizer/previewwidth-]]\" variable=\"previewWidthTiddler\">\n\n\t<$let\r\n\t\tidentifier={{{ [<previewWidthTiddler>removeprefix[$:/state/resizer/previewwidth-]] }}}\r\n\t\twidth={{{ [<previewWidthTiddler>get[text]] }}}>\n\n\t\t.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview.tc-tiddler-preview-identified-<<identifier>> {\r\n\t\t\tgrid-template-columns: calc(100% - <<width>>) <<width>>;\r\n\t\t}\n\n\t\tdiv.tc-slider.tc-editor-preview-slider-<<identifier>> {\r\n\t\t\tleft: calc(100% - <<width>> - <<get.theme.metric previewsliderwidth>>);\r\n\t\t}\n\n\t\t<%if [[$:/state/resizing/editor-preview-]addsuffix<identifier>is[tiddler]] %>\n\n\t\t\tdiv.tc-slider.tc-editor-preview-slider-<<identifier>> {\r\n\t\t\t\topacity: min(<<get.theme.metric slideropacityhover>>,1);\r\n\t\t\t}\n\n\t\t<% endif %>\n\n\t\t<%if [<width>compare:number:lteq[1]] %>\n\n\t\t\t.tc-tiddler-preview-preview-identified-<<identifier>> {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\n\n\t\t<% endif %>\n\n\t\t<%if [<width>compare:number:gteq[99]] %>\n\n\t\t\t.tc-edit-texteditor-identified-<<identifier>> {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\n\n\t\t<% endif %>\n\n\t</$let>\n\n</$list>\n\n@media (min-width: <<sidebarbreakpoint>>) {\n\n\t<%if [<get.theme.option sidebarposition>match[left]] %>\n\n\t\t.tc-topbar.tc-topbar-right .tc-hide-sidebar-btn, .tc-topbar.tc-topbar-right .tc-show-sidebar-btn {\r\n\t\t\tdisplay: none;\r\n\t\t}\n\n\t<% else %>\n\n\t\t.tc-topbar.tc-topbar-left .tc-hide-sidebar-btn, .tc-topbar.tc-topbar-left .tc-show-sidebar-btn {\r\n\t\t\tdisplay: none;\r\n\t\t}\n\n\t<% endif %>\n\n\t<%if [<get.theme.option sidebarresizer>match[show]] %>\n\n\t\t<%if [{$:/state/sidebar}!match[no]] %>\n\n\t\t\t.tc-topbar.tc-topbar-right .tc-hide-sidebar-btn, .tc-topbar.tc-topbar-left .tc-hide-sidebar-btn {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\n\n\t\t<% endif %>\n\n\t<% endif %>\n\n\t.tc-topbar.tc-topbar-right .tc-hide-sidebar-btn, .tc-topbar.tc-topbar-right .tc-show-sidebar-btn,\r\n\t.tc-topbar.tc-topbar-left .tc-hide-sidebar-btn, .tc-topbar.tc-topbar-left .tc-show-sidebar-btn {\r\n\t\tdisplay: none;\r\n\t}\n\n}\n\n@media (max-width: <<sidebarbreakpoint-plus-one>>) {\r\n\t\r\n\t.tc-topbar.tc-topbar-left .tc-hide-sidebar-btn, .tc-topbar.tc-topbar-left .tc-show-sidebar-btn {\r\n\t\tdisplay: none;\r\n\t}\n\n}\n\n.tc-sidebar-slider-show-sidebar-eventcatcher {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\twidth: 22px;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\n\n.tc-sidebar-slider-show-sidebar-chevron {\r\n\tbackground-color: <<colour muted-foreground>>;\r\n\topacity: calc(<<get.theme.metric slideropacity>> / 2);\r\n}\n\n.tc-sidebar-slider-show-sidebar-chevron:hover {\r\n\topacity: calc(<<get.theme.metric slideropacityhover>> / 2);\r\n}\n\n<%if [<get.theme.option sidebarposition>match[left]] %>\n\n\t.tc-sidebar-slider-show-sidebar-eventcatcher {\r\n\t\tjustify-content: flex-end;\r\n\t\tleft: 0;\r\n\t}\n\n\t.tc-sidebar-slider-show-sidebar-chevron {\r\n\t\tjustify-content: flex-end;\r\n\t}\n\n<% else %>\n\n\t.tc-sidebar-slider-show-sidebar-eventcatcher {\r\n\t\tjustify-content: flex-start;\r\n\t\tright: 0;\r\n\t}\n\n\t.tc-sidebar-slider-show-sidebar-chevron {\r\n\t\tjustify-content: flex-start;\r\n\t}\n\n<% endif %>\r\n"},"$:/plugins/BTC/SidebarSlider/sidebar-slider":{"title":"$:/plugins/BTC/SidebarSlider/sidebar-slider","text":"\\function convert.to.percentage(value) [<value>divide<widgetNodeWidth>multiply[100]]\n\n\\function convert.to.percentage.value() [convert.to.percentage<value>]\r\n\\function convert.to.cm.value() [convert.to.cm<value>]\r\n\\function convert.to.mm.value() [convert.to.mm<value>]\r\n\\function convert.to.Q.value() [convert.to.Q<value>]\r\n\\function convert.to.in.value() [convert.to.in<value>]\r\n\\function convert.to.pc.value() [convert.to.pc<value>]\r\n\\function convert.to.pt.value() [convert.to.pt<value>]\r\n\\function convert.to.em.value() [convert.to.em<value>]\n\n\\function convert.to.pixels.locally(value) [is.percentage.value<value>multiply<widgetNodeWidth>divide[100]] :else[convert.to.pixels<value>]\n\n\\function convert.to.result(value,suffix)\r\n[<suffix>match[px]then<value>]\r\n:else[<suffix>match[%]then<convert.to.percentage.value>]\r\n:else[<suffix>match[cm]then<convert.to.cm.value>]\r\n:else[<suffix>match[mm]then<convert.to.mm.value>]\r\n:else[<suffix>match[Q]then<convert.to.Q.value>]\r\n:else[<suffix>match[in]then<convert.to.in.value>]\r\n:else[<suffix>match[pc]then<convert.to.pc.value>]\r\n:else[<suffix>match[pt]then<convert.to.pt.value>]\r\n:else[<suffix>match[em]then<convert.to.em.value>]\r\n\\end\n\n\\function get.value.metric(value)\r\n[<value>suffix[px]then[px]]\r\n:else[<value>suffix[%]then[%]]\r\n:else[<value>suffix[cm]then[cm]]\r\n:else[<value>suffix[mm]then[mm]]\r\n:else[<value>suffix[Q]then[Q]]\r\n:else[<value>suffix[in]then[in]]\r\n:else[<value>suffix[pc]then[pc]]\r\n:else[<value>suffix[pt]then[pt]]\r\n:else[<value>suffix[em]then[em]]\r\n\\end\n\n\\function get.sidebar.width.tiddler()\r\n[<sidebarWidthTiddler>!is[blank]]\r\n:else[get.theme[sidebarwidth]]\r\n\\end\n\n\\function get.resizer.state()\r\n[<resizer.state.tiddler>!is[blank]]\r\n:else[<qualify>addsuffix<get.sidebar.width.tiddler>addsuffix<currentTiddler>sha256[]addprefix[$:/state/resizing-]]\r\n\\end\n\n\\procedure main-slider-chevron-click-actions()\r\n<$action-setfield $tiddler=\"$:/state/sidebar\" text=\"no\"/>\r\n\\end\n\n\\procedure set-theme-throttling(metric,tiddler)\r\n<%if [<set.throttling>match[yes]] %>\r\n\t<$set name=\"metricsTiddler\" value={{{ [<tiddler>getvariable[]!is[blank]] :else[function[get.theme],<metric>] }}}>\r\n\t\t<%if [<metricsTiddler>!has[throttle.refresh]] %>\r\n\t\t\t<$action-setfield $tiddler=<<metricsTiddler>> throttle.refresh=\"yes\"/>\r\n\t\t<% endif %>\r\n\t</$set>\r\n<% endif %>\r\n\\end\n\n\\procedure sidebar-resizer-pointerdown-actions-inner()\r\n<%if [<get.resizer.state>is[missing]then<event-mousebutton>match[left]] %>\r\n\t<$let\r\n\t\tstartStoryLeft={{{ [<storyLeftTiddler>!is[blank]is[tiddler]get[text]] :else[<storyLeftTiddler>!is[blank]is[missing]then[0%]] :else[get.theme.metric[storyleft]] }}}\r\n\t\tstartStoryRight={{{ [<storyRightTiddler>!is[blank]is[tiddler]get[text]] :else[<storyRightTiddler>!is[blank]is[missing]then[50%]] :else[get.theme.metric[storyright]] }}}\r\n\t\tstartSidebarWidth={{{ [<sidebarWidthTiddler>!is[blank]is[tiddler]get[text]] :else[<sidebarWidthTiddler>!is[blank]is[missing]then[50%]] :else[get.theme.metric[sidebarwidth]] }}}\r\n\t\tstartTiddlerWidth={{{ [<tiddlerWidthTiddler>!is[blank]is[tiddler]get[text]] :else[<tiddlerWidthTiddler>!is[blank]is[missing]then[50%]] :else[get.theme.metric[tiddlerwidth]] }}}\r\n\t\tstartStoryWidth={{{ [<storyWidthTiddler>!is[blank]is[tiddler]get[text]] :else[<storyWidthTiddler>!is[blank]is[missing]then[50%]] :else[get.theme.metric[storywidth]] }}}>\r\n\t\t<$action-setfield $tiddler=<<get.resizer.state>>\r\n\t\t\ttext=\"yes\"\r\n\t\t\twidget-node-width=<<tv-widgetnode-width>>\r\n\t\t\tstart-posx=<<event-fromcatcher-posx>>\r\n\t\t\tstart-story-left=<<startStoryLeft>>\r\n\t\t\tstory-left-metric={{{ [get.value.metric<startStoryLeft>] }}}\r\n\t\t\tstart-story-right=<<startStoryRight>>\r\n\t\t\tstory-right-metric={{{ [get.value.metric<startStoryRight>] }}}\r\n\t\t\tstart-sidebar-width=<<startSidebarWidth>>\r\n\t\t\tsidebar-width-metric={{{ [get.value.metric<startSidebarWidth>] }}}\r\n\t\t\tstart-tiddler-width=<<startTiddlerWidth>>\r\n\t\t\ttiddler-width-metric={{{ [get.value.metric<startTiddlerWidth>] }}}\r\n\t\t\tstart-story-width=<<startStoryWidth>>\r\n\t\t\tstory-width-metric={{{ [get.value.metric<startStoryWidth>] }}}\r\n\t\t/>\r\n\t</$let>\r\n<% endif %>\r\n\\end\n\n\\procedure sidebar-resizer-pointerdown-actions()\r\n<%if [[$:/state/sidebar]get[click-time]subtract<now [UTC]YYYY0MM0DD0hh0mm0ss0XXX>abs[]compare:number:lteq[500]] %>\r\n\t<<sidebar-resizer-pointercancel-actions>>\r\n\t<$action-setfield $tiddler=\"$:/state/sidebar\" text=\"no\"/>\r\n<% else %>\r\n\t<%if [[$:/state/sidebar]is[missing]] %>\r\n\t\t<$action-setfield $tiddler=\"$:/state/sidebar\" text=\"yes\"/>\r\n\t<% endif %>\r\n\t<$action-setfield $tiddler=\"$:/state/sidebar\" click-time=<<now [UTC]YYYY0MM0DD0hh0mm0ss0XXX>>/>\r\n\t<<sidebar-resizer-pointerdown-actions-inner>>\r\n<% endif %>\r\n\\end\n\n\\procedure sidebar-resizer-pointercancel-actions()\r\n<$action-deletetiddler $tiddler=<<get.resizer.state>>/>\r\n\\end\n\n\\procedure set-storywidth-storyright-actions-inner-actions()\r\n<$let\r\n\tstoryWidthMetric={{{ [<get.resizer.state>get[story-width-metric]] }}}\r\n\tstoryWidthConverted={{{ [function[convert.to.result],<storyWidth>,<storyWidthMetric>] }}}\r\n\tstoryMinWidthConverted={{{ [function[convert.to.result],<storyMinWidth>,<storyWidthMetric>] }}}\r\n\tstoryWidthMaxConverted={{{ [function[convert.to.result],<storyWidthMax>,<storyWidthMetric>] }}}\r\n\ttiddlerWidthConverted={{{ [<tiddlerWidthMetric>match[%]then<tiddlerWidth>multiply[100]divide<innerStoryWidth>] :else[function[convert.to.result],<tiddlerWidth>,<tiddlerWidthMetric>] }}}\r\n\ttiddlerMinWidthConverted={{{ [<tiddlerWidthMetric>match[%]then<tiddlerMinWidth>multiply[100]divide<innerStoryWidthMin>] :else[function[convert.to.result],<tiddlerMinWidth>,<tiddlerWidthMetric>] }}}\r\n\ttiddlerWidthMaxConverted={{{ [<tiddlerWidthMetric>match[%]then<tiddlerWidthMax>multiply[100]divide<innerStoryWidthMax>] :else[function[convert.to.result],<tiddlerWidthMax>,<tiddlerWidthMetric>] }}}\r\n\tstoryWidthSetTiddler={{{ [<storyWidthTiddler>!is[blank]] :else[<set.theme.metric storywidth>] }}}\r\n\ttiddlerWidthSetTiddler={{{ [<tiddlerWidthTiddler>!is[blank]] :else[<set.theme.metric tiddlerwidth>] }}}>\n\n\t<%if [<tiddlerWidth>!is[blank]] %>\r\n\t\t<%if [<tiddlerWidth>compare:number:lt<tiddlerMinWidth>] %>\r\n\t\t\t<%if [<tiddlerWidthMetric>match[%]] %>\r\n\t\t\t\t<$set name=\"tiddlerMinWidthConverted\" value={{{ [<tiddlerMinWidth>multiply[100]divide<innerStoryWidth>] }}}>\r\n\t\t\t\t\t<$action-setfield $tiddler=<<tiddlerWidthSetTiddler>> text={{{ [<tiddlerMinWidthConverted>addsuffix<tiddlerWidthMetric>] }}}/>\r\n\t\t\t\t</$set>\r\n\t\t\t<% else %>\r\n\t\t\t\t<$action-setfield $tiddler=<<tiddlerWidthSetTiddler>> text={{{ [<tiddlerMinWidthConverted>addsuffix<tiddlerWidthMetric>] }}}/>\r\n\t\t\t<% endif %>\r\n\t\t<% else %>\r\n\t\t\t<$action-setfield $tiddler=<<tiddlerWidthSetTiddler>> text={{{ [<tiddlerWidthConverted>addsuffix<tiddlerWidthMetric>] }}}/>\r\n\t\t<% endif %>\r\n\t<%elseif [<storyWidthCompare>compare:number:lteq<storyMinWidth>] %>\r\n\t\t<$action-setfield $tiddler=<<tiddlerWidthSetTiddler>> text={{{ [<tiddlerMinWidthConverted>addsuffix<tiddlerWidthMetric>] }}}/>\r\n\t<%elseif [<storyWidthCompare>compare:number:gteq<storyWidthMax>] %>\r\n\t\t<$action-setfield $tiddler=<<tiddlerWidthSetTiddler>> text={{{ [<tiddlerWidthMaxConverted>addsuffix<tiddlerWidthMetric>] }}}/>\r\n\t<% endif %>\n\n\t<%if [<storyWidth>!is[blank]] %>\r\n\t\t<$action-setfield $tiddler=<<storyWidthSetTiddler>> text={{{ [<storyWidthConverted>addsuffix<storyWidthMetric>] }}}/>\r\n\t<%elseif [<storyWidthCompare>compare:number:lt<storyMinWidth>] %>\r\n\t\t<$action-setfield $tiddler=<<storyWidthSetTiddler>> text={{{ [<storyMinWidthConverted>addsuffix<storyWidthMetric>] }}}/>\r\n\t<%elseif [<storyWidthCompare>compare:number:gt<storyWidthMax>] %>\r\n\t\t<$action-setfield $tiddler=<<storyWidthSetTiddler>> text={{{ [<storyWidthMaxConverted>addsuffix<storyWidthMetric>] }}}/>\r\n\t<% endif %>\n\n</$let>\n\n<$let\r\n\tstoryRightMetric={{{ [<get.resizer.state>get[story-right-metric]] }}}\r\n\tstoryRightConverted={{{ [function[convert.to.result],<storyRight>,<storyRightMetric>] }}}\r\n\tstoryRightMaxConverted={{{ [function[convert.to.result],<storyRightMax>,<storyRightMetric>] }}}\r\n\tstoryRightMinConverted={{{ [function[convert.to.result],<storyRightMin>,<storyRightMetric>] }}}\r\n\tstoryRightSetTiddler={{{ [<storyRightTiddler>!is[blank]] :else[<set.theme.metric storyright>] }}}>\n\n\t<%if [<storyRight>!is[blank]] %>\r\n\t\t<$action-setfield $tiddler=<<storyRightSetTiddler>> text={{{ [<storyRightConverted>addsuffix<storyRightMetric>] }}}/>\r\n\t<%elseif [<storyRightCompare>compare:number:lt<storyRightMin>] %>\r\n\t\t<$action-setfield $tiddler=<<storyRightSetTiddler>> text={{{ [<storyRightMinConverted>addsuffix<storyRightMetric>] }}}/>\r\n\t<%elseif [<storyRightCompare>compare:number:gt<storyRightMax>] %>\r\n\t\t<$action-setfield $tiddler=<<storyRightSetTiddler>> text={{{ [<storyRightMaxConverted>addsuffix<storyRightMetric>] }}}/>\r\n\t<% endif %>\r\n</$let>\r\n\\end\n\n\\procedure set-storywidth-storyright-actions-inner()\r\n<$let\r\n\tstoryWidthStart={{{ [<storyWidthStart>subtract<clampedDiff>] }}}\r\n\tstoryWidth={{{ [<intermediateStoryWidth>subtract<clampedDiff>] }}}\r\n\tstoryRight={{{ [<intermediateStoryRight>subtract<clampedDiff>] }}}\r\n\tstoryRightCompare={{{ [<intermediateStoryRight>subtract<clampedDiff>] }}}\r\n\tstoryWidthCompare={{{ [<storyWidth>] }}}\r\n\tinnerStoryWidth={{{ [<intermediateInnerStoryWidth>subtract<clampedDiff>] }}}\r\n\tinnerStoryWidthStart={{{ [<intermediateInnerStoryWidthStart>subtract<clampedDiff>] }}}\r\n\tinnerStoryWidthMin={{{ [<intermediateInnerStoryWidthMin>subtract<clampedDiff>] }}}\r\n\tstoryRightMax={{{ [<intermediateStoryRightMax>] }}}\r\n\ttiddlerWidthStartPixels={{{ [<tiddlerWidthMetric>match[%]then<tiddlerWidthStart>multiply<innerStoryWidthStart>divide[100]] :else[convert.to.pixels.locally<tiddlerWidthStart>] }}}\r\n\ttiddlerWidthStoryWidthDiff={{{ [<storyWidthStart>subtract<tiddlerWidthStartPixels>] }}}\r\n\ttiddlerMinWidth={{{ [<storyMinWidth>subtract<storyPaddingLeft>subtract<storyPaddingRight>compare:number:lteq<tiddlerWidthStartPixels>] :else[<tiddlerWidthStartPixels>] }}}\r\n\ttiddlerWidthMax={{{ [<storyWidthMax>subtract<tiddlerWidthStoryWidthDiff>] }}}\r\n\ttiddlerWidth={{{ [<tiddlerWidthStartPixels>add<dragDiff>] }}}\r\n\ttiddlerWidth={{{ [<storyWidth>compare:number:gt<storyMinWidth>compare:number:lt<storyWidthMax>then<tiddlerWidth>] :else[[]] }}}\r\n\tstoryRight={{{ [<storyRight>compare:number:lt<storyRightMax>compare:number:gt<storyRightMin>] :else[[]] }}}\r\n\tstoryWidth={{{ [<storyWidth>compare:number:lt<storyWidthMax>compare:number:gt<storyMinWidth>] :else[[]] }}}\r\n>\r\n\t<<set-storywidth-storyright-actions-inner-actions>>\r\n</$let>\r\n\\end\n\n\\procedure set-storywidth-storyright-actions()\r\n<$let\r\n\tstoryRightStart={{{ [<get.resizer.state>get[start-story-right]] }}}\r\n\tstoryWidthStart={{{ [<get.resizer.state>get[start-story-width]] }}}\r\n\tstoryRightStart={{{ [convert.to.pixels.locally<storyRightStart>] }}}\r\n\tstoryWidthStart={{{ [convert.to.pixels.locally<storyWidthStart>] }}}\r\n\tstoryPaddingLeftValue={{{ [<storyPaddingLeftTiddler>!is[blank]is[tiddler]get[text]] :else[<storyPaddingLeftTiddler>!is[blank]is[missing]then[0px]] :else[<get.theme.metric storypaddingleft>] }}}\r\n\tstoryPaddingLeft={{{ [convert.to.pixels.locally<storyPaddingLeftValue>] }}}\r\n\tstoryPaddingRightValue={{{ [<storyPaddingRightTiddler>!is[blank]is[tiddler]get[text]] :else[<storyPaddingRightTiddler>!is[blank]is[missing]then[0px]] :else[<get.theme.metric storypaddingright>] }}}\r\n\tstoryPaddingRight={{{ [convert.to.pixels.locally<storyPaddingRightValue>] }}}\r\n\tstoryMinWidthValue={{{ [<storyMinWidthTiddler>!is[blank]is[tiddler]get[text]] :else[<storyMinWidthTiddler>!is[blank]is[missing]then<get.left.minwidth>] :else[<get.theme.metric storyminwidth>] }}}\r\n\tstoryMinWidth={{{ [convert.to.pixels.locally<storyMinWidthValue>] }}}\r\n\tsidebarMinWidthValue={{{ [<sidebarMinWidthTiddler>!is[blank]is[tiddler]get[text]] :else[<sidebarMinWidthTiddler>!is[blank]is[missing]then<get.right.minwidth>] :else[<get.theme.metric sidebarminwidth>] }}}\r\n\tstoryLeftValue={{{ [<storyLeftTiddler>!is[blank]is[tiddler]get[text]] :else[<storyLeftTiddler>!is[blank]is[missing]then<get.story.left>] :else[<get.theme.metric storyleft>] }}}\r\n\tstoryLeft={{{ [convert.to.pixels.locally<storyLeftValue>] }}}\r\n\tsidebarMinWidth={{{ [convert.to.pixels.locally<sidebarMinWidthValue>] }}}\r\n\tstorySidebarOffset={{{ [convert.to.pixels.locally<get.story-sidebar.overlap>] :else[[0]] }}}\r\n\tstoryPaddingLeftExcess={{{ [<storyPaddingLeft>subtract<storySidebarOffset>] }}}\r\n\tstoryPaddingRightExcess={{{ [<storyPaddingRight>subtract<storySidebarOffset>] }}}\r\n\tsidebarMinWidthWithoutOffset={{{ [<sidebarMinWidth>subtract<storySidebarOffset>] }}}\r\n\ttiddlerWidthMetric={{{ [<get.resizer.state>get[tiddler-width-metric]] }}}\r\n\ttiddlerWidthStart={{{ [<get.resizer.state>get[start-tiddler-width]] }}}\r\n\tstoryMinWidth={{{ [<storyMinWidth>add<storyPaddingLeftExcess>add<storyPaddingRightExcess>compare:number:gteq[0]] :else[[0]] }}}\n\n\tstoryWidthOverlap={{{ [<storyWidthStart>add<storyLeft>subtract<storyRightStart>] }}}\r\n\tstoryRightOverlap={{{ [<storyRightStart>subtract<storyLeft>subtract<storyWidthStart>] }}}\n\n\tstoryWidthStart={{{ [<storyWidthStart>compare:number:gteq<storyMinWidth>] :else[<storyMinWidth>] }}}\n\n\tintermediateStoryWidth={{{ [<storyWidthStart>add<dragDiff>] }}}\r\n\tintermediateStoryRight={{{ [<storyRightStart>add<dragDiff>] }}}\n\n\tintermediateInnerStoryWidth={{{ [<intermediateStoryWidth>subtract<storyPaddingLeft>subtract<storyPaddingRight>] }}}\r\n\tintermediateInnerStoryWidthStart={{{ [<storyWidthStart>subtract<storyPaddingLeft>subtract<storyPaddingRight>] }}}\n\n\tintermediateStoryRightMax={{{ [<widgetNodeWidth>subtract<sidebarMinWidthWithoutOffset>] }}}\r\n\tintermediateStoryRightMin={{{ [<storyMinWidth>add<storyleft>] }}}\n\n\tintermediateStoryWidthMax={{{ [<widgetNodeWidth>subtract<sidebarMinWidthWithoutOffset>subtract<storyLeft>] }}}\n\n\tintermediateInnerStoryWidthMin={{{ [<storyMinWidth>subtract<storyPaddingLeft>subtract<storyPaddingRight>] }}}\r\n\tintermediateInnerStoryWidthMax={{{ [<intermediateStoryWidthMax>subtract<storyPaddingLeft>subtract<storyPaddingRight>] }}}\r\n>\n\n\t<%if [<storyWidthOverlap>compare:number:gteq[0]] %>\r\n\t\t<$let\r\n\t\t\tclampedDiff={{{ [<storyWidthStart>add<storyLeft>add<sidebarMinWidthWithoutOffset>subtract<storyWidthOverlap>subtract<widgetNodeWidth>compare:number:gt[0]] :else[[0]] }}}\r\n\t\t\tinnerStoryWidthMax={{{ [<intermediateInnerStoryWidthMax>add<storyWidthOverlap>] }}}\r\n\t\t\tstoryRightMin={{{ [<intermediateStoryRightMin>subtract<storyWidthOverlap>add<storyLeft>] }}}\r\n\t\t\tstoryWidthMax={{{ [<intermediateStoryWidthMax>add<storyWidthOverlap>] }}}\r\n\t\t>\r\n\t\t\t<<set-storywidth-storyright-actions-inner>>\r\n\t\t</$let>\r\n\t<% else %>\r\n\t\t<$let\r\n\t\t\tclampedDiff={{{ [<storyWidthStart>add<storyLeft>add<sidebarMinWidthWithoutOffset>subtract<storyRightOverlap>subtract<widgetNodeWidth>compare:number:gt[0]] :else[[0]] }}}\r\n\t\t\tinnerStoryWidthMax={{{ [<intermediateInnerStoryWidthMax>add<storyRightOverlap>] }}}\r\n\t\t\tstoryRightMin={{{ [<intermediateStoryRightMin>subtract<storyRightOverlap>add<storyLeft>] }}}\r\n\t\t\tstoryWidthMax={{{ [<intermediateStoryWidthMax>add<storyRightOverlap>] }}}\r\n\t\t>\r\n\t\t\t<<set-storywidth-storyright-actions-inner>>\r\n\t\t</$let>\r\n\t<% endif %>\n\n</$let>\r\n\\end\n\n\\function get.sidebar-width.result()\r\n[<sidebarWidth>compare:number:gt<sidebarMaxWidth>then<sidebarMaxWidthConverted>addsuffix<sidebarWidthMetric>]\r\n:else[<sidebarWidth>compare:number:lt<sidebarMinWidth>then<sidebarMinWidthConverted>addsuffix<sidebarWidthMetric>]\r\n:else[<sidebarWidthConverted>addsuffix<sidebarWidthMetric>]\r\n\\end\n\n\\procedure set-sidebarwidth-actions()\r\n<$let\r\n\tstartSidebarWidth={{{ [<get.resizer.state>get[start-sidebar-width]] }}}\r\n\tstartSidebarWidth={{{ [convert.to.pixels.locally<startSidebarWidth>] }}}\r\n\tsidebarWidth={{{ [<startSidebarWidth>subtract<dragDiff>] }}}\r\n\tstoryPaddingLeftValue={{{ [<storyPaddingLeftTiddler>!is[blank]is[tiddler]get[text]] :else[<storyPaddingLeftTiddler>!is[blank]is[missing]then<get.story-padding.left>] :else[<get.theme.metric storypaddingleft>] }}}\r\n\tstoryPaddingLeft={{{ [convert.to.pixels.locally<storyPaddingLeftValue>] }}}\r\n\tstoryPaddingRightValue={{{ [<storyPaddingRightTiddler>!is[blank]is[tiddler]get[text]] :else[<storyPaddingRightTiddler>!is[blank]is[missing]then<get.story-padding.right>] :else[<get.theme.metric storypaddingright>] }}}\r\n\tstoryPaddingRight={{{ [convert.to.pixels.locally<storyPaddingRightValue>] }}}\r\n\tsidebarMinWidthValue={{{ [<sidebarMinWidthTiddler>!is[blank]is[tiddler]get[text]] :else[<sidebarMinWidthTiddler>!is[blank]is[missing]then<get.right.minwidth>] :else[<get.theme.metric sidebarminwidth>] }}}\r\n\tsidebarWidthMetric={{{ [<get.resizer.state>get[sidebar-width-metric]] }}}\r\n\tsidebarMinWidth={{{ [convert.to.pixels.locally<sidebarMinWidthValue>] }}}\r\n\tstoryLeftValue={{{ [<storyLeftTiddler>!is[blank]is[tiddler]get[text]] :else[<storyLeftTiddler>!is[blank]is[missing]then<get.story.left>] :else[<get.theme.metric storyleft>] }}}\r\n\tstoryLeft={{{ [convert.to.pixels.locally<storyLeftValue>] }}}\r\n\tstoryMinWidthValue={{{ [<storyMinWidthTiddler>!is[blank]is[tiddler]get[text]] :else[<storyMinWidthTiddler>!is[blank]is[missing]then<get.left.minwidth>] :else[<get.theme.metric storyminwidth>] }}}\r\n\tstoryMinWidth={{{ [convert.to.pixels.locally<storyMinWidthValue>compare:number:gteq[0]] :else[[0]] }}}\r\n\tstorySidebarOffset={{{ [convert.to.pixels.locally<get.story-sidebar.overlap>] :else[[0]] }}}\r\n\tstoryPaddingLeftExcess={{{ [<storyPaddingLeft>subtract<storySidebarOffset>] }}}\r\n\tstoryPaddingRightExcess={{{ [<storyPaddingRight>subtract<storySidebarOffset>] }}}\r\n\tsidebarMaxWidth={{{ [<widgetNodeWidth>subtract<storyLeft>subtract<storyMinWidth>add<storySidebarOffset>subtract<storyPaddingLeftExcess>subtract<storyPaddingRightExcess>] }}}\r\n\tclampedDiff={{{ [<storyLeft>add<storyMinWidth>add<startSidebarWidth>subtract<storySidebarOffset>subtract<widgetNodeWidth>compare:number:gt[0]] :else[[0]] }}}\r\n\tsidebarWidth={{{ [<sidebarWidth>subtract<clampedDiff>] }}}\r\n\tsidebarWidth={{{ [<sidebarWidth>compare:number:gteq<sidebarMinWidth>] :else[<sidebarMinWidth>] }}}\r\n\tsidebarMaxWidth={{{ [<sidebarMaxWidth>compare:number:gteq<sidebarMinWidth>] :else[<sidebarMinWidth>] }}}\r\n>\n\n\t<$let\r\n\t\tsidebarWidthConverted={{{ [function[convert.to.result],<sidebarWidth>,<sidebarWidthMetric>] }}}\r\n\t\tsidebarMaxWidthConverted={{{ [function[convert.to.result],<sidebarMaxWidth>,<sidebarWidthMetric>] }}}\r\n\t\tsidebarMinWidthConverted={{{ [function[convert.to.result],<sidebarMinWidth>,<sidebarWidthMetric>] }}}\r\n\t\tsidebarWidthSetTiddler={{{ [<sidebarWidthTiddler>!is[blank]] :else[<set.theme.metric sidebarwidth>] }}}>\n\n\t\t<$action-setfield $tiddler=<<sidebarWidthSetTiddler>> text=<<get.sidebar-width.result>>/>\n\n\t</$let>\r\n</$let>\r\n\\end\n\n\\function get.story-width.centralised.result()\r\n[<storyWidth>compare:number:lt<storyMinWidth>then<storyMinWidthConverted>addsuffix<storyWidthMetric>]\r\n:else[<storyWidth>compare:number:gteq<storyWidthMax>then<storyWidthMaxConverted>addsuffix<storyWidthMetric>]\r\n:else[<storyWidthConverted>addsuffix<storyWidthMetric>]\r\n\\end\n\n\\procedure set-centralised-actions()\r\n<$let\r\n\tstoryMinWidthValue={{{ [<storyMinWidthTiddler>!is[blank]get[text]] :else[{$:/themes/tiddlywiki/centralised/metrics/storyminwidth}] }}}\r\n\tstoryMinWidth={{{ [convert.to.pixels.locally<storyMinWidthValue>compare:number:gteq[0]] :else[[0]] }}}\r\n\tstoryWidthStart={{{ [<get.resizer.state>get[start-story-width]] }}}\r\n\tstoryWidthStart={{{ [convert.to.pixels.locally<storyWidthStart>] }}}\r\n\tsidebarMinWidthValue={{{ [<sidebarMinWidthTiddler>!is[blank]is[tiddler]get[text]] :else[<sidebarMinWidthTiddler>!is[blank]is[missing]then<get.right.minwidth>] :else[{$:/themes/tiddlywiki/centralised/metrics/sidebarminwidth}] }}}\r\n\tsidebarMinWidth={{{ [convert.to.pixels.locally<sidebarMinWidthValue>] }}}\r\n\tstoryWidthMax={{{ [<widgetNodeWidth>subtract<sidebarMinWidth>subtract<sidebarMinWidth>] }}}\r\n\tdragDiffMultiplied={{{ [<dragDiff>multiply[2]] }}}\r\n\tstoryWidthClamped={{{ [<storyWidthStart>add<sidebarMinWidth>add<sidebarMinWidth>subtract<widgetNodeWidth>compare:number:gt[0]] :else[[0]] }}}\r\n\tstoryWidth={{{ [<storyWidthStart>add<dragDiffMultiplied>] }}}\r\n\tstoryWidth={{{ [<storyWidth>subtract<storyWidthClamped>] }}}>\n\n\t<$let\r\n\t\tstoryWidthMetric={{{ [<get.resizer.state>get[story-width-metric]] }}}\r\n\t\tstoryWidthConverted={{{ [function[convert.to.result],<storyWidth>,<storyWidthMetric>] }}}\r\n\t\tstoryMinWidthConverted={{{ [function[convert.to.result],<storyMinWidth>,<storyWidthMetric>] }}}\r\n\t\tstoryWidthMaxConverted={{{ [function[convert.to.result],<storyWidthMax>,<storyWidthMetric>] }}}\r\n\t\tstoryWidthSetTiddler={{{ [<storyWidthTiddler>!is[blank]] :else[<set.theme.metric storywidth>] }}}>\n\n\t\t<$action-setfield $tiddler=<<storyWidthSetTiddler>> text=<<get.story-width.centralised.result>>/>\n\n\t</$let>\n\n</$let>\r\n\\end\n\n\\function get.drag.diff()\r\n[<event-fromcatcher-posx>subtract<startPosX>]\r\n:map[<drag.direction.reverse>match[yes]then<currentTiddler>multiply[-1]else<currentTiddler>]\r\n\\end\n\n\\procedure sidebar-resizer-pointermove-actions()\r\n<%if [<get.resizer.state>is[tiddler]] %>\r\n\t<$let\r\n\t\tstartPosX={{{ [<get.resizer.state>get[start-posx]] }}}\r\n\t\twidgetNodeWidth={{{ [<get.resizer.state>get[widget-node-width]] }}}\r\n\t\tdragDiff=<<get.drag.diff>>>\r\n\t\t<%if [<tv-set-storywidth-storyright>match[yes]] %>\r\n\t\t\t<<set-theme-throttling storyright storyRightTiddler>>\r\n\t\t\t<<set-theme-throttling tiddlerwidth tiddlerWidthTiddler>>\r\n\t\t\t<<set-theme-throttling storywidth storyWidthTiddler>>\r\n\t\t\t<<set-storywidth-storyright-actions>>\r\n\t\t<% endif %>\r\n\t\t<%if [<tv-set-sidebarwidth>match[yes]] %>\r\n\t\t\t<<set-theme-throttling sidebarwidth sidebarWidthTiddler>>\r\n\t\t\t<<set-sidebarwidth-actions>>\r\n\t\t<% endif %>\r\n\t\t<%if [<tv-set-centralised>match[yes]] %>\r\n\t\t\t<<set-theme-throttling storywidth storyWidthTiddler>>\r\n\t\t\t<<set-centralised-actions>>\r\n\t\t<% endif %>\r\n\t</$let>\r\n<% endif %>\r\n\\end\n\n\\function get.resizer.class() tc-slider [<get.resizer.state>is[tiddler]then[tc-resizer-active]] [<resizer.class>] [<resizer.class>is[blank]then<qualify>addsuffix<currentTiddler>sha256[]addprefix[tc-slider-identified-]] +[join[ ]]\n\n\\function get.active.class(class) [<class>] [<resizer.class>match[tc-main-slider]] [<eventCatcherClass>] [<get.resizer.state>is[tiddler]then[tc-resizer-active]] +[join[ ]]\n\n\\function get.sidebar-resizer.pointerdown.actions()\r\n[<get.resizer.state>match[$:/state/sidebar/resizing]then<sidebar-resizer-pointerdown-actions>]\r\n:else[<sidebar-resizer-pointerdown-actions-inner>]\r\n\\end\n\n\\function get.sidebar-resizer.pointercancel.actions() [<get.resizer.state>is[tiddler]then<sidebar-resizer-pointercancel-actions>]\n\n\\function get.template-right.style.left() [<sliderCondition>match[no]then[0px]] :else[[calc(2 * ]addsuffix<get.resizer.style.width>addsuffix[)]]\n\n\\function get.template-left.style.flex-basis() [<sliderCondition>match[no]then[100%]] :else[[calc(]addsuffix<get.resizer.style.left>addsuffix[ - ]addsuffix<resizerWidthDivided>addsuffix[px)]]\n\n\\function get.template-right.style.flex-basis() [<sliderCondition>match[no]then[0%]] :else[[calc(]addsuffix<get.template-right.width>addsuffix[ - ]addsuffix<resizerWidthDivided>addsuffix[px)]]\n\n\\procedure sidebar-resizer(templateLeft:\"\",templateRight:\"\",mode:\"block\",eventCatcherClass:\"\",zIndexLeft:\"\")\n\n<$set name=\"resizerWidthDivided\" value={{{ [<get.resizer.style.width>divide[2]] }}}>\n\n\t<$eventcatcher\r\n\t\ttag=\"div\"\r\n\t\tclass=<<get.active.class tc-slider-pointerdown-eventcatcher>>\r\n\t\tselector=\".tc-slider\"\r\n\t\tmatchSelector=\".tc-slider\"\r\n\t\t$pointerdown=<<get.sidebar-resizer.pointerdown.actions>>\r\n\t\t$pointerup=<<sidebar-resizer-pointercancel-actions>>>\n\n\t\t<%if [<resizer.state>!match[no]] %>\n\n\t\t\t<$eventcatcher\r\n\t\t\t\ttag=\"div\"\r\n\t\t\t\tclass=<<get.active.class tc-slider-pointermove-eventcatcher-wrapper>>\r\n\t\t\t\tselector=\".tc-slider\"\r\n\t\t\t\tmatchSelector=\".tc-slider\"\r\n\t\t\t\t$pointerup={{{ [<get.resizer.state>is[tiddler]then<sidebar-resizer-pointercancel-actions>] }}}>\n\n\t\t\t\t<$eventcatcher\r\n\t\t\t\t\ttag=\"div\"\r\n\t\t\t\t\tselector=\".tc-slider-pointermove\"\r\n\t\t\t\t\tmatchSelector=\".tc-slider-pointermove\"\r\n\t\t\t\t\tclass=<<get.active.class tc-slider-pointermove-eventcatcher>>\r\n\t\t\t\t\t$pointerup=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t\t$pointerleave=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t\t$pointerout=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t\t$pointercancel=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t\t$pointerdown=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t\t$touchstart=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t\t$pointermove=<<sidebar-resizer-pointermove-actions>>\r\n\t\t\t\t\t$contextmenu=<<sidebar-resizer-pointercancel-actions>>>\n\n\t\t\t\t\t<div class=<<get.active.class tc-slider-pointermove>>/>\n\n\t\t\t\t</$eventcatcher>\n\n\t\t\t\t<%if [<templateLeft>is[variable]] [<templateLeft>is[tiddler]] %>\n\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle.display=\"flex\"\r\n\t\t\t\t\t\tstyle.position=\"relative\"\r\n\t\t\t\t\t\tstyle.flex-direction=\"column\"\r\n\t\t\t\t\t\tstyle.top=\"0\"\r\n\t\t\t\t\t\tstyle.left=\"0\"\r\n\t\t\t\t\t\tstyle.flex-basis=<<get.template-left.style.flex-basis>>\r\n\t\t\t\t\t\tstyle.width=<<get.template-left.style.flex-basis>>\r\n\t\t\t\t\t\tstyle.z-index=<<zIndexLeft>>\r\n\t\t\t\t\t>\n\n\t\t\t\t\t\t<%if [<templateLeft>is[variable]] %>\n\n\t\t\t\t\t\t\t<$transclude $variable=<<templateLeft>> mode=<<mode>>/>\n\n\t\t\t\t\t\t<% else %>\n\n\t\t\t\t\t\t\t<$transclude $tiddler=<<templateLeft>> mode=<<mode>>/>\n\n\t\t\t\t\t\t<% endif %>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t<% endif %>\n\n\t\t\t\t<%if [<get.slider.condition>match[yes]] %>\n\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=<<get.resizer.class>>\r\n\t\t\t\t\t\tstyle.position=<<get.resizer.style.position>>\r\n\t\t\t\t\t\tstyle.left=<<get.resizer.style.left>>\r\n\t\t\t\t\t\tstyle.width=<<get.resizer.style.width>>\r\n\t\t\t\t\t\tstyle.display=\"flex\"\r\n\t\t\t\t\t\tstyle.align-items=\"center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<$eventcatcher selector=\".tc-main-slider-chevron-container\" $click=<<main-slider-chevron-click-actions>>>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"tc-main-slider-chevron-container\"\r\n\t\t\t\t\t\t\t\tstyle.height=\"115px\"\r\n\t\t\t\t\t\t\t\tstyle.display=\"flex\"\r\n\t\t\t\t\t\t\t\tstyle.align-items=\"center\"\r\n\t\t\t\t\t\t\t\tstyle.justify-content=\"flex-end\"\r\n\t\t\t\t\t\t\t\tstyle.cursor=\"pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<%if [<get.theme.option sidebarposition>match[left]] %>\r\n\t\t\t\t\t\t\t\t\t{{$:/core/images/chevron-left}}\r\n\t\t\t\t\t\t\t\t<% else %>\r\n\t\t\t\t\t\t\t\t\t{{$:/core/images/chevron-right}}\r\n\t\t\t\t\t\t\t\t<% endif %>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</$eventcatcher>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t<% endif %>\n\n\t\t\t\t<%if [<templateRight>is[variable]then<sliderCondition>!match[no]] [<templateRight>is[tiddler]then<sliderCondition>!match[no]] %>\n\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle.display=\"flex\"\r\n\t\t\t\t\t\tstyle.position=\"relative\"\r\n\t\t\t\t\t\tstyle.flex-direction=\"column\"\r\n\t\t\t\t\t\tstyle.top=\"0\"\r\n\t\t\t\t\t\tstyle.left=<<get.template-right.style.left>>\r\n\t\t\t\t\t\tstyle.flex-basis=<<get.template-right.style.flex-basis>>\r\n\t\t\t\t\t\tstyle.width=<<get.template-right.style.flex-basis>>\r\n\t\t\t\t\t>\n\n\t\t\t\t\t\t<%if [<templateRight>is[variable]] %>\n\n\t\t\t\t\t\t\t<$transclude $variable=<<templateRight>> mode=<<mode>>/>\n\n\t\t\t\t\t\t<% else %>\n\n\t\t\t\t\t\t\t<$transclude $tiddler=<<templateRight>> mode=<<mode>>/>\n\n\t\t\t\t\t\t<% endif %>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t<% endif %>\n\n\t\t\t</$eventcatcher>\n\n\t\t<% endif %>\n\n\t</$eventcatcher>\n\n</$set>\n\n\\end\n\n\\procedure editor-resizer(template:\"\",mode:\"block\",sliderCondition:\"yes\",eventCatcherClass:\"\")\n\n<$eventcatcher\r\n\ttag=\"div\"\r\n\tclass=<<get.active.class tc-slider-pointerdown-eventcatcher>>\r\n\tselector=\".tc-slider\"\r\n\tmatchSelector=\".tc-slider\"\r\n\t$pointerdown=<<sidebar-resizer-pointerdown-actions-inner>>\r\n\t$pointerup=<<sidebar-resizer-pointercancel-actions>>>\n\n\t<%if [<resizer.state>!match[no]] %>\n\n\t\t<$eventcatcher\r\n\t\t\ttag=\"div\"\r\n\t\t\tclass=<<get.active.class tc-slider-pointermove-eventcatcher-wrapper>>\r\n\t\t\tselector=\".tc-slider\"\r\n\t\t\tmatchSelector=\".tc-slider\"\r\n\t\t\t$pointerup={{{ [<get.resizer.state>is[tiddler]then<sidebar-resizer-pointercancel-actions>] }}}>\n\n\t\t\t<$eventcatcher\r\n\t\t\t\ttag=\"div\"\r\n\t\t\t\tselector=\".tc-slider-pointermove\"\r\n\t\t\t\tmatchSelector=\".tc-slider-pointermove\"\r\n\t\t\t\tclass=<<get.active.class tc-slider-pointermove-eventcatcher>>\r\n\t\t\t\t$pointerup=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t$pointerleave=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t$pointerout=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t$pointercancel=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t$pointerdown=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t$touchstart=<<sidebar-resizer-pointercancel-actions>>\r\n\t\t\t\t$pointermove=<<sidebar-resizer-pointermove-actions>>\r\n\t\t\t\t$contextmenu=<<sidebar-resizer-pointercancel-actions>>>\n\n\t\t\t\t<div class=<<get.active.class tc-slider-pointermove>>/>\n\n\t\t\t</$eventcatcher>\n\n\t\t\t<%if [<get.slider.condition>match[yes]] %>\n\n\t\t\t\t<div\r\n\t\t\t\t\tclass=<<get.resizer.class>>\r\n\t\t\t\t/>\n\n\t\t\t<% endif %>\n\n\t\t</$eventcatcher>\n\n\t\t<%if [<template>is[variable]] %>\n\n\t\t\t<$transclude $variable=<<template>> mode=<<mode>>/>\n\n\t\t<% else %>\n\n\t\t\t<$transclude $tiddler=<<template>> mode=<<mode>>/>\n\n\t\t<% endif %>\n\n\t<% endif %>\n\n</$eventcatcher>\n\n\\end"},"$:/core/modules/editor/engines/simple.js":{"title":"$:/core/modules/editor/engines/simple.js","text":"/*\\\r\ntitle: $:/core/modules/editor/engines/simple.js\r\ntype: application/javascript\r\nmodule-type: library\r\n\r\nText editor engine based on a simple input or textarea tag\r\n\r\n\\*/\r\n(function(){\r\n\r\n/*jslint node: true, browser: true */\r\n/*global $tw: false */\r\n\"use strict\";\r\n\r\nvar HEIGHT_VALUE_TITLE = \"$:/config/TextEditor/EditorHeight/Height\";\r\n\r\nfunction SimpleEngine(options) {\r\n\t// Save our options\r\n\toptions = options || {};\r\n\tthis.widget = options.widget;\r\n\tthis.value = options.value;\r\n\tthis.parentNode = options.parentNode;\r\n\tthis.nextSibling = options.nextSibling;\r\n\t// Construct the textarea or input node\r\n\tvar tag = this.widget.editTag;\r\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\r\n\t\ttag = \"input\";\r\n\t}\r\n\tthis.domNode = this.widget.document.createElement(tag);\r\n\t// Set the text\r\n\tif(this.widget.editTag === \"textarea\") {\r\n\t\tthis.domNode.appendChild(this.widget.document.createTextNode(this.value));\r\n\t} else {\r\n\t\tthis.domNode.value = this.value;\r\n\t}\r\n\t// Set the attributes\r\n\tif(this.widget.editType && this.widget.editTag !== \"textarea\") {\r\n\t\tthis.domNode.setAttribute(\"type\",this.widget.editType);\r\n\t}\r\n\tif(this.widget.editPlaceholder) {\r\n\t\tthis.domNode.setAttribute(\"placeholder\",this.widget.editPlaceholder);\r\n\t}\r\n\tif(this.widget.editSize) {\r\n\t\tthis.domNode.setAttribute(\"size\",this.widget.editSize);\r\n\t}\r\n\tif(this.widget.editRows) {\r\n\t\tthis.domNode.setAttribute(\"rows\",this.widget.editRows);\r\n\t}\r\n\tif(this.widget.editClass) {\r\n\t\tthis.domNode.className = this.widget.editClass;\r\n\t}\r\n\tif(this.widget.editTabIndex) {\r\n\t\tthis.domNode.setAttribute(\"tabindex\",this.widget.editTabIndex);\r\n\t}\r\n\tif(this.widget.editAutoComplete) {\r\n\t\tthis.domNode.setAttribute(\"autocomplete\",this.widget.editAutoComplete);\r\n\t}\r\n\tif(this.widget.isDisabled === \"yes\") {\r\n\t\tthis.domNode.setAttribute(\"disabled\",true);\r\n\t}\r\n\t// Add an input event handler\r\n\t$tw.utils.addEventListeners(this.domNode,[\r\n\t\t{name: \"focus\", handlerObject: this, handlerMethod: \"handleFocusEvent\"},\r\n\t\t{name: \"input\", handlerObject: this, handlerMethod: \"handleInputEvent\"}\r\n\t]);\r\n\t// Insert the element into the DOM\r\n\tthis.parentNode.insertBefore(this.domNode,this.nextSibling);\r\n\tthis.widget.domNodes.push(this.domNode);\r\n}\r\n\r\nSimpleEngine.prototype.assignDomNodeClasses = function() {\r\n\tthis.domNode.className = this.widget.getAttribute(\"class\",\"\");\r\n};\r\n\r\n/*\r\nSet the text of the engine if it doesn't currently have focus\r\n*/\r\nSimpleEngine.prototype.setText = function(text,type) {\r\n\tif(!this.domNode.isTiddlyWikiFakeDom) {\r\n\t\tif(this.domNode.ownerDocument.activeElement !== this.domNode || text === \"\") {\r\n\t\t\tthis.updateDomNodeText(text);\r\n\t\t}\r\n\t\t// Fix the height if needed\r\n\t\tthis.fixHeight();\r\n\t}\r\n};\r\n\r\n/*\r\nUpdate the DomNode with the new text\r\n*/\r\nSimpleEngine.prototype.updateDomNodeText = function(text) {\r\n\ttry {\r\n\t\tthis.domNode.value = text;\r\n\t} catch(e) {\r\n\t\t// Ignore\r\n\t}\r\n};\r\n\r\n/*\r\nGet the text of the engine\r\n*/\r\nSimpleEngine.prototype.getText = function() {\r\n\treturn this.domNode.value;\r\n};\r\n\r\n/*\r\nFix the height of textarea to fit content\r\n*/\r\nSimpleEngine.prototype.fixHeight = function() {\r\n\tif(this.widget.editTag === \"textarea\") {\r\n\t\tif(this.widget.editAutoHeight) {\r\n\t\t\tif(this.domNode && !this.domNode.isTiddlyWikiFakeDom) {\r\n\t\t\t\t$tw.utils.resizeTextAreaToFit(this.domNode,this.widget.editMinHeight);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar fixedHeight = parseInt(this.widget.wiki.getTiddlerText(HEIGHT_VALUE_TITLE,\"400px\"),10);\r\n\t\t\tfixedHeight = Math.max(fixedHeight,20);\r\n\t\t\tthis.domNode.style.height = fixedHeight + \"px\";\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*\r\nFocus the engine node\r\n*/\r\nSimpleEngine.prototype.focus = function() {\r\n\tif(this.domNode.focus) {\r\n\t\tthis.domNode.focus();\r\n\t}\r\n\tif(this.domNode.select) {\r\n\t\t$tw.utils.setSelectionByPosition(this.domNode,this.widget.editFocusSelectFromStart,this.widget.editFocusSelectFromEnd);\r\n\t}\r\n};\r\n\r\n/*\r\nHandle a dom \"input\" event which occurs when the text has changed\r\n*/\r\nSimpleEngine.prototype.handleInputEvent = function(event) {\r\n\tthis.widget.saveChanges(this.getText());\r\n\tthis.fixHeight();\r\n\tif(this.widget.editInputActions) {\r\n\t\tthis.widget.invokeActionString(this.widget.editInputActions,this,event,{actionValue: this.getText()});\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n/*\r\nHandle a dom \"focus\" event\r\n*/\r\nSimpleEngine.prototype.handleFocusEvent = function(event) {\r\n\tif(this.widget.editCancelPopups) {\r\n\t\t$tw.popup.cancel(0);\r\n\t}\r\n\tif(this.widget.editFocusPopup) {\r\n\t\t$tw.popup.triggerPopup({\r\n\t\t\tdomNode: this.domNode,\r\n\t\t\ttitle: this.widget.editFocusPopup,\r\n\t\t\twiki: this.widget.wiki,\r\n\t\t\tforce: true\r\n\t\t});\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n/*\r\nCreate a blank structure representing a text operation\r\n*/\r\nSimpleEngine.prototype.createTextOperation = function() {\r\n\treturn null;\r\n};\r\n\r\n/*\r\nExecute a text operation\r\n*/\r\nSimpleEngine.prototype.executeTextOperation = function(operation) {\r\n};\r\n\r\nexports.SimpleEngine = SimpleEngine;\r\n\r\n})();","type":"application/javascript","module-type":"library"},"$:/themes/tiddlywiki/snowwhite/base":{"title":"$:/themes/tiddlywiki/snowwhite/base","tags":"[[$:/tags/Stylesheet]]","text":"\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline conditional\n\n<%if [{$:/theme}match[$:/themes/tiddlywiki/snowwhite]] %>\n\n.tc-sidebar-header {\r\n\ttext-shadow: 0 1px 0 <<colour sidebar-foreground-shadow>>;\r\n}\n\n.tc-tiddler-info {\r\n\t<<box-shadow \"inset 1px 2px 3px rgba(0,0,0,0.1)\">>\r\n}\n\n@media screen {\r\n\t.tc-tiddler-frame {\r\n\t\t<<box-shadow \"1px 1px 5px rgba(0, 0, 0, 0.3)\">>\r\n\t}\r\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\r\n\t.tc-tiddler-frame {\r\n\t\t<<box-shadow none>>\r\n\t}\r\n}\n\n.tc-page-controls button svg, .tc-tiddler-controls button svg, .tc-topbar button svg {\r\n\t<<transition \"fill 150ms ease-in-out\">>\r\n}\n\n.tc-tiddler-controls button.tc-selected,\r\n.tc-page-controls button.tc-selected {\r\n\t<<filter \"drop-shadow(0px -1px 2px rgba(0,0,0,0.25))\">>\r\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor,\r\n.tc-tiddler-frame select.tc-edit-texteditor {\r\n\t<<box-shadow \"inset 0 1px 8px rgba(0, 0, 0, 0.15)\">>\r\n}\n\n.tc-edit-tags {\r\n\t<<box-shadow \"inset 0 1px 8px rgba(0, 0, 0, 0.15)\">>\r\n}\n\n.tc-tiddler-frame .tc-edit-tags input.tc-edit-texteditor {\r\n\t<<box-shadow \"none\">>\r\n\tborder: none;\r\n\toutline: none;\r\n}\n\ntextarea.tc-edit-texteditor {\r\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\r\n}\n\ncanvas.tc-edit-bitmapeditor  {\r\n\t<<box-shadow \"2px 2px 5px rgba(0, 0, 0, 0.5)\">>\r\n}\n\n.tc-drop-down {\r\n\tborder-radius: 4px;\r\n\t<<box-shadow \"2px 2px 10px rgba(0, 0, 0, 0.5)\">>\r\n}\n\n.tc-block-dropdown {\r\n\tborder-radius: 4px;\r\n\t<<box-shadow \"2px 2px 10px rgba(0, 0, 0, 0.5)\">>\r\n}\n\n.tc-modal {\r\n\tborder-radius: 6px;\r\n\t<<box-shadow \"0 3px 7px rgba(0,0,0,0.3)\">>\r\n}\n\n.tc-modal-footer {\r\n\tborder-radius: 0 0 6px 6px;\r\n\t<<box-shadow \"inset 0 1px 0 #fff\">>;\r\n}\n\n\r\n.tc-alert {\r\n\tborder-radius: 6px;\r\n\t<<box-shadow \"0 3px 7px rgba(0,0,0,0.6)\">>\r\n}\n\n.tc-notification {\r\n\tborder-radius: 6px;\r\n\t<<box-shadow \"0 3px 7px rgba(0,0,0,0.3)\">>\r\n\ttext-shadow: 0 1px 0 rgba(255,255,255, 0.8);\r\n}\n\n.tc-sidebar-lists .tc-tab-set .tc-tab-divider {\r\n\tborder-top: none;\r\n\theight: 1px;\r\n\t<<background-linear-gradient \"left, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.0) 100%\">>\r\n}\n\n.tc-more-sidebar > .tc-tab-set > .tc-tab-buttons > button {\r\n\t<<background-linear-gradient \"left, rgba(0,0,0,0.01) 0%, rgba(0,0,0,0.1) 100%\">>\r\n}\n\n.tc-more-sidebar > .tc-tab-set > .tc-tab-buttons > button.tc-tab-selected {\r\n\t<<background-linear-gradient \"left, rgba(0,0,0,0.05) 0%, rgba(255,255,255,0.05) 100%\">>\r\n}\n\n.tc-message-box img {\r\n\t<<box-shadow \"1px 1px 3px rgba(0,0,0,0.5)\">>\r\n}\n\n.tc-plugin-info {\r\n\t<<box-shadow \"1px 1px 3px rgba(0,0,0,0.5)\">>\r\n}\n\n<% endif %>"},"$:/themes/tiddlywiki/snowwhite/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/snowwhite/options/sidebarresizer","text":"show"},"$:/themes/tiddlywiki/starlight/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/starlight/options/sidebarresizer","text":"show"},"$:/snippets/themeswitcher":{"title":"$:/snippets/themeswitcher","text":"\\whitespace trim\r\n<$linkcatcher to=\"$:/theme\">\r\n<div class=\"tc-chooser\">\r\n<$list filter=\"[plugin-type[theme]sort[title]]\">\r\n<$set name=\"cls\" filter=\"[all[current]field:title{$:/theme}] [<get.current.theme>field:title<currentTiddler>] +[limit[1]]\" value=\"tc-chooser-item tc-chosen\" emptyValue=\"tc-chooser-item\">\r\n<div class=<<cls>>><$link to={{!!title}}>\r\n''<$view field=\"name\" format=\"text\"/>''\r\n&#32;\r\n<$view field=\"description\" format=\"text\"/>\r\n</$link>\r\n</div>\r\n</$set>\r\n</$list>\r\n</div>\r\n</$linkcatcher>"},"$:/themes/tiddlywiki/vanilla/themetweaks":{"title":"$:/themes/tiddlywiki/vanilla/themetweaks","tags":"$:/tags/ControlPanel/Appearance","caption":"{{$:/language/ThemeTweaks/ThemeTweaks}}","text":"\\function get.theme-tweaks.metric() [get.theme<metric>]\n\n\\procedure get-theme-tweaks-lingo() <$transclude $variable=\"lingo\" title=`Metrics/$(metricName)$`/>\n\n\\procedure get-theme-tweaks-lingo-hint() <$transclude $variable=\"lingo\" title=`Metrics/$(metricName)$/Hint`/>\n\n\\procedure reset-slider-tiddlers()\r\n<$list filter=\"StoryLeft StoryRight StoryWidth StoryMinWidth StoryPaddingLeft StoryPaddingRight TiddlerWidth SidebarWidth SidebarPadding +[enlist-input[]]\" variable=\"metricName\">\r\n<$set name=\"metric\" value={{{ [<metricName>lowercase[]] }}}>\r\n<$action-deletetiddler $tiddler=<<get.theme-tweaks.metric>>/>\r\n</$set>\r\n</$list>\r\n\\end\n\n\\define lingo-base() $:/language/ThemeTweaks/\n\n\\define replacement-text()\r\n[img[$(imageTitle)$]]\r\n\\end\n\n\\define backgroundimage-dropdown()\r\n<div class=\"tc-drop-down-wrapper\">\r\n<$set name=\"state\" value=<<qualify \"$:/state/popup/themetweaks/backgroundimage\">>>\r\n<$button popup=<<state>> class=\"tc-btn-invisible tc-btn-dropdown\">{{$:/core/images/down-arrow}}</$button>\r\n<$reveal state=<<state>> type=\"popup\" position=\"belowleft\" text=\"\" default=\"\" class=\"tc-popup-keep\">\r\n<div class=\"tc-drop-down\" style=\"text-align:center;\">\r\n<$macrocall $name=\"image-picker\" actions=\"\"\"\n\n<$action-setfield\r\n\t$tiddler=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimage\"\r\n\t$value=<<imageTitle>>\r\n/>\n\n<$action-deletetiddler $tiddler=<<state>>/>\n\n\"\"\"/>\r\n</div>\r\n</$reveal>\r\n</$set>\r\n</div>\r\n\\end\n\n\\define backgroundimageattachment-dropdown()\r\n<$select tiddler=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment\" default=\"scroll\">\r\n<option value=\"scroll\"><<lingo Settings/BackgroundImageAttachment/Scroll>></option>\r\n<option value=\"fixed\"><<lingo Settings/BackgroundImageAttachment/Fixed>></option>\r\n</$select>\r\n\\end\n\n\\define backgroundimagesize-dropdown()\r\n<$select tiddler=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize\" default=\"scroll\">\r\n<option value=\"auto\"><<lingo Settings/BackgroundImageSize/Auto>></option>\r\n<option value=\"cover\"><<lingo Settings/BackgroundImageSize/Cover>></option>\r\n<option value=\"contain\"><<lingo Settings/BackgroundImageSize/Contain>></option>\r\n</$select>\r\n\\end\n\n\\whitespace trim\n\n<<lingo ThemeTweaks/Hint>>\n\n! <<lingo Options>>\n\n|<$link to=\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\"><<lingo Options/SidebarLayout>></$link> |<$select tiddler=\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\"><option value=\"fixed-fluid\"><<lingo Options/SidebarLayout/Fixed-Fluid>></option><option value=\"fluid-fixed\"><<lingo Options/SidebarLayout/Fluid-Fixed>></option></$select> |\r\n|<$link to=\"$:/themes/tiddlywiki/vanilla/options/stickytitles\"><<lingo Options/StickyTitles>></$link><br>//<<lingo Options/StickyTitles/Hint>>// |<$select tiddler=\"$:/themes/tiddlywiki/vanilla/options/stickytitles\"><option value=\"no\">{{$:/language/No}}</option><option value=\"yes\">{{$:/language/Yes}}</option></$select> |\r\n|<$link to=\"$:/themes/tiddlywiki/vanilla/options/codewrapping\"><<lingo Options/CodeWrapping>></$link> |<$select tiddler=\"$:/themes/tiddlywiki/vanilla/options/codewrapping\"><option value=\"pre\">{{$:/language/No}}</option><option value=\"pre-wrap\">{{$:/language/Yes}}</option></$select> |\r\n|<$link to={{{ [function[get.base.theme.option],<get.current.theme>,[sidebarposition]first[]] }}}><<lingo Options/SidebarPosition>></$link> |<$select tiddler={{{ [function[get.base.theme.option],<get.current.theme>,[sidebarposition]first[]] }}}><option value=\"right\">{{$:/language/Right}}</option><option value=\"left\">{{$:/language/Left}}</option></$select> |\r\n|<$link to={{{ [function[get.base.theme.option],<get.current.theme>,[sidebarresizer]first[]] }}}><<lingo Options/SidebarResizer>></$link> |<$select tiddler={{{ [function[get.base.theme.option],<get.current.theme>,[sidebarresizer]first[]] }}}><option value=\"hide\">{{$:/language/No}}</option><option value=\"show\">{{$:/language/Yes}}</option></$select> |\r\n|<$link to={{{ [function[get.base.theme.option],<get.current.theme>,[storyriverclass]first[]] }}}><<lingo Options/StoryRiverClass>></$link> |<$edit-text tag=\"input\" tiddler={{{ [function[get.base.theme.option],<get.current.theme>,[storyriverclass]first[]] }}}/> |\r\n|<$link to={{{ [function[get.base.theme.option],<get.current.theme>,[sidebarclass]first[]] }}}><<lingo Options/SidebarClass>></$link> |<$edit-text tag=\"input\" tiddler={{{ [function[get.base.theme.option],<get.current.theme>,[sidebarclass]first[]] }}}/> |\n\n! <<lingo Settings>>\n\n|<$link to=\"$:/themes/tiddlywiki/vanilla/settings/fontfamily\"><<lingo Settings/FontFamily>></$link> |<$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings/fontfamily\" default=\"\" tag=\"input\"/> | |\r\n|<$link to=\"$:/themes/tiddlywiki/vanilla/settings/codefontfamily\"><<lingo Settings/CodeFontFamily>></$link> |<$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings/codefontfamily\" default=\"\" tag=\"input\"/> | |\r\n|<$link to=\"$:/themes/tiddlywiki/vanilla/settings/editorfontfamily\"><<lingo Settings/EditorFontFamily>></$link> |<$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings/editorfontfamily\" default=\"\" tag=\"input\"/> | |\r\n|<$link to=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimage\"><<lingo Settings/BackgroundImage>></$link> |<$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimage\" default=\"\" tag=\"input\"/> |<<backgroundimage-dropdown>> |\r\n|<$link to=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment\"><<lingo Settings/BackgroundImageAttachment>></$link> |<<backgroundimageattachment-dropdown>> | |\r\n|<$link to=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize\"><<lingo Settings/BackgroundImageSize>></$link> |<<backgroundimagesize-dropdown>> | |\n\n! <<lingo Metrics>>\n\n<<lingo Metrics/SidebarResizer/Hint>>\n\n<$button actions=<<reset-slider-tiddlers>>>Reset</$button>\n\n<table>\r\n<tbody>\r\n<$list filter=\"FontSize LineHeight BodyFontSize BodyLineHeight StoryLeft StoryTop StoryRight StoryWidth StoryMinWidth StoryPaddingLeft StoryPaddingRight TiddlerWidth SidebarBreakpoint SidebarWidth SidebarPadding SliderOpacity SliderOpacityHover PreviewSliderWidth :except[<get.theme.option sidebarlayout>match[fluid-fixed]then[StoryRight StoryWidth TiddlerWidth]enlist-input[]] :except[<get.theme.option sidebarlayout>match[fixed-fluid]then[SidebarWidth]]\" variable=\"metricName\" counter=\"counter\">\r\n<$set name=\"metric\" value={{{ [<metricName>lowercase[]] }}}>\r\n<tr class={{{ [<counter>remainder[2]match[0]then[oddRow]] :else[[evenRow]] }}}>\r\n<td><$link to=<<get.theme-tweaks.metric>>><<get-theme-tweaks-lingo>></$link><br>//<<get-theme-tweaks-lingo-hint>>//  </td><td><$edit-text tiddler=<<get.theme-tweaks.metric>> default=\"\" tag=\"input\"/> </td>\r\n</tr>\r\n</$set>\r\n</$list>\r\n</tbody>\r\n</table>"},"$:/themes/tiddlywiki/tight/functions":{"title":"$:/themes/tiddlywiki/tight/functions","text":"\\function set.centralised() no\r\n\\function set.storywidth.storyright() [{$:/themes/tiddlywiki/vanilla/options/sidebarlayout}match[fixed-fluid]then[yes]] :else[[no]]\r\n\\function set.sidebarwidth() [{$:/themes/tiddlywiki/vanilla/options/sidebarlayout}match[fluid-fixed]then[yes]] :else[[no]]\n\n\\function get.story-sidebar.overlap() 0px\n\n\\function sidebar.resizer.maxwidth() 12px\r\n\\function sidebar.resizer.width() [<sidebar.resizer.maxwidth>]"},"$:/themes/tiddlywiki/tight-heavier/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/tight-heavier/options/sidebarresizer","text":"show"},"$:/themes/tiddlywiki/tight/metrics/sidebarpadding":{"title":"$:/themes/tiddlywiki/tight/metrics/sidebarpadding","text":"0px"},"$:/themes/tiddlywiki/tight/metrics/sidebarwidth":{"title":"$:/themes/tiddlywiki/tight/metrics/sidebarwidth","text":"350px"},"$:/themes/tiddlywiki/tight/metrics/sliderchevroncontainerwidth":{"title":"$:/themes/tiddlywiki/tight/metrics/sliderchevroncontainerwidth","text":"10.5px"},"$:/themes/tiddlywiki/tight/metrics/sliderchevroncontainertransformx":{"title":"$:/themes/tiddlywiki/tight/metrics/sliderchevroncontainertransformx","text":"5px"},"$:/themes/tiddlywiki/tight/metrics/storypaddingleft":{"title":"$:/themes/tiddlywiki/tight/metrics/storypaddingleft","text":"0px"},"$:/themes/tiddlywiki/tight/metrics/storypaddingright":{"title":"$:/themes/tiddlywiki/tight/metrics/storypaddingright","text":"0px"},"$:/themes/tiddlywiki/tight/metrics/storyright":{"title":"$:/themes/tiddlywiki/tight/metrics/storyright","text":"770px"},"$:/themes/tiddlywiki/tight/metrics/storywidth":{"title":"$:/themes/tiddlywiki/tight/metrics/storywidth","text":"770px"},"$:/themes/tiddlywiki/tight/metrics/tiddlerwidth":{"title":"$:/themes/tiddlywiki/tight/metrics/tiddlerwidth","text":"770px"},"$:/themes/tiddlywiki/tight/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/tight/options/sidebarresizer","text":"show"},"$:/themes/tiddlywiki/tight/base":{"title":"$:/themes/tiddlywiki/tight/base","tags":"$:/tags/Stylesheet","text":"\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline conditional\n\n<%if [{$:/theme}match[$:/themes/tiddlywiki/tight]] [{$:/theme}match[$:/themes/tiddlywiki/tight-heavier]] %>\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\r\n}\n\n@media (min-width: <<sidebarbreakpoint>>) {\n\n\thtml body.tc-body {\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 16px;\r\n\t}\n\n\thtml body.tc-body h1,\r\n\thtml body.tc-body h2,\r\n\thtml body.tc-body h3,\r\n\thtml body.tc-body h4,\r\n\thtml body.tc-body p {\r\n\t\tmargin-top: 0.3em;\r\n\t\tmargin-bottom: 0.3em;\r\n\t}\n\n\thtml body.tc-body code {\r\n\t\tfont-size: 0.8em;\r\n\t}\n\n\thtml body.tc-body section.<<get.theme.option storyriverclass>> {\r\n\t\tpadding: 0px <<get.theme.metric storypaddingright>> 0px <<get.theme.metric storypaddingleft>>;\r\n\t}\n\n\thtml body.tc-body div.tc-tiddler-frame {\r\n\t\tpadding: 12px;\r\n\t}\n\n\thtml body.tc-body div.<<get.theme.option sidebarclass>> {\r\n\t\tpadding: 12px 0 12px 12px;\r\n\t}\n\n\thtml body.tc-body .tc-sidebar-left div.<<get.theme.option sidebarclass>> {\r\n\t\tpadding: 12px 12px 12px 12px;\r\n\t}\n\n\thtml[dir=\"rtl\"] body.tc-body .tc-sidebar-left div.<<get.theme.option sidebarclass>> {\r\n\t\tpadding: 12px 12px 12px 0;\r\n\t}\n\n\t<%if [{$:/themes/tiddlywiki/vanilla/options/sidebarlayout}match[fixed-fluid]] %>\n\n\t\thtml body.tc-body div.<<get.theme.option sidebarclass>> {\r\n\t\t\tleft: clamp(calc(<<get.theme.metric storyleft>> + <<get.theme.metric storyminwidth>> + 42px),calc(<<get.theme.metric storyright>> + 42px),calc(100% - <<get.theme.metric sidebarminwidth>> + 42px));\r\n\t\t}\n\n\t\thtml body.tc-body .tc-sidebar-left div.<<get.theme.option sidebarclass>> {\r\n\t\t\tleft: 0;\r\n\t\t\tright: clamp(calc(<<get.theme.metric storyleft>> + <<get.theme.metric storyminwidth>> + 42px),calc(<<get.theme.metric storyright>> + 42px),calc(100% - <<get.theme.metric sidebarminwidth>> + 42px));\r\n\t\t}\n\n\t<% endif %>\n\n\thtml body.tc-body .tc-tiddler-frame .tc-subtitle {\r\n\t\tfont-size: 0.7em;\r\n\t\tfont-weight: 700;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-subtitle .tc-tiddlylink {\r\n\t\tmargin-right: .3em;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-tags-wrapper {\r\n\t\tmargin: 0;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame button.tc-tag-label,\r\n\thtml body.tc-body .tc-tiddler-frame span.tc-tag-label {\r\n\t\tfont-size: 0.8em;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-tiddler-body h1 {\r\n\t\tfont-size: 1.5em;\r\n\t\tfont-weight: 500;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-tiddler-body h2 {\r\n\t\tfont-size: 1.3em;\r\n\t\tfont-weight: 500;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-tiddler-body h3 {\r\n\t\tfont-size: 1.2em;\r\n\t\tfont-weight: 500;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-tiddler-body h4 {\r\n\t\tfont-size: 1.1em;\r\n\t\tfont-weight: 500;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-improvement-banner {\r\n\t\tmargin-right: -15px;\r\n\t\tmargin-left: -10px;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-tiddler-info {\r\n\t\tmargin: 0 -13px 0 -13px;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-fold-banner {\r\n\t\twidth: 13px;\r\n\t\tmargin-left: -15px;\r\n\t}\n\n\thtml body.tc-body .tc-tiddler-frame .tc-unfold-banner {\r\n\t\tmargin-left: -13px;\r\n\t\tmargin-top: -4px;\r\n\t}\n\n}\n\n<% endif %>"},"$:/core/ui/TopBarLeft/menu":{"title":"$:/core/ui/TopBarLeft/menu","tags":"$:/tags/TopLeftBar","text":"\\whitespace trim\r\n<$list filter=\"[[$:/state/sidebar]get[text]] +[else[yes]!match[no]]\" variable=\"ignore\">\r\n<$button set=\"$:/state/sidebar\" setTo=\"no\" tooltip={{$:/language/Buttons/HideSideBar/Hint}} aria-label={{$:/language/Buttons/HideSideBar/Caption}} class=\"tc-btn-invisible tc-hide-sidebar-btn\">{{$:/core/images/chevron-left}}</$button>\r\n</$list>\r\n<$list filter=\"[[$:/state/sidebar]get[text]] +[else[yes]match[no]]\" variable=\"ignore\">\r\n<$button set=\"$:/state/sidebar\" setTo=\"yes\" tooltip={{$:/language/Buttons/ShowSideBar/Hint}} aria-label={{$:/language/Buttons/ShowSideBar/Caption}} class=\"tc-btn-invisible tc-show-sidebar-btn\">{{$:/core/images/chevron-right}}</$button>\r\n</$list>"},"$:/themes/tiddlywiki/vanilla/base":{"title":"$:/themes/tiddlywiki/vanilla/base","tags":"[[$:/tags/Stylesheet]]","list-before":"","code-body":"yes","text":"\\define custom-background-datauri()\r\n<$set name=\"background\" value={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}}>\r\n<$list filter=\"[<background>is[image]]\">\r\n`background: url(`\r\n<$list filter=\"[<background>!has[_canonical_uri]]\">\r\n`\"`<$macrocall $name=\"datauri\" title={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}}/>`\"`\r\n</$list>\r\n<$list filter=\"[<background>has[_canonical_uri]]\">\r\n`\"`<$view tiddler={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}} field=\"_canonical_uri\"/>`\"`\r\n</$list>\r\n`) center center;`\r\n`background-attachment: `{{$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment}}`;\r\n-webkit-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\r\n-moz-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\r\n-o-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\r\nbackground-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;`\r\n</$list>\r\n</$set>\r\n\\end\n\n\\define if-fluid-fixed(text,hiddenSidebarText)\r\n<$reveal state=\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\" type=\"match\" text=\"fluid-fixed\">\r\n$text$\r\n<$reveal state=\"$:/state/sidebar\" type=\"nomatch\" text=\"yes\" default=\"yes\">\r\n$hiddenSidebarText$\r\n</$reveal>\r\n</$reveal>\r\n\\end\n\n\\define if-editor-height-fixed(then,else)\r\n<$reveal state=\"$:/config/TextEditor/EditorHeight/Mode\" type=\"match\" text=\"fixed\">\r\n$then$\r\n</$reveal>\r\n<$reveal state=\"$:/config/TextEditor/EditorHeight/Mode\" type=\"match\" text=\"auto\">\r\n$else$\r\n</$reveal>\r\n\\end\n\n\\define set-type-selector-min-width()\r\n<$set name=\"typeLength\" value={{{ [all[shadows+tiddlers]prefix[$:/language/Docs/Types/]get[name]length[]maxall[]] }}}>\n\n\t.tc-type-selector-dropdown-wrapper {\r\n\t\tmin-width: calc(<<typeLength>>ch + 4em);\r\n\t}\n\n\t.tc-type-selector-dropdown-wrapper input.tc-edit-typeeditor {\r\n\t\tmin-width: <<typeLength>>ch;\r\n\t}\n\n</$set>\r\n\\end\n\n\\import [function[get.base.functions.theme],<get.current.theme>first[]is[tiddler]] :else[function[get.base.functions.theme],<get.current.theme>first[]is[shadow]] :else[[$:/themes/tiddlywiki/vanilla/functions]]\n\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\n\n/*\r\n** Start with the normalize CSS reset, and then belay some of its effects\r\n*/\n\n{{$:/themes/tiddlywiki/vanilla/reset}}\n\ninput[type=\"search\"] {\r\n\toutline-offset: initial;\r\n}\n\nbutton:focus-visible, input:focus-visible, textarea:focus-visible, select:focus-visible {\r\n\toutline: 2px solid <<colour primary>>;\r\n\toutline-offset: -2px;\r\n\tborder-radius: 0.25em;\r\n}\n\nbutton:-moz-focusring, input:-moz-focusring, textarea:-moz-focusring, select:-moz-focusring {\r\n\toutline: 2px solid <<colour primary>>;\r\n\toutline-offset: -2px;\r\n\tborder-radius: 0.25em;\r\n}\n\n/*\r\n** Button default styles. Makes them look consistent for all browsers\r\n*/\r\nhtml button {\r\n\tline-height: 1.2;\r\n\tcolor: <<colour button-foreground>>;\r\n\tfill: <<colour button-foreground>>;\r\n\tbackground: <<colour button-background>>;\r\n\tborder-color: <<colour button-border>>;\r\n}\n\nbutton:disabled svg {\r\n\tfill: <<colour muted-foreground>>;\r\n}\n\n/*\r\n** Basic element styles\r\n*/\n\nhtml, body {\r\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/fontfamily}};\r\n\ttext-rendering: optimizeLegibility; /* Enables kerning and ligatures etc. */\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n}\n\nhtml:-webkit-full-screen {\r\n\tbackground-color: <<colour page-background>>;\r\n}\n\nbody.tc-body {\r\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/fontsize}};\r\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/lineheight}};\r\n\tword-wrap: break-word;\r\n\t<<custom-background-datauri>>\r\n\tcolor: <<colour foreground>>;\r\n\tbackground-color: <<colour page-background>>;\r\n\tfill: <<colour foreground>>;\r\n}\n\n<<if-background-attachment \"\"\"\n\nbody.tc-body {\r\n\tbackground-color: transparent;\r\n}\n\n\"\"\">>\n\n/**\r\n * Correct the font size and margin on `h1` elements within `section` and\r\n * `article` contexts in Chrome, Firefox, and Safari.\r\n */\n\nh1 {\r\n\tfont-size: 2em;\r\n}\n\nh1, h2, h3, h4, h5, h6 {\r\n\tline-height: 1.2;\r\n\tfont-weight: normal;\r\n}\n\npre {\r\n\tdisplay: block;\r\n\tmargin-top: 1em;\r\n\tmargin-bottom: 1em;\r\n\tword-break: normal;\r\n\tword-wrap: break-word;\r\n\twhite-space: {{$:/themes/tiddlywiki/vanilla/options/codewrapping}};\r\n\tbackground-color: <<colour pre-background>>;\r\n\tborder: 1px solid <<colour pre-border>>;\r\n\tpadding: 0 3px 2px;\r\n\tborder-radius: 3px;\r\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\r\n}\n\ncode {\r\n\tcolor: <<colour code-foreground>>;\r\n\tbackground-color: <<colour code-background>>;\r\n\tborder: 1px solid <<colour code-border>>;\r\n\twhite-space: pre-wrap;\r\n\tpadding: 0 3px 2px;\r\n\tborder-radius: 3px;\r\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\r\n}\n\nblockquote {\r\n\tborder-left: 5px solid <<colour blockquote-bar>>;\r\n\tmargin-left: 25px;\r\n\tpadding-left: 10px;\r\n\tquotes: \"\\201C\"\"\\201D\"\"\\2018\"\"\\2019\";\r\n}\n\nblockquote > div {\r\n\tmargin-top: 1em;\r\n\tmargin-bottom: 1em;\r\n}\n\nblockquote.tc-big-quote {\r\n\tfont-family: Georgia, serif;\r\n\tposition: relative;\r\n\tbackground: <<colour pre-background>>;\r\n\tborder-left: none;\r\n\tmargin-left: 50px;\r\n\tmargin-right: 50px;\r\n\tpadding: 10px;\r\n\tborder-radius: 8px;\r\n}\n\nblockquote.tc-big-quote cite:before {\r\n\tcontent: \"\\2014 \\2009\";\r\n}\n\nblockquote.tc-big-quote:before {\r\n\tfont-family: Georgia, serif;\r\n\tcolor: <<colour blockquote-bar>>;\r\n\tcontent: open-quote;\r\n\tfont-size: 8em;\r\n\tline-height: 0.1em;\r\n\tmargin-right: 0.25em;\r\n\tvertical-align: -0.4em;\r\n\tposition: absolute;\r\n\tleft: -50px;\r\n\ttop: 42px;\r\n}\n\nblockquote.tc-big-quote:after {\r\n\tfont-family: Georgia, serif;\r\n\tcolor: <<colour blockquote-bar>>;\r\n\tcontent: close-quote;\r\n\tfont-size: 8em;\r\n\tline-height: 0.1em;\r\n\tmargin-right: 0.25em;\r\n\tvertical-align: -0.4em;\r\n\tposition: absolute;\r\n\tright: -80px;\r\n\tbottom: -20px;\r\n}\n\ndl dt {\r\n\tfont-weight: bold;\r\n\tmargin-top: 6px;\r\n}\n\ntextarea,\r\ninput[type=text],\r\ninput[type=search],\r\ninput[type=number],\r\ninput[type=password],\r\ninput[type=email],\r\ninput[type=tel],\r\ninput[type=url],\r\ninput[type=\"\"],\r\ninput:not([type]) {\r\n\tcolor: <<colour foreground>>;\r\n\tbackground: <<colour background>>;\r\n}\n\ninput[type=\"checkbox\"] {\r\n\tvertical-align: middle;\r\n}\n\ninput[type=\"search\"]::-webkit-search-decoration,\r\ninput[type=\"search\"]::-webkit-search-cancel-button,\r\ninput[type=\"search\"]::-webkit-search-results-button,\r\ninput[type=\"search\"]::-webkit-search-results-decoration {\r\n\t-webkit-appearance:none;\r\n}\n\n.tc-muted {\r\n\tcolor: <<colour muted-foreground>>;\r\n}\n\nsvg.tc-image-button {\r\n\tpadding: 0px 1px 1px 0px;\r\n}\n\n.tc-icon-wrapper > svg {\r\n\twidth: 1em;\r\n\theight: 1em;\r\n}\n\nkbd {\r\n\tdisplay: inline-block;\r\n\tpadding: 3px 5px;\r\n\tfont-size: 0.8em;\r\n\tline-height: 1.2;\r\n\tcolor: <<colour foreground>>;\r\n\tvertical-align: middle;\r\n\tbackground-color: <<colour background>>;\r\n\tborder: solid 1px <<colour muted-foreground>>;\r\n\tborder-bottom-color: <<colour muted-foreground>>;\r\n\tborder-radius: 3px;\r\n\tbox-shadow: inset 0 -1px 0 <<colour muted-foreground>>;\r\n}\n\n::selection {\r\n\tbackground-color: Highlight;\r\n\tcolor: HighlightText;\r\n\tbackground-color: <<colour selection-background>>;\r\n\tcolor: <<colour selection-foreground>>;\r\n}\n\n.tc-inline-style {\r\n\tbackground: <<colour highlight-background>>;\r\n\tcolor: <<colour highlight-foreground>>;\r\n}\n\n/* Markdown uses mark element to highlight */\n\nmark {\r\n\tbackground: <<colour highlight-background>>;\r\n\tcolor: <<colour highlight-foreground>>;\r\n}\n\nform.tc-form-inline {\r\n\tdisplay: inline;\r\n}\n\n/*\r\nMarkdown likes putting code elements inside pre elements\r\n*/\r\npre > code {\r\n\tdisplay: block;\r\n\tpadding: 0.5em;\r\n\tborder: none;\r\n\twhite-space: {{$:/themes/tiddlywiki/vanilla/options/codewrapping}};\r\n\tbackground-color: inherit;\r\n\tcolor: inherit;\r\n\toverflow-x: auto;\r\n}\n\n/*\r\nTable defaults\r\n*/\n\ntable {\r\n\tborder: 1px solid <<colour table-border>>;\r\n\twidth: auto;\r\n\tmax-width: 100%;\r\n\tcaption-side: bottom;\r\n\tmargin-top: 1em;\r\n\tmargin-bottom: 1em;\r\n\t/* next 2 elements needed, since normalize 8.0.1 */\r\n\tborder-collapse: collapse;\r\n\tborder-spacing: 0;\r\n}\n\ntable th, table td {\r\n\tpadding: 0 7px 0 7px;\r\n\tborder-top: 1px solid <<colour table-border>>;\r\n\tborder-left: 1px solid <<colour table-border>>;\r\n}\n\ntable thead tr td, table th {\r\n\tbackground-color: <<colour table-header-background>>;\r\n\tfont-weight: bold;\r\n}\n\ntable tfoot tr td {\r\n\tbackground-color: <<colour table-footer-background>>;\r\n}\n\n/*\r\nTable utility classes\r\n*/\n\n/* Remove borders from table as used in eg: GettingStarted*/\r\n.tc-table-no-border,\r\n.tc-table-no-border th,\r\n.tc-table-no-border td {\r\n\tborder: initial;\r\n}\n\n/* First column in table width will fit to text.*/\r\n/* This rule makes most sense with tc-first-link-nowrap*/\r\n.tc-first-col-min-width td:nth-child(1) {\r\n\twidth: 1%;\r\n}\n\n/*\r\n** Utility classes work well with tables but also for other containers\r\n*/\n\n/* First link A element will not wrap */\r\n.tc-first-link-nowrap:first-of-type a {\r\n\twhite-space: nowrap;\r\n}\n\n/* Move the table to the center of the container */\r\n.tc-center {\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}\n\n.tc-max-width {\r\n\twidth: 100%;\r\n}\n\n.tc-max-width-80 {\r\n\tmax-width: 80%;\r\n}\n\n/* Allow input and textarea to look like the ControlPanel inputs */\r\n.tc-edit-max-width input,\r\n.tc-edit-max-width textarea {\r\n\twidth: 100%;\r\n\tpadding: 3px;\r\n}\n\n/*\r\nCSV parser plugin\r\n*/\n\n.tc-csv-table {\r\n\twhite-space: nowrap;\r\n}\n\n.tc-csv-table th,\r\n.tc-csv-table td {\r\n\twhite-space: pre-line;\r\n}\n\n/*\r\nTiddler frame in story river\r\n*/\n\n.tc-tiddler-frame img,\r\n.tc-tiddler-frame svg,\r\n.tc-tiddler-frame canvas,\r\n.tc-tiddler-frame embed,\r\n.tc-tiddler-frame iframe {\r\n\tmax-width: 100%;\r\n}\n\n.tc-tiddler-body > embed,\r\n.tc-tiddler-body > iframe {\r\n\twidth: 100%;\r\n\theight: 600px;\r\n}\n\n:root {\r\n\tcolor-scheme: {{{ [{$:/palette}get[color-scheme]] ~light }}};\r\n}\n\n/*\r\n** Links\r\n*/\n\nbutton.tc-tiddlylink,\r\na.tc-tiddlylink {\r\n\ttext-decoration: none;\r\n\tfont-weight: 500;\r\n\tcolor: <<colour tiddler-link-foreground>>;\r\n\t-webkit-user-select: inherit; /* Otherwise the draggable attribute makes links impossible to select */\r\n\t-webkit-touch-callout: none; /* Prevents long presses from bringing up a link preview */\r\n}\n\n.tc-sidebar-lists a.tc-tiddlylink {\r\n\tcolor: <<colour sidebar-tiddler-link-foreground>>;\r\n}\n\n.tc-sidebar-lists a.tc-tiddlylink:hover {\r\n\tcolor: <<colour sidebar-tiddler-link-foreground-hover>>;\r\n}\n\nbutton.tc-tiddlylink:hover,\r\na.tc-tiddlylink:hover {\r\n\ttext-decoration: underline;\r\n}\n\na.tc-tiddlylink-resolves {\r\n}\n\na.tc-tiddlylink-shadow {\r\n\tfont-weight: bold;\r\n}\n\na.tc-tiddlylink-shadow.tc-tiddlylink-resolves {\r\n\tfont-weight: normal;\r\n}\n\na.tc-tiddlylink-missing {\r\n\tfont-style: italic;\r\n}\n\na.tc-tiddlylink-external {\r\n\ttext-decoration: underline;\r\n\tcolor: <<colour external-link-foreground>>;\r\n\tbackground-color: <<colour external-link-background>>;\r\n}\n\na.tc-tiddlylink-external:visited {\r\n\tcolor: <<colour external-link-foreground-visited>>;\r\n\tbackground-color: <<colour external-link-background-visited>>;\r\n}\n\na.tc-tiddlylink-external:hover {\r\n\tcolor: <<colour external-link-foreground-hover>>;\r\n\tbackground-color: <<colour external-link-background-hover>>;\r\n}\n\n.tc-drop-down a.tc-tiddlylink:hover {\r\n\tcolor: <<colour tiddler-link-background>>;\r\n}\n\n/*\r\n** Drag and drop styles\r\n*/\n\n.tc-tiddler-dragger {\r\n\tposition: relative;\r\n\tz-index: -10000;\r\n}\n\n.tc-tiddler-dragger-inner {\r\n\tposition: absolute;\r\n\ttop: -1000px;\r\n\tleft: -1000px;\r\n\tdisplay: inline-block;\r\n\tpadding: 8px 20px;\r\n\tfont-size: 16.9px;\r\n\tfont-weight: bold;\r\n\tline-height: 20px;\r\n\tcolor: <<colour dragger-foreground>>;\r\n\ttext-shadow: 0 1px 0 rgba(0, 0, 0, 1);\r\n\twhite-space: nowrap;\r\n\tvertical-align: baseline;\r\n\tbackground-color: <<colour dragger-background>>;\r\n\tborder-radius: 20px;\r\n}\n\n.tc-tiddler-dragger-cover {\r\n\tposition: absolute;\r\n\tbackground-color: <<colour page-background>>;\r\n}\n\n.tc-page-container > .tc-dropzone {\r\n\tmin-height: 100vh;\r\n}\n\n.tc-dropzone {\r\n\tposition: relative;\r\n}\n\n.tc-dropzone.tc-dragover:before {\r\n\tz-index: 10000;\r\n\tdisplay: block;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: <<colour dropzone-background>>;\r\n\ttext-align: center;\r\n\tcontent: \"<<lingo DropMessage>>\";\r\n}\n\n.tc-droppable > .tc-droppable-placeholder {\r\n\tdisplay: none;\r\n}\n\n.tc-droppable.tc-dragover > .tc-droppable-placeholder {\r\n\tdisplay: block;\r\n\tborder: 2px dashed <<colour dropzone-background>>;\r\n}\n\n.tc-draggable {\r\n\tcursor: move;\r\n}\n\n.tc-sidebar-tab-open .tc-droppable-placeholder, .tc-tagged-draggable-list .tc-droppable-placeholder,\r\n.tc-links-draggable-list .tc-droppable-placeholder {\r\n\tline-height: 2em;\r\n\theight: 2em;\r\n}\n\n.tc-sidebar-tab-open-item {\r\n\tposition: relative;\r\n}\n\n.tc-sidebar-tab-open .tc-btn-invisible.tc-btn-mini svg {\r\n\tfont-size: 0.7em;\r\n\tfill: <<colour muted-foreground>>;\r\n}\n\n/*\r\n** Plugin reload warning\r\n*/\n\n.tc-plugin-reload-warning {\r\n\tz-index: 1000;\r\n\tdisplay: block;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: <<colour alert-background>>;\r\n\ttext-align: center;\r\n}\n\n/*\r\n** Buttons\r\n*/\n\nbutton svg, button img, label svg, label img {\r\n\tvertical-align: middle;\r\n}\n\n.tc-btn-invisible {\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tbackground: none;\r\n\tborder: none;\r\n\tcursor: pointer;\r\n\tcolor: <<colour foreground>>;\r\n\tfill: <<colour foreground>>;\r\n}\n\nbutton:disabled.tc-btn-invisible  {\r\n\tcursor: default;\r\n\tcolor: <<colour muted-foreground>>;\r\n}\n\n.tc-btn-boxed {\r\n\tfont-size: 0.6em;\r\n\tpadding: 0.2em;\r\n\tmargin: 1px;\r\n\tbackground: none;\r\n\tborder: 1px solid <<colour tiddler-controls-foreground>>;\r\n\tborder-radius: 0.25em;\r\n}\n\nhtml body.tc-body .tc-btn-boxed svg {\r\n\tfont-size: 1.6666em;\r\n}\n\n.tc-btn-boxed:hover {\r\n\tbackground: <<colour muted-foreground>>;\r\n\tcolor: <<colour background>>;\r\n}\n\nhtml body.tc-body .tc-btn-boxed:hover svg {\r\n\tfill: <<colour background>>;\r\n}\n\n.tc-btn-rounded {\r\n\tfont-size: 0.5em;\r\n\tline-height: 2;\r\n\tpadding: 0em 0.3em 0.2em 0.4em;\r\n\tmargin: 1px;\r\n\tborder: 1px solid <<colour muted-foreground>>;\r\n\tbackground: <<colour muted-foreground>>;\r\n\tcolor: <<colour background>>;\r\n\tborder-radius: 2em;\r\n}\n\nhtml body.tc-body .tc-btn-rounded svg {\r\n\tfont-size: 1.6666em;\r\n\tfill: <<colour background>>;\r\n}\n\n.tc-btn-rounded:hover {\r\n\tborder: 1px solid <<colour muted-foreground>>;\r\n\tbackground: <<colour background>>;\r\n\tcolor: <<colour muted-foreground>>;\r\n}\n\nhtml body.tc-body .tc-btn-rounded:hover svg {\r\n\tfill: <<colour muted-foreground>>;\r\n}\n\n.tc-btn-icon svg {\r\n\theight: 1em;\r\n\twidth: 1em;\r\n\tfill: <<colour muted-foreground>>;\r\n}\n\n\r\n.tc-btn-text {\r\n\tmargin-left: 7px;\r\n}\n\n/* used for documentation \"fake\" buttons */\r\n.tc-btn-standard {\r\n\tline-height: 1.8;\r\n\tcolor: #667;\r\n\tbackground-color: #e0e0e0;\r\n\tborder: 1px solid #888;\r\n\tpadding: 2px 1px 2px 1px;\r\n\tmargin: 1px 4px 1px 4px;\r\n}\n\n.tc-btn-big-green {\r\n\tdisplay: inline-block;\r\n\tpadding: 8px;\r\n\tmargin: 4px 8px 4px 8px;\r\n\tbackground: <<colour download-background>>;\r\n\tcolor: <<colour download-foreground>>;\r\n\tfill: <<colour download-foreground>>;\r\n\tborder: none;\r\n\tborder-radius: 2px;\r\n\tfont-size: 1.2em;\r\n\tline-height: 1.4em;\r\n\ttext-decoration: none;\r\n}\n\n.tc-btn-big-green svg,\r\n.tc-btn-big-green img {\r\n\theight: 2em;\r\n\twidth: 2em;\r\n\tvertical-align: middle;\r\n\tfill: <<colour download-foreground>>;\r\n}\n\n.tc-primary-btn {\r\n\tbackground: <<colour primary>>;\r\n}\n\n.tc-sidebar-lists input {\r\n\tcolor: <<colour foreground>>;\r\n}\n\n.tc-sidebar-lists button {\r\n\tcolor: <<colour sidebar-button-foreground>>;\r\n\tfill: <<colour sidebar-button-foreground>>;\r\n}\n\n.tc-sidebar-lists button.tc-btn-mini {\r\n\tcolor: <<colour sidebar-muted-foreground>>;\r\n}\n\n.tc-sidebar-lists button.tc-btn-mini:hover {\r\n\tcolor: <<colour sidebar-muted-foreground-hover>>;\r\n}\n\n.tc-sidebar-lists button small {\r\n\tcolor: <<colour foreground>>;\r\n}\n\nbutton svg.tc-image-button, button .tc-image-button img {\r\n\theight: 1em;\r\n\twidth: 1em;\r\n}\n\n.tc-unfold-banner {\r\n\tposition: absolute;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tbackground: none;\r\n\tborder: none;\r\n\twidth: 100%;\r\n\twidth: calc(100% + 2px);\r\n\tmargin-left: -43px;\r\n\ttext-align: center;\r\n\tborder-top: 2px solid <<colour tiddler-info-background>>;\r\n\tmargin-top: 4px;\r\n}\n\n.tc-unfold-banner:hover {\r\n\tbackground: <<colour tiddler-info-background>>;\r\n\tborder-top: 2px solid <<colour tiddler-info-border>>;\r\n}\n\n.tc-unfold-banner svg, .tc-fold-banner svg {\r\n\theight: 0.75em;\r\n\tfill: <<colour tiddler-controls-foreground>>;\r\n}\n\n.tc-unfold-banner:hover svg, .tc-fold-banner:hover svg {\r\n\tfill: <<colour tiddler-controls-foreground-hover>>;\r\n}\n\n.tc-fold-banner {\r\n\tposition: absolute;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tbackground: none;\r\n\tborder: none;\r\n\twidth: 23px;\r\n\ttext-align: center;\r\n\tmargin-left: -35px;\r\n\ttop: 6px;\r\n\tbottom: 6px;\r\n}\n\n.tc-fold-banner:hover {\r\n\tbackground: <<colour tiddler-info-background>>;\r\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\n\n\t.tc-unfold-banner {\r\n\t\tposition: static;\r\n\t\twidth: calc(100% + 59px);\r\n\t}\n\n\t.tc-fold-banner {\r\n\t\twidth: 16px;\r\n\t\tmargin-left: -16px;\r\n\t\tfont-size: 0.75em;\r\n\t}\n\n}\n\n/*\r\n** Tags and missing tiddlers\r\n*/\n\n.tc-tag-list-item {\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n}\n\n.tc-tags-wrapper {\r\n\tmargin: 4px 0 14px 0;\r\n}\n\n.tc-tags-wrapper .tc-tag-list-item {\r\n\tmargin-right: 7px;\r\n}\n\n.tc-missing-tiddler-label {\r\n\tfont-style: italic;\r\n\tfont-weight: normal;\r\n\tdisplay: inline-block;\r\n\tfont-size: 11.844px;\r\n\tline-height: 14px;\r\n\twhite-space: nowrap;\r\n\tvertical-align: baseline;\r\n}\n\n.tc-block-tags-dropdown > .tc-btn-invisible:hover {\r\n\tbackground-color: <<colour primary>>;\r\n}\n\nbutton.tc-tag-label, span.tc-tag-label {\r\n\tdisplay: inline-block;\r\n\tpadding: 0.16em 0.7em;\r\n\tfont-size: 0.9em;\r\n\tfont-weight: normal;\r\n\tline-height: 1.2em;\r\n\tcolor: <<colour tag-foreground>>;\r\n\twhite-space: break-spaces;\r\n\tvertical-align: baseline;\r\n\tbackground-color: <<colour tag-background>>;\r\n\tborder-radius: 1em;\r\n}\n\n.<<get.theme.option sidebarclass>> .tc-tag-label {\r\n\ttext-shadow: none;\r\n}\n\n.tc-untagged-separator {\r\n\tborder: 0;\r\n\theight: 1px;\r\n\tbackground: <<colour tab-divider>>;\r\n}\n\nbutton.tc-untagged-label {\r\n\tbackground-color: <<colour untagged-background>>;\r\n}\n\n.tc-tag-label svg, .tc-tag-label img {\r\n\theight: 1em;\r\n\twidth: 1em;\r\n\tmargin-right: 3px;\r\n\tmargin-bottom: 1px;\r\n\tvertical-align: bottom;\r\n}\n\n.tc-edit-tags button.tc-remove-tag-button svg {\r\n\tfont-size: 0.7em;\r\n\tvertical-align: middle;\r\n}\n\n.tc-tag-manager-table .tc-tag-label {\r\n}\n\n.tc-tag-manager-tag {\r\n\twidth: 100%;\r\n}\n\nbutton.tc-btn-invisible.tc-remove-tag-button {\r\n\toutline: none;\r\n}\n\n.tc-tag-button-selected,\r\n.tc-list-item-selected a.tc-tiddlylink, a.tc-list-item-selected {\r\n\tbackground-color: <<colour primary>>;\r\n\tcolor: <<colour tiddler-background>>;\r\n}\n\n/*\r\n** Page layout\r\n*/\n\n.tc-topbar {\r\n\tposition: fixed;\r\n\tz-index: 1200;\r\n}\n\n.tc-topbar-left {\r\n\tleft: 29px;\r\n\ttop: 5px;\r\n}\n\n.tc-topbar-right {\r\n\ttop: 5px;\r\n\tright: 29px;\r\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\n\n\t.tc-topbar-right {\r\n\t\tright: 10px;\r\n\t}\n\n}\n\n.tc-topbar button {\r\n\tpadding: 8px;\r\n}\n\n.tc-topbar svg {\r\n\tfill: <<colour muted-foreground>>;\r\n}\n\n.tc-topbar button:hover svg {\r\n\tfill: <<colour foreground>>;\r\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\n\n\t.tc-show-sidebar-btn svg.tc-image-chevron-left, .tc-hide-sidebar-btn svg.tc-image-chevron-right {\r\n\t\ttransform: rotate(-90deg);\r\n\t}\n\n}\n\n.tc-sidebar-header {\r\n\tcolor: <<colour sidebar-foreground>>;\r\n\tfill: <<colour sidebar-foreground>>;\r\n}\n\n.tc-sidebar-header .tc-title a.tc-tiddlylink-resolves {\r\n\tfont-weight: normal;\r\n}\n\n.tc-sidebar-header .tc-sidebar-lists p {\r\n\tmargin-top: 3px;\r\n\tmargin-bottom: 3px;\r\n}\n\n.tc-sidebar-header .tc-missing-tiddler-label {\r\n\tcolor: <<colour sidebar-foreground>>;\r\n}\n\n.tc-advanced-search input {\r\n\twidth: 60%;\r\n}\n\n.tc-search a svg {\r\n\twidth: 1.2em;\r\n\theight: 1.2em;\r\n\tvertical-align: middle;\r\n}\n\n.tc-page-controls {\r\n\tmargin-top: 14px;\r\n\tmargin-bottom: 14px;\r\n\tfont-size: 1.5em;\r\n}\n\n.tc-page-controls .tc-drop-down {\r\n\tfont-size: 1rem;\r\n}\n\n.tc-page-controls button {\r\n\tmargin-right: 0.5em;\r\n}\n\n.tc-page-controls a.tc-tiddlylink:hover {\r\n\ttext-decoration: none;\r\n}\n\n.tc-page-controls img {\r\n\twidth: 1em;\r\n}\n\n.tc-page-controls svg {\r\n\tfill: <<colour sidebar-controls-foreground>>;\r\n}\n\n.tc-page-controls button:hover svg, .tc-page-controls a:hover svg {\r\n\tfill: <<colour sidebar-controls-foreground-hover>>;\r\n}\n\n.tc-sidebar-lists .tc-menu-list-item {\r\n\twhite-space: nowrap;\r\n}\n\n.tc-menu-list-count {\r\n\tfont-weight: bold;\r\n}\n\n.tc-menu-list-subitem {\r\n\tpadding-left: 7px;\r\n}\n\n.<<get.theme.option storyriverclass>> {\r\n\tposition: relative;\r\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\n\n\t.tc-sidebar-header {\r\n\t\tpadding: 14px;\r\n\t\tmin-height: 32px;\r\n\t\tmargin-top: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\r\n\t\ttransition:  min-height {{$:/config/AnimationDuration}}ms ease-in-out, padding-top {{$:/config/AnimationDuration}}ms ease-in-out, padding-bottom {{$:/config/AnimationDuration}}ms ease-in-out;\r\n\t}\n\n\t<<if-no-sidebar \"\"\"\n\n\t\t.tc-sidebar-header {\r\n\t\t\tmin-height: 0;\r\n\t\t\tpadding-top: 0;\r\n\t\t\tpadding-bottom: 0;\r\n\t\t}\n\n\t\"\"\">>\n\n\t.<<get.theme.option storyriverclass>> {\r\n\t\tposition: relative;\r\n\t\tpadding: 0;\r\n\t}\r\n}\n\n@media (min-width: <<sidebarbreakpoint>>) {\n\n\t.tc-message-box {\r\n\t\tmargin: 21px -21px 21px -21px;\r\n\t}\n\n\t.<<get.theme.option sidebarclass>> {\r\n\t\tposition: fixed;\r\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\toverflow-y: auto;\r\n\t\toverflow-x: auto;\r\n\t\t-webkit-overflow-scrolling: touch;\r\n\t\tmargin: 0 0 0 -42px;\r\n\t\tpadding: 71px 0 28px <<get.theme.metric sidebarpadding>>;\r\n\t}\n\n\t.<<get.theme.option storyriverclass>> {\r\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\r\n\t\tpadding: 42px <<get.theme.metric storypaddingright>> 42px <<get.theme.metric storypaddingleft>>;\r\n\t}\n\n\thtml[dir=\"rtl\"] .tc-sidebar-left .<<get.theme.option sidebarclass>>, .tc-sidebar-left .<<get.theme.option sidebarclass>> {\r\n\t\tleft: 0;\r\n\t\tmargin: 0 -42px 0 0;\r\n\t}\n\n\thtml[dir=\"rtl\"] .<<get.theme.option sidebarclass>> {\r\n\t\tpadding-right: <<get.theme.metric sidebarpadding>>;\r\n\t\tpadding-left: 0;\r\n\t}\n\n\t.<<get.theme.option sidebarclass>> {\r\n\t\tleft: clamp(min(calc(<<get.theme.metric storyminwidth>> + <<get.theme.metric storyleft>> - <<get.theme.storywidthoverlap>> + <<get.theme.storyleftpadding.excess>> + <<get.theme.storyrightpadding.excess>>),calc(100% - <<get.theme.metric sidebarminwidth>>)),<<get.theme.metric storyright>>,calc(100% - <<get.theme.metric sidebarminwidth>> + <<get.story-sidebar.overlap>>));\r\n\t}\n\n\thtml[dir=\"rtl\"] .tc-sidebar-left .<<get.theme.option sidebarclass>>, .tc-sidebar-left .<<get.theme.option sidebarclass>> {\r\n\t\tright: clamp(min(calc(<<get.theme.metric storyminwidth>> + <<get.theme.metric storyleft>> - <<get.theme.storywidthoverlap>> + <<get.theme.storyleftpadding.excess>> + <<get.theme.storyrightpadding.excess>>),calc(100% - <<get.theme.metric sidebarminwidth>>)),<<get.theme.metric storyright>>,calc(100% - <<get.theme.metric sidebarminwidth>> + <<get.story-sidebar.overlap>>));\r\n\t}\n\n\thtml[dir=\"rtl\"] .<<get.theme.option sidebarclass>>:not(.tc-sidebar-left .<<get.theme.option sidebarclass>>) {\r\n\t\tleft: clamp(min(calc(<<get.theme.metric storyminwidth>> + <<get.theme.metric storyleft>> - <<get.theme.storywidthoverlap>> + <<get.theme.storyleftpadding.excess>> + <<get.theme.storyrightpadding.excess>>),calc(100% - <<get.theme.metric sidebarminwidth>>)),<<get.theme.metric storyright>>,calc(100% - <<get.theme.metric sidebarminwidth>> + <<get.story-sidebar.overlap>>));\r\n\t}\n\n\t.<<get.theme.option storyriverclass>> {\r\n\t\tleft: max(0px,<<get.theme.metric storyleft>>);\r\n\t\tright: min(clamp(calc(<<get.theme.metric sidebarminwidth>> - <<get.theme.storywidthoverlap>> - <<get.story-sidebar.overlap>>),calc(100% - <<get.theme.metric storywidth>> - <<get.theme.metric storyleft>>),calc(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>>)),calc(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>>));\r\n\t\twidth: clamp(<<get.theme.metric storyminwidth>>,<<get.theme.metric storywidth>>,calc(100% - <<get.theme.metric sidebarminwidth>> + <<get.story-sidebar.overlap>> - <<get.theme.metric storyleft>> + <<get.theme.storywidthoverlap>>));\r\n\t}\n\n\t.tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tflex-direction: column;\r\n\t\tleft: min(clamp(calc(<<get.theme.metric sidebarminwidth>> - <<get.theme.storywidthoverlap>> - <<get.story-sidebar.overlap>>),calc(100% - <<get.theme.metric storywidth>> - <<get.theme.metric storyleft>>),calc(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>>)),calc(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>>));\r\n\t\tright: max(0px,<<get.theme.metric storyleft>>);\r\n\t}\n\n\thtml[dir=\"rtl\"] .tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\talign-items: flex-start;\r\n\t\tleft: min(clamp(calc(<<get.theme.metric sidebarminwidth>> - <<get.theme.storywidthoverlap>> - <<get.story-sidebar.overlap>>),calc(100% - <<get.theme.metric storywidth>> - <<get.theme.metric storyleft>>),calc(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>>)),calc(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>>));\r\n\t\tright: max(0px,<<get.theme.metric storyleft>>);\r\n\t}\n\n\thtml[dir=\"rtl\"] .<<get.theme.option storyriverclass>>:not(.tc-sidebar-left .<<get.theme.option storyriverclass>>) {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tflex-direction: column;\r\n\t\tright: min(clamp(calc(<<get.theme.metric sidebarminwidth>> - <<get.theme.storywidthoverlap>> - <<get.story-sidebar.overlap>>),calc(100% - <<get.theme.metric storywidth>> - <<get.theme.metric storyleft>>),calc(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>>)),calc(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>>));\r\n\t}\n\n<<if-no-sidebar \"\"\"\n\n\t.<<get.theme.option storyriverclass>> {\r\n\t\twidth: calc(100% - max(0px,{{$:/themes/tiddlywiki/vanilla/metrics/storyleft}}));\r\n\t}\n\n\t.tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\tright: max(0px,{{$:/themes/tiddlywiki/vanilla/metrics/storyleft}});\r\n\t\tleft: 0;\r\n\t}\n\n\thtml[dir=\"rtl\"] .tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\tleft: 0;\r\n\t\tright: max(0px,{{$:/themes/tiddlywiki/vanilla/metrics/storyleft}});\r\n\t}\n\n\thtml[dir=\"rtl\"] .<<get.theme.option storyriverclass>>:not(.tc-sidebar-left .<<get.theme.option storyriverclass>>) {\r\n\t\tright: 0;\r\n\t\tleft: max(0px,{{$:/themes/tiddlywiki/vanilla/metrics/storyleft}});\r\n\t}\n\n\"\"\">>\n\n\t.<<get.theme.option storyriverclass>>.tc-static-story-river {\r\n\t\tmargin-right: 0;\r\n\t\tpadding-right: 42px;\r\n\t}\n\n}\n\n@media print {\n\n\tbody.tc-body {\r\n\t\tbackground-color: transparent;\r\n\t}\n\n\t.tc-sidebar-header, .tc-topbar {\r\n\t\tdisplay: none;\r\n\t}\n\n\t.<<get.theme.option storyriverclass>> {\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\n\n\t.<<get.theme.option storyriverclass>> .tc-tiddler-frame {\r\n\t\tmargin: 0;\r\n\t\tborder: none;\r\n\t\tpadding: 0;\r\n\t}\r\n}\n\n/*\r\n** Tiddler styles\r\n*/\n\n.tc-tiddler-frame {\r\n\tposition: relative;\r\n\tmargin-bottom: 28px;\r\n\tbackground-color: <<colour tiddler-background>>;\r\n\tborder: 1px solid <<colour tiddler-border>>;\r\n}\n\n{{$:/themes/tiddlywiki/vanilla/sticky}}\n\n.tc-tiddler-info {\r\n\toverflow: hidden;\r\n\tpadding: 14px 42px 14px 42px;\r\n\tbackground-color: <<colour tiddler-info-background>>;\r\n\tborder-top: 1px solid <<colour tiddler-info-border>>;\r\n\tborder-bottom: 1px solid <<colour tiddler-info-border>>;\r\n}\n\n.tc-tiddler-info p {\r\n\tmargin-top: 3px;\r\n\tmargin-bottom: 3px;\r\n}\n\n.tc-tiddler-info .tc-tab-buttons button.tc-tab-selected {\r\n\tbackground-color: <<colour tiddler-info-tab-background>>;\r\n\tborder-bottom: 1px solid <<colour tiddler-info-tab-background>>;\r\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\n\n\t.tc-tiddler-info {\r\n\t\tpadding: 14px 14px 14px 14px;\r\n\t}\n\n}\n\n.tc-view-field-table {\r\n\twidth: 100%;\r\n}\n\n.tc-view-field-name {\r\n\twidth: 1%; /* Makes this column be as narrow as possible */\r\n\twhite-space: nowrap;\r\n\tvertical-align: top;\r\n\ttext-align: right;\r\n\tfont-style: italic;\r\n\tfont-weight: normal;\r\n}\n\n.tc-view-field-value {\r\n\tword-break: break-all;\r\n}\n\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\r\n\t.tc-tiddler-frame {\r\n\t\tpadding: 14px 14px 14px 14px;\r\n\t\tmargin-bottom: .5em;\r\n\t}\n\n\t.tc-tiddler-info {\r\n\t\tmargin: 0 -14px 0 -14px;\r\n\t}\r\n}\n\n@media (min-width: <<sidebarbreakpoint>>) {\r\n\t.tc-tiddler-frame {\r\n\t\tpadding: 28px 42px 42px 42px;\r\n\t\twidth: clamp(calc(<<get.theme.metric storyminwidth>> - 84px),calc(<<get.theme.metric tiddlerwidth>>),100%);\r\n\t\tborder-radius: 2px;\r\n\t}\n\n\t.tc-sidebar-left .tc-tiddler-frame {\r\n\t\twidth: clamp(calc(<<get.theme.metric storyminwidth>> - 84px),calc(<<get.theme.metric tiddlerwidth>>),100%);\r\n\t}\n\n<<if-no-sidebar \"\n\n\t.tc-tiddler-frame, .tc-sidebar-left .tc-tiddler-frame {\r\n\t\twidth: 100%;\r\n\t\tleft: auto;\r\n\t\tright: auto;\r\n\t}\n\n\">>\n\n\t.tc-tiddler-info {\r\n\t\tmargin: 0 -42px 0 -42px;\r\n\t}\r\n}\n\n.tc-site-title,\r\n.tc-titlebar {\r\n\tfont-weight: normal;\r\n\tfont-size: 2.35em;\r\n\tline-height: 1.35em;\r\n\tcolor: <<colour tiddler-title-foreground>>;\r\n\tmargin: 0;\r\n}\n\n.tc-site-title {\r\n\tcolor: <<colour site-title-foreground>>;\r\n}\n\n.tc-tiddler-title-icon {\r\n\tvertical-align: middle;\r\n\tmargin-right: .1em;\r\n}\n\n.tc-tiddler-title-icon svg {\r\n\twidth: 0.9em;\r\n\theight: 0.9em;\r\n}\n\n.tc-system-title-prefix {\r\n\tcolor: <<colour muted-foreground>>;\r\n}\n\n.tc-tiddler-lazy-loading {\r\n\theight: 4px;\r\n\twidth: 100%;\r\n\tbackground: no-repeat linear-gradient(<<colour background>> 0 0),no-repeat linear-gradient(<<colour background>> 0 0),<<colour primary>>;\r\n\tbackground-size: 60% 100%;\r\n\tanimation: animation-loading-progress 3s infinite;\r\n}\n\n@keyframes animation-loading-progress {\r\n\t0%   {background-position:-150% 0,-150% 0}\r\n\t66%  {background-position: 250% 0,-150% 0}\r\n\t100% {background-position: 250% 0, 250% 0}\r\n}\n\n.tc-titlebar h2 {\r\n\tfont-size: 1em;\r\n\tdisplay: inline;\r\n}\n\n.tc-titlebar img {\r\n\theight: 1em;\r\n}\n\n.tc-subtitle {\r\n\tfont-size: 0.9em;\r\n\tcolor: <<colour tiddler-subtitle-foreground>>;\r\n\tfont-weight: normal;\r\n}\n\n.tc-subtitle .tc-tiddlylink {\r\n\tmargin-right: .3em;\r\n}\n\n.tc-tiddler-missing .tc-title {\r\n\tfont-style: italic;\r\n\tfont-weight: normal;\r\n}\n\n.tc-tiddler-frame .tc-tiddler-controls {\r\n\tfloat: right;\r\n\tpadding: 3px; /* make space for outline */\r\n}\n\nhtml[dir=\"rtl\"] .tc-tiddler-frame .tc-tiddler-controls {\r\n\tfloat: left;\r\n}\n\n.tc-tiddler-controls .tc-drop-down {\r\n\tfont-size: 0.6em;\r\n}\n\n.tc-tiddler-controls .tc-drop-down .tc-drop-down {\r\n\tfont-size: 1em;\r\n}\n\n.tc-tiddler-controls > span > button,\r\n.tc-tiddler-controls > span > span > button,\r\n.tc-tiddler-controls > span > span > span > button {\r\n\tvertical-align: baseline;\r\n\tmargin-left:5px;\r\n}\n\n.tc-tiddler-controls button svg, .tc-tiddler-controls button img,\r\n.tc-search button svg, .tc-search a svg {\r\n\tfill: <<colour tiddler-controls-foreground>>;\r\n}\n\n.tc-tiddler-controls button svg, .tc-tiddler-controls button img {\r\n\theight: 0.75em;\r\n}\n\n.tc-search button svg, .tc-search a svg {\r\n\theight: 1.2em;\r\n\twidth: 1.2em;\r\n\tmargin: 0 0.25em;\r\n}\n\n.tc-tiddler-controls button.tc-selected svg,\r\n.tc-page-controls button.tc-selected svg  {\r\n\tfill: <<colour tiddler-controls-foreground-selected>>;\r\n}\n\n.tc-tiddler-controls button.tc-btn-invisible:hover svg,\r\n.tc-search button:hover svg, .tc-search a:hover svg {\r\n\tfill: <<colour tiddler-controls-foreground-hover>>;\r\n}\n\n@media print {\r\n\t.tc-tiddler-controls {\r\n\t\tdisplay: none;\r\n\t}\r\n}\n\n.tc-tiddler-help { /* Help prompts within tiddler template */\r\n\tcolor: <<colour muted-foreground>>;\r\n\tmargin-top: 14px;\r\n}\n\n.tc-tiddler-help a.tc-tiddlylink {\r\n\tcolor: <<colour very-muted-foreground>>;\r\n}\n\n.tc-tiddler-frame .tc-edit-texteditor {\r\n\twidth: 100%;\r\n\tmargin: 4px 0 3px 0;\r\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor,\r\n.tc-tiddler-frame textarea.tc-edit-texteditor,\r\n.tc-tiddler-frame iframe.tc-edit-texteditor,\r\n.tc-tiddler-frame select.tc-edit-texteditor {\r\n\tpadding: 3px 3px 3px 3px;\r\n\tborder: 1px solid <<colour tiddler-editor-border>>;\r\n\tline-height: 1.3em;\r\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\r\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor,\r\n.tc-tiddler-frame textarea.tc-edit-texteditor,\r\n.tc-tiddler-frame iframe.tc-edit-texteditor {\r\n\t-webkit-appearance: none;\r\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor,\r\n.tc-tiddler-frame select.tc-edit-texteditor,\r\n.tc-tiddler-frame textarea.tc-edit-texteditor {\r\n\tbackground-color: <<colour tiddler-editor-background>>;\r\n}\n\n.tc-tiddler-frame iframe.tc-edit-texteditor {\r\n\tbackground-color: <<colour tiddler-background>>;\r\n\tz-index: 1;\r\n}\n\n.tc-tiddler-frame .tc-edit-fields input.tc-edit-fieldeditor,\r\n.tc-tiddler-frame .tc-edit-fields select.tc-edit-fieldeditor,\r\n.tc-tiddler-frame .tc-edit-fields textarea.tc-edit-fieldeditor {\r\n\tmargin: 0;\r\n\tpadding: 2px 3px;\r\n}\n\n.tc-tiddler-frame .tc-binary-warning {\r\n\twidth: 100%;\r\n\theight: 5em;\r\n\ttext-align: center;\r\n\tpadding: 3em 3em 6em 3em;\r\n\tbackground: <<colour alert-background>>;\r\n\tborder: 1px solid <<colour alert-border>>;\r\n}\n\ncanvas.tc-edit-bitmapeditor  {\r\n\tborder: 6px solid <<colour tiddler-editor-border-image>>;\r\n\tcursor: crosshair;\r\n\t-moz-user-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n\tmargin-top: 6px;\r\n\tmargin-bottom: 6px;\r\n}\n\n.tc-edit-bitmapeditor-width {\r\n\tdisplay: block;\r\n}\n\n.tc-edit-bitmapeditor-height {\r\n\tdisplay: block;\r\n}\n\n.tc-single-tiddler-window .tc-tiddler-body,\r\n.tc-tiddler-frame .tc-tiddler-body {\r\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}};\r\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/bodylineheight}};\r\n}\n\n.tc-titlebar, .tc-tiddler-edit-title {\r\n\toverflow: hidden; /* https://github.com/TiddlyWiki/TiddlyWiki5/issues/282 */\r\n}\n\n/*\r\n* Tiddler in a new window.\r\n* Also see: .tc-single-tiddler-window .tc-tiddler-body, above\r\n*/\n\nhtml body.tc-body.tc-single-tiddler-window {\r\n\tmargin: 1em;\r\n\tbackground: <<colour tiddler-background>>;\r\n}\n\n.tc-single-tiddler-window img,\r\n.tc-single-tiddler-window svg,\r\n.tc-single-tiddler-window canvas,\r\n.tc-single-tiddler-window embed,\r\n.tc-single-tiddler-window iframe {\r\n\tmax-width: 100%;\r\n}\n\n/*\r\n** Editor\r\n*/\n\n.tc-editor-toolbar {\r\n\tbackground-color: <<colour tiddler-background>>;\r\n\tz-index: 2;\r\n\tpadding-top: 8px;\r\n\tmargin-left: -2px;\r\n\tmargin-right: -2px;\r\n}\n\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview .tc-editor-toolbar,\r\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview-hidden .tc-editor-toolbar {\r\n\tgrid-area: toolbar;\r\n}\n\n.tc-editor-toolbar button {\r\n\tvertical-align: middle;\r\n\tbackground-color: <<colour tiddler-controls-foreground>>;\r\n\tcolor: <<colour tiddler-controls-foreground-selected>>;\r\n\tfill: <<colour tiddler-controls-foreground-selected>>;\r\n\tborder-radius: 4px;\r\n\tpadding: 3px;\r\n\tmargin: 2px 0 2px 4px;\r\n}\n\n.tc-editor-toolbar button.tc-text-editor-toolbar-item-adjunct {\r\n\tmargin-left: 1px;\r\n\twidth: 1em;\r\n\tborder-radius: 8px;\r\n}\n\n.tc-editor-toolbar button.tc-text-editor-toolbar-item-start-group {\r\n\tmargin-left: 11px;\r\n}\n\n.tc-editor-toolbar button.tc-selected {\r\n\tbackground-color: <<colour primary>>;\r\n}\n\n.tc-editor-toolbar button svg {\r\n\twidth: 1.6em;\r\n\theight: 1.2em;\r\n}\n\n.tc-editor-toolbar .tc-drop-down button.tc-btn-mini {\r\n\tpadding: 2px 4px;\r\n}\n\n.tc-editor-toolbar button:hover {\r\n\tbackground-color: <<colour tiddler-controls-foreground-selected>>;\r\n\tfill: <<colour background>>;\r\n\tcolor: <<colour background>>;\r\n}\n\n.tc-editor-toolbar .tc-text-editor-toolbar-more {\r\n\twhite-space: normal;\r\n}\n\n.tc-editor-toolbar .tc-text-editor-toolbar-more button {\r\n\tdisplay: inline-block;\r\n\tpadding: 3px;\r\n\twidth: auto;\r\n}\n\n.tc-editor-toolbar .tc-search-results {\r\n\tpadding: 0;\r\n}\n\n.tc-editor-toolbar button.tc-editortoolbar-stamp-button + .tc-popup .tc-drop-down > p {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\n\n.tc-editor-toolbar button.tc-editortoolbar-stamp-button + .tc-popup .tc-drop-down a.tc-tiddlylink {\r\n\tfont-weight: normal;\r\n}\n\n/*\r\n** Adjustments for fluid-fixed mode\r\n*/\n\n@media (min-width: <<sidebarbreakpoint>>) {\n\n<<if-fluid-fixed text:\"\"\"\n\n\t.<<get.theme.option storyriverclass>> {\r\n\t\tposition: relative;\r\n\t\twidth: auto;\r\n\t\tleft: 0;\r\n\t\tmargin-left: max(0px,<<get.theme.metric storyleft>>);\r\n\t\tmargin-right: clamp(calc(<<get.theme.metric sidebarminwidth>> - <<get.story-sidebar.overlap>>),calc(<<get.theme.metric sidebarwidth>> - <<get.story-sidebar.overlap>>),calc(100% - <<get.theme.metric storyleft>> - <<get.theme.metric storyminwidth>> + <<get.story-sidebar.overlap>>));\r\n\t}\n\n\thtml[dir=\"rtl\"] .tc-sidebar-left .<<get.theme.option storyriverclass>>, .tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\tmargin-right: max(0px,<<get.theme.metric storyleft>>);\r\n\t\tmargin-left: clamp(calc(<<get.theme.metric sidebarminwidth>> - <<get.story-sidebar.overlap>>),calc(<<get.theme.metric sidebarwidth>> - <<get.story-sidebar.overlap>>),calc(100% - <<get.theme.metric storyleft>> - <<get.theme.metric storyminwidth>>));\r\n\t\tleft: auto;\r\n\t\twidth: auto;\r\n\t\tright: 0;\r\n\t}\n\n\thtml[dir=\"rtl\"] .<<get.theme.option storyriverclass>>:not(.tc-sidebar-left .<<get.theme.option storyriverclass>>) {\r\n\t\tleft: auto;\r\n\t\tright: 0;\r\n\t}\n\n\t.tc-tiddler-frame, .tc-sidebar-left .tc-tiddler-frame {\r\n\t\twidth: 100%;\r\n\t}\n\n\t.<<get.theme.option sidebarclass>> {\r\n\t\tleft: auto;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\twidth: clamp(<<get.theme.metric sidebarminwidth>>,<<get.theme.metric sidebarwidth>>,(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>> + <<get.story-sidebar.overlap>> - <<get.theme.storyleftpadding.excess>> - <<get.theme.storyrightpadding.excess>>));\r\n\t}\n\n\t.tc-sidebar-left .<<get.theme.option sidebarclass>> {\r\n\t\tleft: 0;\r\n\t\tright: auto;\r\n\t\twidth: clamp(<<get.theme.metric sidebarminwidth>>,<<get.theme.metric sidebarwidth>>,(100% - <<get.theme.metric storyminwidth>> - <<get.theme.metric storyleft>> + <<get.story-sidebar.overlap>> - <<get.theme.storyleftpadding.excess>> - <<get.theme.storyrightpadding.excess>>));\r\n\t}\n\n\thtml[dir=\"rtl\"] .tc-sidebar-left .<<get.theme.option sidebarclass>> {\r\n\t\tpadding-right: <<get.theme.metric sidebarpadding>>;\r\n\t\tright: auto;\r\n\t}\n\n\thtml[dir=\"rtl\"] .<<get.theme.option sidebarclass>>:not(.tc-sidebar-left .<<get.theme.option sidebarclass>>) {\r\n\t\tpadding-right: <<get.theme.metric sidebarpadding>>;\r\n\t\tpadding-left: 0;\r\n\t}\n\n\tbody.tc-body .tc-page-container.tc-page-view-zoomin .tc-tiddler-frame {\r\n\t\twidth: 100%;\r\n\t\twidth: calc(100% - 42px);\r\n\t}\n\n\"\"\" hiddenSidebarText:\"\"\"\n\n\t.<<get.theme.option storyriverclass>> {\r\n\t\tmargin-right: 0;\r\n\t}\n\n\t.tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\tmargin-left: max(0px,<<get.theme.metric storyleft>>);\r\n\t\tmargin-right: 0;\r\n\t}\n\n\thtml[dir=\"rtl\"] .tc-sidebar-left .<<get.theme.option storyriverclass>> {\r\n\t\tmargin-left: 0;\r\n\t\tmargin-right: max(0px,<<get.theme.metric storyleft>>);\r\n\t}\n\n\tbody.tc-body .tc-page-container.tc-page-view-zoomin .tc-tiddler-frame {\r\n\t\twidth: 100%;\r\n\t\twidth: calc(100% - 84px);\r\n\t}\n\n\"\"\">>\n\n}\n\n/*\r\n** Toolbar buttons\r\n*/\n\n.tc-page-controls svg.tc-image-new-button {\r\n\tfill: <<colour toolbar-new-button>>;\r\n}\n\n.tc-page-controls svg.tc-image-options-button {\r\n\tfill: <<colour toolbar-options-button>>;\r\n}\n\n.tc-page-controls svg.tc-image-save-button {\r\n\tfill: <<colour toolbar-save-button>>;\r\n}\n\n.tc-tiddler-controls button svg.tc-image-info-button {\r\n\tfill: <<colour toolbar-info-button>>;\r\n}\n\n.tc-tiddler-controls button svg.tc-image-edit-button {\r\n\tfill: <<colour toolbar-edit-button>>;\r\n}\n\n.tc-tiddler-controls button svg.tc-image-close-button {\r\n\tfill: <<colour toolbar-close-button>>;\r\n}\n\n.tc-tiddler-controls button svg.tc-image-delete-button {\r\n\tfill: <<colour toolbar-delete-button>>;\r\n}\n\n.tc-tiddler-controls button svg.tc-image-cancel-button {\r\n\tfill: <<colour toolbar-cancel-button>>;\r\n}\n\n.tc-tiddler-controls button svg.tc-image-done-button {\r\n\tfill: <<colour toolbar-done-button>>;\r\n}\n\n.tc-page-controls svg.tc-image-layout-button {\r\n\tfill: <<colour toolbar-options-button>>;\r\n}\n\n/*\r\n** Tiddler edit mode\r\n*/\n\n.tc-tiddler-edit-frame em.tc-edit {\r\n\tcolor: <<colour muted-foreground>>;\r\n\tfont-style: normal;\r\n}\n\n.tc-edit-type-dropdown a.tc-tiddlylink-missing {\r\n\tfont-style: normal;\r\n}\n\n.tc-type-selector .tc-edit-typeeditor {\r\n\twidth: auto;\r\n}\n\n.tc-type-selector-dropdown-wrapper {\r\n\tdisplay: inline-block;\r\n}\n\n<<set-type-selector-min-width>>\n\n.tc-edit-tags {\r\n\tborder: 1px solid <<colour tiddler-editor-border>>;\r\n\tpadding: 4px 8px 4px 8px;\r\n}\n\n.tc-edit-add-tag {\r\n\tdisplay: inline-block;\r\n}\n\n.tc-edit-add-tag .tc-add-tag-name input {\r\n\twidth: 50%;\r\n}\n\n.tc-edit-add-tag .tc-keyboard {\r\n\tdisplay:inline;\r\n}\n\n.tc-edit-tags .tc-tag-label {\r\n\tdisplay: inline-block;\r\n}\n\n.tc-edit-tags-list {\r\n\tmargin: 14px 0 14px 0;\r\n}\n\n.tc-remove-tag-button {\r\n\tpadding-left: 4px;\r\n}\n\n.tc-tiddler-editor {\r\n\tdisplay: grid;\r\n}\n\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview {\r\n\tgrid-template-areas:\r\n\t\t\"toolbar toolbar\"\r\n\t\t\"editor preview\";\r\n\tgrid-template-columns: repeat(2, minmax(0px, 1fr));\r\n\tgrid-template-rows: auto 1fr;\r\n\twidth: 100%;\r\n}\n\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview-hidden {\r\n\tgrid-template-areas:\r\n\t\t\"toolbar\"\r\n\t\t\"editor\";\r\n\tgrid-template-columns: 1fr;\r\n\tgrid-template-rows: auto 1fr;\r\n\twidth: 100%;\r\n}\n\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview .tc-tiddler-preview-preview {\r\n\tgrid-area: preview;\r\n\toverflow-wrap: anywhere;\r\n\tmin-height: 100px;\r\n\tword-break: normal;\r\n\tborder: 1px solid <<colour tiddler-editor-border>>;\r\n\tmargin: 4px 0 3px 0;\r\n\tpadding: 3px 3px 3px 3px;\r\n\tz-index: 1;\r\n}\n\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview .tc-tiddler-preview-preview > iframe[sandbox] {\r\n\twidth: 100%;\r\n}\n\n<<if-editor-height-fixed then:\"\"\"\n\n.tc-tiddler-preview-preview {\r\n\toverflow-y: scroll;\r\n\theight: {{$:/config/TextEditor/EditorHeight/Height}};\r\n}\n\n\"\"\">>\n\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview .tc-edit-texteditor,\r\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview-hidden .tc-edit-texteditor {\r\n\tgrid-area: editor;\r\n}\n\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview canvas.tc-edit-bitmapeditor,\r\n.tc-tiddler-frame .tc-tiddler-editor.tc-tiddler-preview-hidden canvas.tc-edit-bitmapeditor {\r\n\tgrid-area: editor;\r\n\tmax-width: 100%;\r\n\tz-index: 1;\r\n}\n\n.tc-edit-fields {\r\n\twidth: 100%;\r\n}\n\n.tc-edit-fields.tc-edit-fields-small {\r\n\tmargin-top: 0;\r\n\tmargin-bottom: 0;\r\n}\n\n.tc-edit-fields table, .tc-edit-fields tr, .tc-edit-fields td {\r\n\tborder: none;\r\n\tpadding: 4px;\r\n}\n\n.tc-edit-fields > tbody > .tc-edit-field:nth-child(odd) {\r\n\tbackground-color: <<colour tiddler-editor-fields-odd>>;\r\n}\n\n.tc-edit-fields > tbody > .tc-edit-field:nth-child(even) {\r\n\tbackground-color: <<colour tiddler-editor-fields-even>>;\r\n}\n\n.tc-edit-field-name {\r\n\ttext-align: right;\r\n}\n\n.tc-edit-field-value input {\r\n\twidth: 100%;\r\n}\n\n.tc-edit-field-remove {\r\n}\n\n.tc-edit-field-remove svg {\r\n\theight: 1em;\r\n\twidth: 1em;\r\n\tfill: <<colour muted-foreground>>;\r\n\tvertical-align: middle;\r\n}\n\n.tc-edit-field-add-name-wrapper input.tc-edit-texteditor {\r\n\twidth: auto;\r\n}\n\n.tc-edit-field-add-name-wrapper {\r\n\tdisplay: inline-block;\r\n}\n\n.tc-edit-field-add-value {\r\n\tdisplay: inline-block;\r\n}\n\n@media (min-width: <<sidebarbreakpoint>>) {\n\n\t.tc-edit-field-add-value {\r\n\t\twidth: 35%;\r\n\t}\n\n}\n\n.tc-edit-field-add-button {\r\n\tdisplay: inline-block;\r\n\twidth: 10%;\r\n}\n\n\r\n/*\r\n** Tiddler editor dropzone\r\n*/\n\n.tc-dropzone-editor {\r\n\tposition:relative;\r\n}\n\n.tc-dropzone-editor.tc-dragover .tc-editor-toolbar::after{\r\n\tz-index: 10000;\r\n\ttop:0;\r\n\tleft:0;\r\n\tright:0;\r\n\theight: 100%;\r\n\tbackground: <<colour dropzone-background>>;\r\n\tcontent: \"<<lingo DropMessage>>\";\r\n\tpointer-events: none;\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tbackground-color: <<color background>>;\r\n\tborder: 4px dashed <<color modal-border>>;\r\n\tfont-weight: bold;\r\n\tfont-size: 150%;\r\n\topacity: 0.8;\r\n\tcolor: <<color foreground>>;\r\n}\n\n.tc-editor-importpopup {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\n\n.tc-editor-import {\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tbackground: <<color pre-background>>;\r\n\tbox-shadow: 2px 2px 10px <<colour foreground>>;\r\n\tpadding: 10px;\r\n\twidth: 96%;\r\n\tborder: 1px solid <<color tiddler-controls-foreground>>;\r\n\ttext-align:center;\r\n}\n\n.tc-editor-import img {\r\n\tmax-height: 500px;\r\n}\n\n/*\r\n** Storyview Classes\r\n*/\n\n.tc-viewswitcher .tc-image-button {\r\n\tmargin-right: .3em;\r\n}\n\n.tc-page-container.tc-page-view-zoomin .tc-tiddler-frame {\r\n\tposition: absolute;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n}\n\n@media (min-width: <<sidebarbreakpoint>>) {\n\n\t.tc-page-container.tc-page-view-zoomin .tc-tiddler-frame {\r\n\t\twidth: calc(100% - 84px);\r\n\t}\n\n}\n\n/*\r\n** Dropdowns\r\n*/\n\n.tc-btn-dropdown {\r\n\ttext-align: left;\r\n}\n\n.tc-btn-dropdown svg, .tc-btn-dropdown img {\r\n\theight: 1em;\r\n\twidth: 1em;\r\n\tfill: <<colour muted-foreground>>;\r\n}\n\n.tc-drop-down-wrapper {\r\n\tposition: relative;\r\n}\n\n.tc-drop-down {\r\n\tmin-width: 380px;\r\n\tborder: 1px solid <<colour dropdown-border>>;\r\n\tbackground-color: <<colour dropdown-background>>;\r\n\tpadding: 7px 0 7px 0;\r\n\tmargin: 4px 0 0 0;\r\n\twhite-space: nowrap;\r\n\ttext-shadow: none;\r\n\tline-height: 1.4;\r\n}\n\n.tc-drop-down .tc-drop-down {\r\n\tmargin-left: 14px;\r\n}\n\n.tc-drop-down button svg, .tc-drop-down a svg  {\r\n\tfill: <<colour foreground>>;\r\n}\n\n.tc-drop-down button:disabled svg {\r\n\tfill: <<colour muted-foreground>>;\r\n}\n\n.tc-drop-down button.tc-btn-invisible:hover svg {\r\n\tfill: <<colour background>>;\r\n}\n\n.tc-drop-down .tc-drop-down-info {\r\n\tpadding-left: 14px;\r\n}\n\n.tc-drop-down p {\r\n\tpadding: 0 14px 0 14px;\r\n}\n\n.tc-drop-down svg {\r\n\twidth: 1em;\r\n\theight: 1em;\r\n}\n\n.tc-drop-down img {\r\n\twidth: 1em;\r\n}\n\n.tc-drop-down a, .tc-drop-down button {\r\n\tdisplay: block;\r\n\tpadding: 0 14px 0 14px;\r\n\twidth: 100%;\r\n\ttext-align: left;\r\n\tcolor: <<colour foreground>>;\r\n\tline-height: 1.4;\r\n}\n\n.tc-drop-down .tc-tab-set .tc-tab-buttons button {\r\n\tdisplay: inline-block;\r\n\twidth: auto;\r\n\tmargin-bottom: 0px;\r\n\tborder-bottom-left-radius: 0;\r\n\tborder-bottom-right-radius: 0;\r\n}\n\n.tc-drop-down .tc-prompt {\r\n\tpadding: 0 14px;\r\n}\n\n.tc-drop-down .tc-chooser {\r\n\tborder: none;\r\n}\n\n.tc-drop-down .tc-chooser .tc-swatches-horiz {\r\n\tfont-size: 0.4em;\r\n\tpadding-left: 1.2em;\r\n}\n\n.tc-drop-down .tc-file-input-wrapper {\r\n\twidth: 100%;\r\n}\n\n.tc-drop-down .tc-file-input-wrapper button {\r\n\tcolor: <<colour foreground>>;\r\n}\n\n.tc-drop-down a:hover, .tc-drop-down button:hover, .tc-drop-down .tc-file-input-wrapper:hover button {\r\n\tcolor: <<colour tiddler-link-background>>;\r\n\tbackground-color: <<colour tiddler-link-foreground>>;\r\n\ttext-decoration: none;\r\n}\n\n.tc-drop-down .tc-tab-buttons button {\r\n\tbackground-color: <<colour dropdown-tab-background>>;\r\n}\n\n.tc-drop-down .tc-tab-buttons button.tc-tab-selected {\r\n\tbackground-color: <<colour dropdown-tab-background-selected>>;\r\n\tborder-bottom: 1px solid <<colour dropdown-tab-background-selected>>;\r\n}\n\n.tc-drop-down-bullet {\r\n\tdisplay: inline-block;\r\n\twidth: 0.5em;\r\n}\n\n.tc-drop-down .tc-tab-contents a {\r\n\tpadding: 0 0.5em 0 0.5em;\r\n}\n\n.tc-block-dropdown-wrapper {\r\n\tposition: relative;\r\n}\n\n.tc-block-dropdown {\r\n\tposition: absolute;\r\n\tmin-width: 220px;\r\n\tborder: 1px solid <<colour dropdown-border>>;\r\n\tbackground-color: <<colour dropdown-background>>;\r\n\tpadding: 7px 0;\r\n\tmargin: 4px 0 0 0;\r\n\twhite-space: nowrap;\r\n\tz-index: 1000;\r\n\ttext-shadow: none;\r\n}\n\n.tc-block-dropdown.tc-search-drop-down {\r\n\tmargin-left: -12px;\r\n}\n\n.tc-block-dropdown a {\r\n\tdisplay: block;\r\n\tpadding: 4px 14px 4px 14px;\r\n}\n\n.tc-block-dropdown.tc-search-drop-down a {\r\n\tdisplay: block;\r\n\tpadding: 0px 10px 0px 10px;\r\n}\n\n.tc-drop-down .tc-dropdown-item-plain,\r\n.tc-block-dropdown .tc-dropdown-item-plain {\r\n\tpadding: 4px 14px 4px 7px;\r\n}\n\n.tc-drop-down .tc-dropdown-item,\r\n.tc-block-dropdown .tc-dropdown-item {\r\n\tpadding: 4px 14px 4px 7px;\r\n\tcolor: <<colour muted-foreground>>;\r\n}\n\n.tc-block-dropdown a.tc-tiddlylink:hover {\r\n\tcolor: <<colour tiddler-link-background>>;\r\n\tbackground-color: <<colour tiddler-link-foreground>>;\r\n\ttext-decoration: none;\r\n}\n\n.tc-search-results {\r\n\tpadding: 0 7px 0 7px;\r\n}\n\n.tc-image-chooser, .tc-colour-chooser {\r\n\twhite-space: normal;\r\n}\n\n.tc-image-chooser a,\r\n.tc-colour-chooser a {\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\ttext-align: center;\r\n\tposition: relative;\r\n}\n\n.tc-image-chooser a {\r\n\tborder: 1px solid <<colour muted-foreground>>;\r\n\tpadding: 2px;\r\n\tmargin: 2px;\r\n\twidth: 4em;\r\n\theight: 4em;\r\n}\n\n.tc-colour-chooser a {\r\n\tpadding: 3px;\r\n\twidth: 2em;\r\n\theight: 2em;\r\n\tvertical-align: middle;\r\n}\n\n.tc-image-chooser a:hover,\r\n.tc-colour-chooser a:hover {\r\n\tbackground: <<colour primary>>;\r\n\tpadding: 0px;\r\n\tborder: 3px solid <<colour primary>>;\r\n}\n\n.tc-image-chooser a svg,\r\n.tc-image-chooser a img {\r\n\tdisplay: inline-block;\r\n\twidth: auto;\r\n\theight: auto;\r\n\tmax-width: 3.5em;\r\n\tmax-height: 3.5em;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tmargin: auto;\r\n}\n\n/* Make search dropdown visible on small screens. issue #7003 */\r\n@media (max-width: <<sidebarbreakpoint>>) {\n\n\t.tc-sidebar-search .tc-block-dropdown-wrapper {\r\n\t\tposition: initial;\r\n\t}\n\n}\n\n/*\r\n** Modals\r\n*/\n\n.tc-modal-wrapper {\r\n\tposition: fixed;\r\n\toverflow: auto;\r\n\toverflow-y: scroll;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tz-index: 900;\r\n}\n\n.tc-modal-backdrop {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tz-index: 1000;\r\n\tbackground-color: <<colour modal-backdrop>>;\r\n}\n\n.tc-modal {\r\n\tz-index: 1100;\r\n\tbackground-color: <<colour modal-background>>;\r\n\tborder: 1px solid <<colour modal-border>>;\r\n}\n\n@media (max-width: 55em) {\r\n\t.tc-modal {\r\n\t\tposition: fixed;\r\n\t\ttop: 1em;\r\n\t\tleft: 1em;\r\n\t\tright: 1em;\r\n\t}\n\n\t.tc-modal-body {\r\n\t\toverflow-y: auto;\r\n\t\tmax-height: 400px;\r\n\t\tmax-height: 60vh;\r\n\t}\r\n}\n\n@media (min-width: 55em) {\r\n\t.tc-modal {\r\n\t\tposition: fixed;\r\n\t\ttop: 2em;\r\n\t\tleft: 25%;\r\n\t\twidth: 50%;\r\n\t}\n\n\t.tc-modal-body {\r\n\t\toverflow-y: auto;\r\n\t\tmax-height: 400px;\r\n\t\tmax-height: 60vh;\r\n\t}\r\n}\n\n.tc-modal-header {\r\n\tpadding: 9px 15px;\r\n\tborder-bottom: 1px solid <<colour modal-header-border>>;\r\n}\n\n.tc-modal-header h3 {\r\n\tmargin: 0;\r\n\tline-height: 30px;\r\n}\n\n.tc-modal-header img, .tc-modal-header svg {\r\n\twidth: 1em;\r\n\theight: 1em;\r\n}\n\n.tc-modal-body {\r\n\tpadding: 15px;\r\n}\n\n.tc-modal-footer {\r\n\tpadding: 14px 15px 15px;\r\n\tmargin-bottom: 0;\r\n\ttext-align: right;\r\n\tbackground-color: <<colour modal-footer-background>>;\r\n\tborder-top: 1px solid <<colour modal-footer-border>>;\r\n}\n\n.tc-modal-prevent-scroll {\r\n\toverflow: hidden;\r\n}\n\n/*\r\n** Centered modals\r\n*/\r\n.tc-modal-centered .tc-modal {\r\n\twidth: auto;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%) !important;\r\n}\n\n/*\r\n** Notifications\r\n*/\n\n.tc-notification {\r\n\tposition: fixed;\r\n\ttop: 14px;\r\n\tright: 42px;\r\n\tz-index: 1300;\r\n\tmax-width: 280px;\r\n\tpadding: 0 14px 0 14px;\r\n\tbackground-color: <<colour notification-background>>;\r\n\tborder: 1px solid <<colour notification-border>>;\r\n}\n\n/*\r\n** Tabs\r\n*/\n\n.tc-tab-set.tc-vertical {\r\n\tdisplay: -webkit-flex;\r\n\tdisplay: flex;\r\n}\n\n.tc-tab-buttons {\r\n\tfont-size: 0.85em;\r\n\tpadding-top: 1em;\r\n\tmargin-bottom: -2px;\r\n}\n\n.tc-tab-buttons.tc-vertical  {\r\n\tz-index: 100;\r\n\tdisplay: block;\r\n\tpadding-top: 14px;\r\n\tvertical-align: top;\r\n\ttext-align: right;\r\n\tmargin-bottom: inherit;\r\n\tmargin-right: -1px;\r\n\tmax-width: 33%;\r\n\t-webkit-flex: 0 0 auto;\r\n\tflex: 0 0 auto;\r\n}\n\n.tc-tab-buttons button.tc-tab-selected {\r\n\tcolor: <<colour tab-foreground-selected>>;\r\n\tbackground-color: <<colour tab-background-selected>>;\r\n\tborder-left: 1px solid <<colour tab-border-selected>>;\r\n\tborder-top: 1px solid <<colour tab-border-selected>>;\r\n\tborder-right: 1px solid <<colour tab-border-selected>>;\r\n}\n\n.tc-tab-buttons button {\r\n\tcolor: <<colour tab-foreground>>;\r\n\tpadding: 3px 5px 3px 5px;\r\n\tmargin-right: 0.3em;\r\n\tfont-weight: normal;\r\n\tborder: none;\r\n\tbackground: inherit;\r\n\tbackground-color: <<colour tab-background>>;\r\n\tborder-left: 1px solid <<colour tab-border>>;\r\n\tborder-top: 1px solid <<colour tab-border>>;\r\n\tborder-right: 1px solid <<colour tab-border>>;\r\n\tborder-top-left-radius: 2px;\r\n\tborder-top-right-radius: 2px;\r\n\tborder-bottom-left-radius: 0;\r\n\tborder-bottom-right-radius: 0;\r\n}\n\n.tc-tab-buttons.tc-vertical button {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tmargin-top: 3px;\r\n\tmargin-right: 0;\r\n\ttext-align: right;\r\n\tbackground-color: <<colour tab-background>>;\r\n\tborder-left: 1px solid <<colour tab-border>>;\r\n\tborder-bottom: 1px solid <<colour tab-border>>;\r\n\tborder-right: none;\r\n\tborder-top-left-radius: 2px;\r\n\tborder-bottom-left-radius: 2px;\r\n\tborder-top-right-radius: 0;\r\n\tborder-bottom-right-radius: 0;\r\n}\n\n.tc-tab-buttons.tc-vertical button.tc-tab-selected {\r\n\tbackground-color: <<colour tab-background-selected>>;\r\n\tborder-right: 1px solid <<colour tab-background-selected>>;\r\n}\n\n.tc-tab-divider {\r\n\tborder-top: 1px solid <<colour tab-divider>>;\r\n}\n\n.tc-tab-divider.tc-vertical  {\r\n\tdisplay: none;\r\n}\n\n.tc-tab-content {\r\n\tmargin-top: 14px;\r\n}\n\n.tc-tab-content.tc-vertical  {\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\tpadding-top: 0;\r\n\tpadding-left: 14px;\r\n\tborder-left: 1px solid <<colour tab-border>>;\r\n\t-webkit-flex: 1 0 70%;\r\n\tflex: 1 0 70%;\r\n\toverflow: auto;\r\n}\n\n.tc-sidebar-lists .tc-tab-buttons {\r\n\tmargin-bottom: -1px;\r\n}\n\n.tc-sidebar-lists .tc-tab-buttons button.tc-tab-selected {\r\n\tbackground-color: <<colour sidebar-tab-background-selected>>;\r\n\tcolor: <<colour sidebar-tab-foreground-selected>>;\r\n\tborder-left: 1px solid <<colour sidebar-tab-border-selected>>;\r\n\tborder-top: 1px solid <<colour sidebar-tab-border-selected>>;\r\n\tborder-right: 1px solid <<colour sidebar-tab-border-selected>>;\r\n}\n\n.tc-sidebar-lists .tc-tab-buttons button {\r\n\tbackground-color: <<colour sidebar-tab-background>>;\r\n\tcolor: <<colour sidebar-tab-foreground>>;\r\n\tborder-left: 1px solid <<colour sidebar-tab-border>>;\r\n\tborder-top: 1px solid <<colour sidebar-tab-border>>;\r\n\tborder-right: 1px solid <<colour sidebar-tab-border>>;\r\n}\n\n.tc-sidebar-lists .tc-tab-divider {\r\n\tborder-top: 1px solid <<colour sidebar-tab-divider>>;\r\n}\n\n.tc-more-sidebar > .tc-tab-set > .tc-tab-buttons > button {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tbackground-color: <<colour sidebar-tab-background>>;\r\n\tborder-top: none;\r\n\tborder-left: none;\r\n\tborder-bottom: none;\r\n\tborder-right: 1px solid #ccc;\r\n\tmargin-bottom: inherit;\r\n}\n\n.tc-more-sidebar > .tc-tab-set > .tc-tab-buttons > button.tc-tab-selected {\r\n\tbackground-color: <<colour sidebar-tab-background-selected>>;\r\n\tborder: none;\r\n}\n\n/*\r\n** Manager\r\n*/\n\n.tc-manager-wrapper {\n\n}\n\n.tc-manager-controls {\n\n}\n\n.tc-manager-control {\r\n\tmargin: 0.5em 0;\r\n}\n\n.tc-manager-control select {\r\n\tmax-width: 100%;\r\n}\n\n.tc-manager-list {\r\n\twidth: 100%;\r\n\tborder-top: 1px solid <<colour muted-foreground>>;\r\n\tborder-left: 1px solid <<colour muted-foreground>>;\r\n\tborder-right: 1px solid <<colour muted-foreground>>;\r\n}\n\n.tc-manager-list-item {\n\n}\n\n.tc-manager-list-item-heading {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\ttext-align: left;\r\n\tborder-bottom: 1px solid <<colour muted-foreground>>;\r\n\tpadding: 3px;\r\n}\n\n.tc-manager-list-item-heading-selected {\r\n\tfont-weight: bold;\r\n\tcolor: <<colour background>>;\r\n\tfill: <<colour background>>;\r\n\tbackground-color: <<colour foreground>>;\r\n}\n\n.tc-manager-list-item-heading:hover {\r\n\tbackground: <<colour primary>>;\r\n\tcolor: <<colour background>>;\r\n}\n\n.tc-manager-list-item-content {\r\n\tdisplay: flex;\r\n}\n\n.tc-manager-list-item-content-sidebar {\r\n\tflex: 1 0;\r\n\tbackground: <<colour tiddler-editor-background>>;\r\n\tborder-right: 0.5em solid <<colour muted-foreground>>;\r\n\tborder-bottom: 0.5em solid <<colour muted-foreground>>;\r\n\twhite-space: nowrap;\r\n}\n\n.tc-manager-list-item-content-item-heading {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\ttext-align: left;\r\n\tbackground: <<colour muted-foreground>>;\r\n\ttext-transform: uppercase;\r\n\tfont-size: 0.6em;\r\n\tfont-weight: bold;\r\n\tpadding: 0.5em 0 0.5em 0;\r\n}\n\n.tc-manager-list-item-content-item-body {\r\n\tpadding: 0 0.5em 0 0.5em;\r\n}\n\n.tc-manager-list-item-content-item-body > pre {\r\n\tmargin: 0.5em 0 0.5em 0;\r\n\tborder: none;\r\n\tbackground: inherit;\r\n}\n\n.tc-manager-list-item-content-tiddler {\r\n\tflex: 3 1;\r\n\tborder-left: 0.5em solid <<colour muted-foreground>>;\r\n\tborder-right: 0.5em solid <<colour muted-foreground>>;\r\n\tborder-bottom: 0.5em solid <<colour muted-foreground>>;\r\n}\n\n.tc-manager-list-item-content-item-body > table {\r\n\tborder: none;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n}\n\n.tc-manager-list-item-content-item-body > table td {\r\n\tborder: none;\r\n}\n\n.tc-manager-icon-editor > button {\r\n\twidth: 100%;\r\n}\n\n.tc-manager-icon-editor > button > svg,\r\n.tc-manager-icon-editor > button > button {\r\n\twidth: 100%;\r\n\theight: auto;\r\n}\n\n/*\r\n** Import table\r\n*/\n\n.tc-import-table {\r\n\twidth: 100%;\r\n}\n\n.tc-import-table svg.tc-image-edit-button {\r\n\tmax-width: unset;\r\n}\n\n.tc-import-table th:first-of-type {\r\n\twidth: 10%;\r\n}\n\n.tc-import-table th:last-of-type {\r\n\twidth: 30%;\r\n}\n\n.tc-import-table .tc-row-disabled {\r\n\tbackground: <<colour very-muted-foreground>>10;\r\n\topacity: 0.8;\r\n}\n\n.tc-import-table .tc-row-warning {\r\n\tbackground: <<colour diff-delete-background>>50;\r\n}\n\n/*\r\n** Alerts\r\n*/\n\n.tc-alerts {\r\n\tposition: fixed;\r\n\ttop: 28px;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tmax-width: 50%;\r\n\tz-index: 20000;\r\n}\n\n.tc-alert {\r\n\tposition: relative;\r\n\tmargin: 14px;\r\n\tpadding: 7px;\r\n\tborder: 1px solid <<colour alert-border>>;\r\n\tbackground-color: <<colour alert-background>>;\r\n}\n\n.tc-alert-toolbar {\r\n\tposition: absolute;\r\n\ttop: 7px;\r\n\tright: 7px;\r\n\tline-height: 0;\r\n}\n\n.tc-alert-toolbar svg {\r\n\tfill: <<colour alert-muted-foreground>>;\r\n}\n\n.tc-alert-subtitle {\r\n\tcolor: <<colour alert-muted-foreground>>;\r\n\tfont-weight: bold;\r\n\tfont-size: 0.8em;\r\n\tmargin-bottom: 0.5em;\r\n}\n\n.tc-alert-body > p {\r\n\tmargin: 0;\r\n}\n\n.tc-alert-highlight {\r\n\tcolor: <<colour alert-highlight>>;\r\n}\n\n@media (min-width: <<sidebarbreakpoint>>) {\n\n\t.tc-static-alert {\r\n\t\tposition: relative;\r\n\t}\n\n\t.tc-static-alert-inner {\r\n\t\tposition: absolute;\r\n\t\tz-index: 100;\r\n\t}\n\n}\n\n.tc-static-alert-inner {\r\n\tpadding: 0 2px 2px 42px;\r\n\tcolor: <<colour static-alert-foreground>>;\r\n}\n\n/*\r\n** Floating drafts list\r\n*/\n\n.tc-drafts-list {\r\n\tz-index: 2000;\r\n\tposition: fixed;\r\n\tfont-size: 0.8em;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n}\n\n.tc-drafts-list a {\r\n\tmargin: 0 0.5em;\r\n\tpadding: 4px 4px;\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\tborder: 1px solid <<colour background>>;\r\n\tborder-bottom: none;\r\n\tbackground: <<colour dirty-indicator>>;\r\n\tcolor: <<colour background>>;\r\n\tfill: <<colour background>>;\r\n}\n\n.tc-drafts-list a:hover {\r\n\ttext-decoration: none;\r\n\tbackground: <<colour foreground>>;\r\n\tcolor: <<colour background>>;\r\n\tfill: <<colour background>>;\r\n}\n\n.tc-drafts-list a svg {\r\n\twidth: 1em;\r\n\theight: 1em;\r\n\tvertical-align: text-bottom;\r\n}\n\n/*\r\n** Control panel\r\n*/\n\n.tc-control-panel td {\r\n\tpadding: 4px;\r\n}\n\n.tc-control-panel table, .tc-control-panel table input, .tc-control-panel table textarea {\r\n\twidth: 100%;\r\n}\n\n.tc-control-panel-setting {\r\n\tborder-top: 1px solid <<colour blockquote-bar>>;\r\n}\n\n.tc-plugin-info {\r\n\tdisplay: flex;\r\n\ttext-shadow: none;\r\n\tborder: 1px solid <<colour muted-foreground>>;\r\n\tfill: <<colour muted-foreground>>;\r\n\tbackground-color: <<colour background>>;\r\n\tmargin: 0.5em 0 0.5em 0;\r\n\tpadding: 4px;\r\n\talign-items: center;\r\n}\n\n.tc-sidebar-lists a.tc-tiddlylink.tc-plugin-info {\r\n\tcolor: <<colour tiddler-link-foreground>>;\r\n}\n\n\r\n.tc-plugin-info-sub-plugins .tc-plugin-info {\r\n\tmargin: 0.5em;\r\n\tbackground: <<colour background>>;\r\n}\n\n.tc-plugin-info-sub-plugin-indicator {\r\n\tmargin: -16px 1em 0 2em;\r\n}\n\n.tc-plugin-info-sub-plugin-indicator button {\r\n\tcolor: <<colour background>>;\r\n\tbackground: <<colour foreground>>;\r\n\tborder-radius: 8px;\r\n\tpadding: 2px 7px;\r\n\tfont-size: 0.75em;\r\n}\n\n.tc-plugin-info-sub-plugins .tc-plugin-info-dropdown {\r\n\tmargin-left: 1em;\r\n\tmargin-right: 1em;\r\n}\n\n.tc-plugin-info-disabled {\r\n\tbackground: -webkit-repeating-linear-gradient(45deg, #ff0, #ff0 10px, #eee 10px, #eee 20px);\r\n\tbackground: repeating-linear-gradient(45deg, #ff0, #ff0 10px, #eee 10px, #eee 20px);\r\n}\n\n.tc-plugin-info-disabled:hover {\r\n\tbackground: -webkit-repeating-linear-gradient(45deg, #aa0, #aa0 10px, #888 10px, #888 20px);\r\n\tbackground: repeating-linear-gradient(45deg, #aa0, #aa0 10px, #888 10px, #888 20px);\r\n}\n\na.tc-tiddlylink.tc-plugin-info:hover {\r\n\ttext-decoration: none;\r\n\tbackground-color: <<colour primary>>;\r\n\tcolor: <<colour background>>;\r\n\tfill: <<colour foreground>>;\r\n}\n\na.tc-tiddlylink.tc-plugin-info:hover > .tc-plugin-info-chunk > svg {\r\n\tfill: <<colour background>>;\r\n}\n\na.tc-tiddlylink.tc-plugin-info:hover > .tc-plugin-info-chunk .tc-plugin-info-stability {\r\n\tborder: 1px solid <<colour background>>;\r\n\tcolor: <<colour background>>;\r\n}\n\n.tc-plugin-info-chunk {\r\n\tmargin: 2px;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-toggle {\r\n\tflex-grow: 0;\r\n\tflex-shrink: 0;\r\n\tline-height: 1;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-icon {\r\n\tflex-grow: 0;\r\n\tflex-shrink: 0;\r\n\tline-height: 1;\r\n\theight: 2em;\r\n\twidth: 2em;\r\n\tdisplay: grid;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-description {\r\n\tflex-grow: 1;\r\n}\n\n.tc-plugin-info-chunk .tc-plugin-info-stability {\r\n\tmargin-right: 4px;\r\n\tpadding: 1px 3px;\r\n\tfont-size: 0.8em;\r\n\tborder-radius: 4px;\r\n\tfont-weight: bold;\r\n}\n\n.tc-plugin-info-chunk .tc-plugin-info-stability-stable {\r\n\tborder: 1px solid <<colour stability-stable>>;\r\n\tcolor: <<colour stability-stable>>;\r\n}\n\n.tc-plugin-info-chunk .tc-plugin-info-stability-experimental {\r\n\tborder: 1px solid <<colour stability-experimental>>;\r\n\tcolor: <<colour stability-experimental>>;\r\n}\n\n.tc-plugin-info-chunk .tc-plugin-info-stability-deprecated {\r\n\tborder: 1px solid <<colour stability-deprecated>>;\r\n\tcolor: <<colour stability-deprecated>>;\r\n}\n\n.tc-plugin-info-chunk .tc-plugin-info-stability-legacy {\r\n\tborder: 1px solid <<colour stability-legacy>>;\r\n\tcolor: <<colour stability-legacy>>;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-buttons {\r\n\tfont-size: 0.8em;\r\n\tline-height: 1.2;\r\n\tflex-grow: 0;\r\n\tflex-shrink: 0;\r\n\ttext-align: right;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-description h1 {\r\n\tfont-size: 1em;\r\n\tline-height: 1.2;\r\n\tmargin: 2px 0 2px 0;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-description h2 {\r\n\tfont-size: 0.8em;\r\n\tline-height: 1.2;\r\n\tmargin: 2px 0 2px 0;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-description div {\r\n\tfont-size: 0.8em;\r\n\tline-height: 1.2;\r\n\tmargin: 2px 0 2px 0;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-toggle img, .tc-plugin-info-chunk.tc-plugin-info-toggle svg {\r\n\twidth: 1em;\r\n\theight: 1em;\r\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-icon img, .tc-plugin-info-chunk.tc-plugin-info-icon svg {\r\n\tmax-width: 2em;\r\n\tmax-height: 2em;\r\n\tmargin: auto;\r\n}\n\n.tc-plugin-info-dropdown {\r\n\tborder: 1px solid <<colour muted-foreground>>;\r\n\tbackground: <<colour background>>;\r\n\tmargin-top: -8px;\r\n}\n\n.tc-plugin-info-dropdown-message {\r\n\tbackground: <<colour message-background>>;\r\n\tpadding: 0.5em 1em 0.5em 1em;\r\n\tfont-weight: bold;\r\n\tfont-size: 0.8em;\r\n}\n\n.tc-plugin-info-dropdown-body {\r\n\tpadding: 1em 1em 0 1em;\r\n\tbackground: <<colour background>>;\r\n}\n\n.tc-plugin-info-sub-plugins {\r\n\tpadding: 0.5em;\r\n\tmargin: 0 1em 1em 1em;\r\n\tbackground: <<colour notification-background>>;\r\n}\n\n.tc-install-plugin {\r\n\tfont-weight: bold;\r\n\tbackground: green;\r\n\tcolor: white;\r\n\tfill: white;\r\n\tborder-radius: 4px;\r\n\tpadding: 3px;\r\n}\n\n.tc-install-plugin.tc-reinstall-downgrade {\r\n\tbackground: red;\r\n}\n\n.tc-install-plugin.tc-reinstall {\r\n\tbackground: blue;\r\n}\n\n.tc-install-plugin.tc-reinstall-upgrade {\r\n\tbackground: orange;\r\n}\n\n.tc-check-list {\r\n\tline-height: 2em;\r\n}\n\n.tc-check-list .tc-image-button {\r\n\theight: 1.5em;\r\n}\n\n/*\r\n** Message boxes\r\n*/\n\n.tc-message-box {\r\n\tborder: 1px solid <<colour message-border>>;\r\n\tbackground: <<colour message-background>>;\r\n\tpadding: 0px 21px 0px 21px;\r\n\tfont-size: 12px;\r\n\tline-height: 18px;\r\n\tcolor: <<colour message-foreground>>;\r\n}\n\n.tc-message-box svg {\r\n\twidth: 1em;\r\n\theight: 1em;\r\n\tvertical-align: text-bottom;\r\n}\n\n/*\r\n** Pictures\r\n*/\n\n.tc-bordered-image {\r\n\tborder: 1px solid <<colour muted-foreground>>;\r\n\tpadding: 5px;\r\n\tmargin: 5px;\r\n}\n\n/*\r\n** Floats\r\n*/\n\n.tc-float-right {\r\n\tfloat: right;\r\n}\n\n/* Float tc-clearfix. Needs to be used by elements that allow float:right in their content.\r\n** So the floating element does not overflow\r\n*/\n\n.tc-clearfix:after {\r\n\tcontent: \"\";\r\n\tclear: both;\r\n\tdisplay: table;\r\n}\n\n/* Fix overflow toc, manager and testcase output */\r\n.tc-tiddler-body .tc-tabbed-table-of-contents, .tc-manager-list-item-content, .tc-test-case-output {\r\n\toverflow-x: auto;\r\n}\n\n/* A wrapper to fix table overflow */\n\n.tc-table-wrapper {\r\n\toverflow-x: auto;\r\n}\n\n/*\r\n** Chooser\r\n*/\n\n.tc-chooser {\r\n\tborder-right: 1px solid <<colour table-header-background>>;\r\n\tborder-left: 1px solid <<colour table-header-background>>;\r\n}\n\n\r\n.tc-chooser-item {\r\n\tborder-bottom: 1px solid <<colour table-header-background>>;\r\n\tborder-top: 1px solid <<colour table-header-background>>;\r\n\tpadding: 2px 4px 2px 14px;\r\n}\n\n.tc-drop-down .tc-chooser-item {\r\n\tpadding: 2px;\r\n}\n\n.tc-chosen,\r\n.tc-chooser-item:hover {\r\n\tbackground-color: <<colour table-header-background>>;\r\n\tborder-color: <<colour table-footer-background>>;\r\n}\n\n.tc-chosen .tc-tiddlylink {\r\n\tcursor:default;\r\n}\n\n.tc-chooser-item .tc-tiddlylink {\r\n\tdisplay: block;\r\n\ttext-decoration: none;\r\n\tbackground-color: transparent;\r\n}\n\n.tc-chooser-item:hover .tc-tiddlylink:hover {\r\n\ttext-decoration: none;\r\n}\n\n.tc-drop-down .tc-chosen .tc-tiddlylink,\r\n.tc-drop-down .tc-chooser-item .tc-tiddlylink:hover {\r\n\tcolor: <<colour foreground>>;\r\n}\n\n.tc-chosen > .tc-tiddlylink:before {\r\n\tmargin-left: -10px;\r\n\tposition: relative;\r\n\tcontent: \"» \";\r\n}\n\n.tc-chooser-item svg,\r\n.tc-chooser-item img{\r\n\tmax-width: 1em;\r\n\tmax-height: 1em;\r\n\tvertical-align: middle;\r\n}\n\n.tc-language-chooser .tc-image-button img {\r\n\tmax-width: 2em;\r\n\tmax-height: 1em;\r\n\twidth: auto;\r\n\theight: auto;\r\n\tvertical-align: -0.15em;\r\n}\n\n/*\r\n** Palette swatches\r\n*/\n\n.tc-swatches-horiz {\r\n}\n\n.tc-swatches-horiz .tc-swatch {\r\n\tdisplay: inline-block;\r\n}\n\n.tc-swatch {\r\n\twidth: 2em;\r\n\theight: 2em;\r\n\tmargin: 0.4em;\r\n\tborder: 1px solid #888;\r\n}\n\ninput.tc-palette-manager-colour-input {\r\n\twidth: 100%;\r\n\tpadding: 0;\r\n}\n\n/*\r\n** Table of contents\r\n*/\n\n.tc-sidebar-lists .tc-table-of-contents {\r\n\twhite-space: nowrap;\r\n}\n\n.tc-table-of-contents button,\r\n.tc-table-of-contents .toc-item-muted {\r\n\tcolor: <<colour sidebar-foreground>>;\r\n}\n\n.tc-table-of-contents svg {\r\n\twidth: 0.7em;\r\n\theight: 0.7em;\r\n\tvertical-align: middle;\r\n\tfill: <<colour sidebar-foreground>>;\r\n}\n\n.tc-table-of-contents ol {\r\n\tlist-style-type: none;\r\n\tpadding-left: 0;\r\n}\n\n.tc-table-of-contents ol ol {\r\n\tpadding-left: 1em;\r\n}\n\n.tc-table-of-contents li {\r\n\tfont-size: 1.0em;\r\n\tfont-weight: bold;\r\n}\n\n.tc-table-of-contents li a {\r\n\tfont-weight: bold;\r\n}\n\n.tc-table-of-contents li li {\r\n\tfont-size: 0.95em;\r\n\tfont-weight: normal;\r\n\tline-height: 1.4;\r\n}\n\n.tc-table-of-contents li li a {\r\n\tfont-weight: normal;\r\n}\n\n.tc-table-of-contents li li li {\r\n\tfont-size: 0.95em;\r\n\tfont-weight: normal;\r\n\tline-height: 1.5;\r\n}\n\n.tc-table-of-contents li li li li {\r\n\tfont-size: 0.95em;\r\n\tfont-weight: normal;\r\n}\n\n.tc-tabbed-table-of-contents {\r\n\tdisplay: -webkit-flex;\r\n\tdisplay: flex;\r\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents {\r\n\tz-index: 100;\r\n\tdisplay: inline-block;\r\n\tpadding-left: 1em;\r\n\tmax-width: 50%;\r\n\t-webkit-flex: 0 0 auto;\r\n\tflex: 0 0 auto;\r\n\tbackground: <<colour tab-background>>;\r\n\tborder-left: 1px solid <<colour tab-border>>;\r\n\tborder-top: 1px solid <<colour tab-border>>;\r\n\tborder-bottom: 1px solid <<colour tab-border>>;\r\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item > a,\r\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected > a {\r\n\tdisplay: block;\r\n\tpadding: 0.12em 1em 0.12em 0.25em;\r\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item > a {\r\n\tborder-top: 1px solid <<colour tab-background>>;\r\n\tborder-left: 1px solid <<colour tab-background>>;\r\n\tborder-bottom: 1px solid <<colour tab-background>>;\r\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item > a:hover {\r\n\ttext-decoration: none;\r\n\tborder-top: 1px solid <<colour tab-border>>;\r\n\tborder-left: 1px solid <<colour tab-border>>;\r\n\tborder-bottom: 1px solid <<colour tab-border>>;\r\n\tbackground: <<colour tab-border>>;\r\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected > a {\r\n\tborder-top: 1px solid <<colour tab-border>>;\r\n\tborder-left: 1px solid <<colour tab-border>>;\r\n\tborder-bottom: 1px solid <<colour tab-border>>;\r\n\tbackground: <<colour background>>;\r\n\tmargin-right: -1px;\r\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected > a:hover {\r\n\ttext-decoration: none;\r\n}\n\n.tc-tabbed-table-of-contents .tc-tabbed-table-of-contents-content {\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\tpadding-left: 1.5em;\r\n\tpadding-right: 1.5em;\r\n\tborder: 1px solid <<colour tab-border>>;\r\n\t-webkit-flex: 1 0 50%;\r\n\tflex: 1 0 50%;\r\n}\n\n/*\r\n** Dirty indicator\r\n*/\n\nhtml body svg.tc-image-save-button-dynamic .tc-image-save-button-dynamic-clean {\r\n\tvisibility: visible;\r\n}\n\nhtml body svg.tc-image-save-button-dynamic .tc-image-save-button-dynamic-dirty {\r\n\tvisibility: hidden;\r\n}\n\nhtml body.tc-dirty svg.tc-image-save-button-dynamic .tc-image-save-button-dynamic-clean {\r\n\tvisibility: hidden;\r\n}\n\nhtml body.tc-dirty svg.tc-image-save-button-dynamic .tc-image-save-button-dynamic-dirty {\r\n\tvisibility: visible;\r\n}\n\nhtml body.tc-dirty span.tc-dirty-indicator, html body.tc-dirty span.tc-dirty-indicator svg {\r\n\tfill: <<colour dirty-indicator>>;\r\n\tcolor: <<colour dirty-indicator>>;\r\n}\n\n/*\r\n** File inputs\r\n*/\n\n.tc-file-input-wrapper {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n}\n\n.tc-file-input-wrapper input[type=file] {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tfont-size: 999px;\r\n\tmax-width: 100%;\r\n\tmax-height: 100%;\r\n\tfilter: alpha(opacity=0);\r\n\topacity: 0;\r\n\toutline: none;\r\n\tbackground: white;\r\n\tcursor: pointer;\r\n\tdisplay: inline-block;\r\n}\n\n::-webkit-file-upload-button {\r\n\tcursor:pointer;\r\n}\n\n/*\r\n** Thumbnail macros\r\n*/\n\n.tc-thumbnail-wrapper {\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n\tmargin: 6px;\r\n\tvertical-align: top;\r\n}\n\n.tc-thumbnail-right-wrapper {\r\n\tfloat:right;\r\n\tmargin: 0.5em 0 0.5em 0.5em;\r\n}\n\n.tc-thumbnail-image {\r\n\ttext-align: center;\r\n\toverflow: hidden;\r\n\tborder-radius: 3px;\r\n}\n\n.tc-thumbnail-image svg,\r\n.tc-thumbnail-image img {\r\n\tfilter: alpha(opacity=1);\r\n\topacity: 1;\r\n\tmin-width: 100%;\r\n\tmin-height: 100%;\r\n\tmax-width: 100%;\r\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-image svg,\r\n.tc-thumbnail-wrapper:hover .tc-thumbnail-image img {\r\n\tfilter: alpha(opacity=0.8);\r\n\topacity: 0.8;\r\n}\n\n.tc-thumbnail-background {\r\n\tposition: absolute;\r\n\tborder-radius: 3px;\r\n}\n\n.tc-thumbnail-icon svg,\r\n.tc-thumbnail-icon img {\r\n\twidth: 3em;\r\n\theight: 3em;\r\n\t<<filter \"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))\">>\r\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-icon svg,\r\n.tc-thumbnail-wrapper:hover .tc-thumbnail-icon img {\r\n\tfill: #fff;\r\n\t<<filter \"drop-shadow(3px 3px 4px rgba(0,0,0,0.6))\">>\r\n}\n\n.tc-thumbnail-icon {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tdisplay: -webkit-flex;\r\n\t-webkit-align-items: center;\r\n\t-webkit-justify-content: center;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\n\n.tc-thumbnail-caption {\r\n\tposition: absolute;\r\n\tbackground-color: #777;\r\n\tcolor: #fff;\r\n\ttext-align: center;\r\n\tbottom: 0;\r\n\twidth: 100%;\r\n\tfilter: alpha(opacity=0.9);\r\n\topacity: 0.9;\r\n\tline-height: 1.4;\r\n\tborder-bottom-left-radius: 3px;\r\n\tborder-bottom-right-radius: 3px;\r\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-caption {\r\n\tfilter: alpha(opacity=1);\r\n\topacity: 1;\r\n}\n\n/*\r\n** Diffs\r\n*/\n\n.tc-diff-equal {\r\n\tbackground-color: <<colour diff-equal-background>>;\r\n\tcolor: <<colour diff-equal-foreground>>;\r\n}\n\n.tc-diff-insert {\r\n\tbackground-color: <<colour diff-insert-background>>;\r\n\tcolor: <<colour diff-insert-foreground>>;\r\n}\n\n.tc-diff-delete {\r\n\tbackground-color: <<colour diff-delete-background>>;\r\n\tcolor: <<colour diff-delete-foreground>>;\r\n}\n\n.tc-diff-invisible {\r\n\tbackground-color: <<colour diff-invisible-background>>;\r\n\tcolor: <<colour diff-invisible-foreground>>;\r\n}\n\n.tc-diff-tiddlers th {\r\n\ttext-align: right;\r\n\tbackground: <<colour background>>;\r\n\tfont-weight: normal;\r\n\tfont-style: italic;\r\n}\n\n.tc-diff-tiddlers pre {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder: none;\r\n\tbackground: none;\r\n}\n\n/*\r\n** Errors\r\n*/\n\n.tc-error {\r\n\tbackground: #f00;\r\n\tcolor: #fff;\r\n}\n\n/*\r\n** Tree macro\r\n*/\n\n.tc-tree div {\r\n\tpadding-left: 14px;\r\n}\n\n.tc-tree ol {\r\n\tlist-style-type: none;\r\n\tpadding-left: 0;\r\n\tmargin-top: 0;\r\n}\n\n.tc-tree ol ol {\r\n\tpadding-left: 1em;\r\n}\n\n.tc-tree button {\r\n\tcolor: #acacac;\r\n}\n\n.tc-tree svg {\r\n\tfill: #acacac;\r\n}\n\n.tc-tree span svg {\r\n\twidth: 1em;\r\n\theight: 1em;\r\n\tvertical-align: baseline;\r\n}\n\n.tc-tree li span {\r\n\tcolor: lightgray;\r\n}\n\nselect {\r\n\tcolor: <<colour select-tag-foreground>>;\r\n\tbackground: <<colour select-tag-background>>;\r\n}\n\n/*\r\n** Translink macro\r\n*/\n\n.tc-translink {\r\n\tbackground-color: <<colour pre-background>>;\r\n\tborder: 1px solid <<colour pre-border>>;\r\n\tpadding: 0 3px;\r\n\tborder-radius: 3px;\r\n}\n\ndiv.tc-translink > div {\r\n\tmargin: 1em;\r\n}\n\ndiv.tc-translink > div > a:first-child > h1 {\r\n\tfont-size: 1.2em;\r\n\tfont-weight: bold;\r\n}\n\nspan.tc-translink > a:first-child {\r\n\tfont-weight: bold;\r\n}\n\n/*\r\n** Classes for displaying globals\r\n*/\n\n.tc-global-tiddler-body {\r\n\tpadding: 0.25em;\r\n\tborder: 1px solid <<colour foreground>>;\r\n\tbackground-color: <<colour muted-foreground>>;\r\n\tborder-radius: 3px;\r\n}\n\n.tc-global-tiddler-body-heading {\r\n\tmargin: 0 0 0.25em 0;\r\n\tfont-weight: normal;\r\n}\n\n.tc-global-tiddler-body-type {\r\n\tmargin: 0 0 0.25em 0;\r\n\tborder-bottom: 1px solid <<colour foreground>>;\r\n}\n\n.tc-global-tiddler-body-details {\r\n\tbackground-color: <<colour background>>;\r\n}\n\n.tc-global-tiddler-body pre {\r\n\tmargin: 0;\r\n\tborder: 1px solid <<colour foreground>>;\r\n}\n\n/*\r\n** Utility classes for SVG icons\r\n*/\n\n.tc-fill-background {\r\n\tfill: <<colour background>>;\r\n}\n\n.tc-network-activity-background {\r\n\tfill: <<colour network-activity-foreground>>;\r\n}\n\n/*\r\n** Test Cases\r\n*/\n\n.tc-test-case-wrapper {\r\n\tborder: 1px solid <<colour foreground>>;\r\n\tbackground-color: <<colour muted-foreground>>;\r\n\tborder-radius: 6px;\r\n}\n\n.tc-test-case-wrapper {\r\n\tbackground-color: <<colour testcase-accent-level-1>>;\r\n}\n\n.tc-test-case-wrapper .tc-test-case-wrapper {\r\n\tbackground-color: <<colour testcase-accent-level-2>>;\r\n}\n\n.tc-test-case-wrapper .tc-test-case-wrapper .tc-test-case-wrapper {\r\n\tbackground-color: <<colour testcase-accent-level-3>>;\r\n}\n\n.tc-test-case-header {\r\n\tfont-weight: normal;\r\n\tmargin: 0.5em 0;\r\n\tpadding: 0 0.5em;\r\n}\n\n.tc-test-case-divider {\r\n\tx-background-color: <<colour muted-foreground>>;\r\n}\n\n.tc-test-case-result-icon {\r\n\tfill: #fff;\r\n\tpadding: 0.25em;\r\n\tdisplay: inline-block;\r\n\tline-height: 0;\r\n\tborder-radius: 1em;\r\n\tvertical-align: text-bottom;\r\n\tmargin-right: 0.25em;\r\n}\n\n.tc-test-case-result-icon-pass {\r\n\tbackground-color: green;\r\n}\n\n.tc-test-case-result-icon-fail {\r\n\tbackground-color: red;\r\n}\n\n.tc-test-case-result-icon svg {\r\n\twidth: 0.5em;\r\n\theight: 0.5em;\r\n}\n\n.tc-test-case-header > h2 {\r\n\tbackground: <<colour background>>;\r\n\tborder-radius: 4px;\r\n\tpadding: 0.25em;\r\n}\n\n.tc-test-case-header > h2,\r\n.tc-test-case-source > pre {\r\n\tmargin: 0;\r\n}\n\n.tc-test-case-header > h2 a.tc-tiddlylink-missing {\r\n\tfont-style: normal;\r\n}\n\n.tc-test-case-toolbar {\r\n\tfloat: right;\r\n}\n\n.tc-test-case-toolbar svg {\r\n\tfill: <<colour tiddler-controls-foreground>>;\r\n}\n\n.tc-test-case-toolbar .tc-drop-down {\r\n\tfont-size: 0.8em;\r\n}\n\n.tc-test-case-result-fail {\r\n\tborder: 1px solid <<colour foreground>>;\r\n\tbackground-color: <<colour background>>;\r\n\tborder-radius: 4px;\r\n\tmargin: 0 0.5em;\r\n\tpadding: 0;\r\n}\n\n.tc-test-case-result-fail-header {\r\n\tbackground: <<colour diff-delete-background>>;\r\n\tcolor: <<colour diff-delete-foreground>>;\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\tpadding: 4px;\r\n}\n\n.tc-test-case-result-fail-body {\r\n\tpadding: 4px;\r\n}\n\n.tc-test-case-source > pre {\r\n\theight: 100%;\r\n}\n\n.tc-test-case-narrative {\r\n\tpadding: 0.5em;\r\n}\n\n.tc-test-case-panes {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tflex-wrap: wrap;\r\n\tpadding: 0.5em;\r\n\tborder-bottom-left-radius: 6px;\r\n\tborder-bottom-right-radius: 6px;\r\n}\n\n.tc-test-case-source {\r\n\tflex: 1 0 49%;\r\n\tmin-width: 250px;\r\n}\n\n.tc-test-case-source .tc-tab-content {\r\n\tbackground: inherit;\r\n\tmargin: 0;\r\n}\n\n.tc-test-case-source .tc-tab-content .tc-field-table {\r\n\tbackground: <<colour background>>;\r\n}\n\n.tc-test-case-source .tc-field-table {\r\n\twidth: 100%;\r\n}\n\n.tc-test-case-source table.tc-field-table {\r\n\tmargin: 0;\r\n}\n\n.tc-test-case-source .tc-tiddler-frame .tc-edit-texteditor {\r\n\tmargin: 0;\r\n}\n\n.tc-test-case-divider {\r\n\tflex: 0 0 1.5%;\r\n}\n\n.tc-test-case-source .tc-tab-buttons {\r\n\tpadding-top: 0;\r\n}\n\n.tc-test-case-footer-toolbar {\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n}\n\n.tc-test-case-output {\r\n\tbox-shadow: inset 2px 2px 10px 0px <<colour muted-foreground>>;\r\n\tbackground: <<colour background>>;\r\n\tborder-radius: 4px;\r\n\tborder: 1px solid <<colour muted-foreground>>;\r\n\tflex: 1 0 49%;\r\n\tmin-width: 250px;\r\n\tpadding: 0.25em 1em;\r\n}\n\n/*\r\n** Flexbox utility classes\r\n*/\n\n.tc-flex {\r\n\tdisplay: -webkit-flex;\r\n\tdisplay: flex;\r\n}\n\n.tc-flex-column {\r\n\tflex-direction: column;\r\n}\n\n.tc-flex-row {\r\n\tflex-direction: row;\r\n}\n\n.tc-flex-grow-1 {\r\n\tflex-grow: 1;\r\n}\n\n.tc-flex-grow-2 {\r\n\tflex-grow: 2;\r\n}\n\n/*\r\n** Other utility classes\r\n*/\n\n/* Horizontal gaps */\n\n.tc-tiny-gap {\r\n\tmargin-left: .25em;\r\n\tmargin-right: .25em;\r\n}\n\n.tc-tiny-gap-left {\r\n\tmargin-left: .25em;\r\n}\n\n.tc-tiny-gap-right {\r\n\tmargin-right: .25em;\r\n}\n\n.tc-small-gap {\r\n\tmargin-left: .5em;\r\n\tmargin-right: .5em;\r\n}\n\n.tc-small-gap-left {\r\n\tmargin-left: .5em;\r\n}\n\n.tc-small-gap-right {\r\n\tmargin-right: .5em;\r\n}\n\n.tc-big-gap {\r\n\tmargin-left: 1em;\r\n\tmargin-right: 1em;\r\n}\n\n.tc-big-gap-left {\r\n\tmargin-left: 1em;\r\n}\n\n.tc-big-gap-right {\r\n\tmargin-right: 1em;\r\n}\n\n.tc-word-break {\r\n\tword-break: break-all;\r\n}\n\nhtml[dir=\"rtl\"] .tc-tiny-gap-left {\r\n\tmargin-right: .25em;\r\n\tmargin-left: auto;\r\n}\n\nhtml[dir=\"rtl\"] .tc-tiny-gap-right {\r\n\tmargin-left: .25em;\r\n\tmargin-right: auto;\r\n}\n\nhtml[dir=\"rtl\"] .tc-small-gap-left {\r\n\tmargin-right: .5em;\r\n\tmargin-left: auto;\r\n}\n\nhtml[dir=\"rtl\"] .tc-small-gap-right {\r\n\tmargin-left: .5em;\r\n\tmargin-right: auto;\r\n}\n\nhtml[dir=\"rtl\"] .tc-big-gap-left {\r\n\tmargin-right: 1em;\r\n\tmargin-left: auto;\r\n}\n\nhtml[dir=\"rtl\"] .tc-big-gap-right {\r\n\tmargin-left: 1em;\r\n\tmargin-right: auto;\r\n}\n\n/* Vertical gaps */\n\n.tc-tiny-v-gap-bottom {\r\n\tmargin-bottom: 3px;\r\n}"},"$:/themes/tiddlywiki/vanilla/functions":{"title":"$:/themes/tiddlywiki/vanilla/functions","text":"\\function set.centralised() no\r\n\\function set.storywidth.storyright() [{$:/themes/tiddlywiki/vanilla/options/sidebarlayout}match[fixed-fluid]then[yes]] :else[[no]]\r\n\\function set.sidebarwidth() [{$:/themes/tiddlywiki/vanilla/options/sidebarlayout}match[fluid-fixed]then[yes]] :else[[no]]\n\n\\function get.story-sidebar.overlap() 42px\n\n\\function sidebar.resizer.maxwidth() 21px\r\n\\function sidebar.resizer.width() [<get.theme.option sidebarposition>!match[left]then[min(calc(]addsuffix<get.theme.metric storypaddingright>addsuffix[ / 2),]addsuffix<sidebar.resizer.maxwidth>addsuffix[)]] :else[[min(calc(]addsuffix<get.theme.metric storypaddingleft>addsuffix[ / 2),]addsuffix<sidebar.resizer.maxwidth>addsuffix[)]]"},"$:/themes/tiddlywiki/vanilla/metrics/previewsliderwidth":{"title":"$:/themes/tiddlywiki/vanilla/metrics/previewsliderwidth","text":"10px"},"$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint":{"title":"$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint","text":"960px"},"$:/themes/tiddlywiki/vanilla/metrics/sidebarminwidth":{"title":"$:/themes/tiddlywiki/vanilla/metrics/sidebarminwidth","text":"350px"},"$:/themes/tiddlywiki/vanilla/metrics/sidebarpadding":{"title":"$:/themes/tiddlywiki/vanilla/metrics/sidebarpadding","text":"42px"},"$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth":{"title":"$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth","text":"350px"},"$:/themes/tiddlywiki/vanilla/metrics/sliderchevroncontainerwidth":{"title":"$:/themes/tiddlywiki/vanilla/metrics/sliderchevroncontainerwidth","text":"10.5px"},"$:/themes/tiddlywiki/vanilla/metrics/sliderchevroncontainertransformx":{"title":"$:/themes/tiddlywiki/vanilla/metrics/sliderchevroncontainertransformx","text":"0px"},"$:/themes/tiddlywiki/vanilla/metrics/slideropacity":{"title":"$:/themes/tiddlywiki/vanilla/metrics/slideropacity","text":"0.5"},"$:/themes/tiddlywiki/vanilla/metrics/slideropacityhover":{"title":"$:/themes/tiddlywiki/vanilla/metrics/slideropacityhover","text":"1"},"$:/themes/tiddlywiki/vanilla/metrics/storypaddingleft":{"title":"$:/themes/tiddlywiki/vanilla/metrics/storypaddingleft","text":"42px"},"$:/themes/tiddlywiki/vanilla/metrics/storyminwidth":{"title":"$:/themes/tiddlywiki/vanilla/metrics/storyminwidth","text":"168px"},"$:/themes/tiddlywiki/vanilla/metrics/storypaddingright":{"title":"$:/themes/tiddlywiki/vanilla/metrics/storypaddingright","text":"42px"},"$:/themes/tiddlywiki/vanilla/options/sidebarclass":{"title":"$:/themes/tiddlywiki/vanilla/options/sidebarclass","text":"tc-sidebar-scrollable"},"$:/themes/tiddlywiki/vanilla/options/sidebarposition":{"title":"$:/themes/tiddlywiki/vanilla/options/sidebarposition","text":"right"},"$:/themes/tiddlywiki/vanilla/options/sidebarresizer":{"title":"$:/themes/tiddlywiki/vanilla/options/sidebarresizer","text":"show"},"$:/themes/tiddlywiki/vanilla/options/storyriverclass":{"title":"$:/themes/tiddlywiki/vanilla/options/storyriverclass","text":"tc-story-river"}}}